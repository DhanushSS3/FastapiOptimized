2025-06-25 05:48:53,429 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 05:48:53,438 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-25 05:48:53,475 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-25 05:48:53,479 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-25 05:48:54,028 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5239400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-358.1600000000000000000000000, PnL USD=-443.7121371672097027961198726, Commission=0.10000000, Final PnL=-443.8121371672097027961198726
2025-06-25 05:48:54,062 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-25 05:48:54,066 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-25 05:48:54,086 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-25 05:48:54,637 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89183000, Current=0.8920200000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.19000000000000000000000000, PnL USD=-0.1382542131152312483627790552, Commission=0.10000000, Final PnL=-0.2382542131152312483627790552
2025-06-25 05:48:54,639 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89200000, Current=0.8920200000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.02000000000000000000000000, PnL USD=-0.01455307506476118403818726897, Commission=0.10000000, Final PnL=-0.1145530750647611840381872690
2025-06-25 05:48:54,641 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-25 05:49:53,419 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 05:49:53,425 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-25 05:49:53,463 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-25 05:49:53,473 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-25 05:49:54,096 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5239400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-358.1600000000000000000000000, PnL USD=-443.7121371672097027961198726, Commission=0.10000000, Final PnL=-443.8121371672097027961198726
2025-06-25 05:49:54,125 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-25 05:49:54,131 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-25 05:49:54,161 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-25 05:49:54,806 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89183000, Current=0.8920200000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.19000000000000000000000000, PnL USD=-0.1382542131152312483627790552, Commission=0.10000000, Final PnL=-0.2382542131152312483627790552
2025-06-25 05:49:54,808 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89200000, Current=0.8920200000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.02000000000000000000000000, PnL USD=-0.01455307506476118403818726897, Commission=0.10000000, Final PnL=-0.1145530750647611840381872690
2025-06-25 05:49:54,813 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-25 05:50:53,426 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 05:50:53,439 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-25 05:50:53,467 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-25 05:50:53,471 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-25 05:50:54,140 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5239400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-358.1600000000000000000000000, PnL USD=-443.7121371672097027961198726, Commission=0.10000000, Final PnL=-443.8121371672097027961198726
2025-06-25 05:50:54,158 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-25 05:50:54,161 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-25 05:50:54,176 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-25 05:50:54,794 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89183000, Current=0.8920200000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.19000000000000000000000000, PnL USD=-0.1382542131152312483627790552, Commission=0.10000000, Final PnL=-0.2382542131152312483627790552
2025-06-25 05:50:54,796 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89200000, Current=0.8920200000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.02000000000000000000000000, PnL USD=-0.01455307506476118403818726897, Commission=0.10000000, Final PnL=-0.1145530750647611840381872690
2025-06-25 05:50:54,802 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-25 05:51:53,428 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 05:51:53,440 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-25 05:51:53,474 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-25 05:51:53,479 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-25 05:51:54,093 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5239400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-358.1600000000000000000000000, PnL USD=-443.7121371672097027961198726, Commission=0.10000000, Final PnL=-443.8121371672097027961198726
2025-06-25 05:51:54,126 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-25 05:51:54,134 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-25 05:51:54,170 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-25 05:51:54,825 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89183000, Current=0.8920200000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.19000000000000000000000000, PnL USD=-0.1382542131152312483627790552, Commission=0.10000000, Final PnL=-0.2382542131152312483627790552
2025-06-25 05:51:54,829 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89200000, Current=0.8920200000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.02000000000000000000000000, PnL USD=-0.01455307506476118403818726897, Commission=0.10000000, Final PnL=-0.1145530750647611840381872690
2025-06-25 05:51:54,833 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-25 05:52:53,417 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 05:52:53,428 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-25 05:52:53,467 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-25 05:52:53,474 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-25 05:52:54,142 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5239400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-358.1600000000000000000000000, PnL USD=-443.7121371672097027961198726, Commission=0.10000000, Final PnL=-443.8121371672097027961198726
2025-06-25 05:52:54,173 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-25 05:52:54,179 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-25 05:52:54,208 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-25 05:52:54,967 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89183000, Current=0.8920200000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.19000000000000000000000000, PnL USD=-0.1382542131152312483627790552, Commission=0.10000000, Final PnL=-0.2382542131152312483627790552
2025-06-25 05:52:54,970 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89200000, Current=0.8920200000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.02000000000000000000000000, PnL USD=-0.01455307506476118403818726897, Commission=0.10000000, Final PnL=-0.1145530750647611840381872690
2025-06-25 05:52:54,973 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-25 05:53:53,424 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 05:53:53,443 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-25 05:53:53,482 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-25 05:53:53,491 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-25 05:53:54,354 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5239400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-358.1600000000000000000000000, PnL USD=-443.7121371672097027961198726, Commission=0.10000000, Final PnL=-443.8121371672097027961198726
2025-06-25 05:53:54,395 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-25 05:53:54,403 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-25 05:53:54,436 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-25 05:53:55,174 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89183000, Current=0.8920200000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.19000000000000000000000000, PnL USD=-0.1382542131152312483627790552, Commission=0.10000000, Final PnL=-0.2382542131152312483627790552
2025-06-25 05:53:55,176 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89200000, Current=0.8920200000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.02000000000000000000000000, PnL USD=-0.01455307506476118403818726897, Commission=0.10000000, Final PnL=-0.1145530750647611840381872690
2025-06-25 05:53:55,181 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-25 05:54:53,425 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 05:54:53,450 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-25 05:54:53,507 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-25 05:54:53,518 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-25 05:54:54,257 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5239400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-358.1600000000000000000000000, PnL USD=-443.7121371672097027961198726, Commission=0.10000000, Final PnL=-443.8121371672097027961198726
2025-06-25 05:54:54,317 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-25 05:54:54,322 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-25 05:54:54,356 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-25 05:54:55,491 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89183000, Current=0.8920200000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.19000000000000000000000000, PnL USD=-0.1382542131152312483627790552, Commission=0.10000000, Final PnL=-0.2382542131152312483627790552
2025-06-25 05:54:55,494 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89200000, Current=0.8920200000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.02000000000000000000000000, PnL USD=-0.01455307506476118403818726897, Commission=0.10000000, Final PnL=-0.1145530750647611840381872690
2025-06-25 05:54:55,497 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-25 05:55:53,422 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 05:55:53,447 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-25 05:55:53,497 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-25 05:55:53,501 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-25 05:55:54,263 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5239400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-358.1600000000000000000000000, PnL USD=-443.7121371672097027961198726, Commission=0.10000000, Final PnL=-443.8121371672097027961198726
2025-06-25 05:55:54,297 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-25 05:55:54,304 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-25 05:55:54,334 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-25 05:55:55,082 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89183000, Current=0.8920200000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.19000000000000000000000000, PnL USD=-0.1382542131152312483627790552, Commission=0.10000000, Final PnL=-0.2382542131152312483627790552
2025-06-25 05:55:55,084 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89200000, Current=0.8920200000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.02000000000000000000000000, PnL USD=-0.01455307506476118403818726897, Commission=0.10000000, Final PnL=-0.1145530750647611840381872690
2025-06-25 05:55:55,088 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-25 05:56:53,424 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 05:56:53,438 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-25 05:56:53,497 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-25 05:56:53,507 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-25 05:56:54,289 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5239400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-358.1600000000000000000000000, PnL USD=-443.7121371672097027961198726, Commission=0.10000000, Final PnL=-443.8121371672097027961198726
2025-06-25 05:56:54,314 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-25 05:56:54,318 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-25 05:56:54,341 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-25 05:56:54,880 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89183000, Current=0.8920200000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.19000000000000000000000000, PnL USD=-0.1382542131152312483627790552, Commission=0.10000000, Final PnL=-0.2382542131152312483627790552
2025-06-25 05:56:54,881 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89200000, Current=0.8920200000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.02000000000000000000000000, PnL USD=-0.01455307506476118403818726897, Commission=0.10000000, Final PnL=-0.1145530750647611840381872690
2025-06-25 05:56:54,883 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-25 21:14:04,701 - INFO - app.core.config - .env file loaded successfully.
2025-06-25 21:14:04,707 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-25 21:14:04,707 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-25 21:14:05,373 - INFO - app.main - Application startup event triggered.
2025-06-25 21:14:05,406 - INFO - app.main - Firebase Admin SDK already initialized
2025-06-25 21:14:05,406 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-25 21:14:07,479 - WARNING - app.main - Redis connection failed - continuing without Redis: 503: Redis unavailable
2025-06-25 21:14:07,488 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-25 21:14:07,489 - INFO - app.main - Firebase events processor background task started
2025-06-25 21:14:07,489 - WARNING - app.main - Redis is not available - skipping Redis-dependent tasks
2025-06-25 21:14:07,489 - INFO - app.main - Generating initial service account token...
2025-06-25 21:14:07,489 - INFO - app.main - APScheduler: Starting rotate_service_account_jwt job...
2025-06-25 21:14:08,812 - INFO - app.main - SUCCESS: Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-06-25 21:14:08,815 - INFO - app.main - APScheduler: Finished rotate_service_account_jwt job successfully.
2025-06-25 21:14:08,815 - INFO - app.main - Application startup event finished.
2025-06-25 21:14:08,815 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-25 21:14:08,816 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-25 21:14:09,439 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-25 21:14:25,235 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 93, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 371, in get_user_from_service_or_user_token
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 98, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 424, in get_user_from_service_or_user_token
    raise HTTPException(
    ...<3 lines>...
    )
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-25 21:14:25,248 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 93, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 371, in get_user_from_service_or_user_token
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 98, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 424, in get_user_from_service_or_user_token
    raise HTTPException(
    ...<3 lines>...
    )
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-25 21:14:25,319 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 93, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 281, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 98, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 326, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-25 21:14:25,355 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 93, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 281, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 98, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 326, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-25 21:14:28,906 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-25 21:14:31,121 - ERROR - app.database.session - Database session error: 503: Redis unavailable
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\dependencies\redis_client.py", line 18, in get_redis_client
    raise HTTPException(status_code=status.HTTP_503_SERVICE_UNAVAILABLE, detail="Redis unavailable")
fastapi.exceptions.HTTPException: 503: Redis unavailable
2025-06-25 21:14:59,117 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-25 21:15:03,139 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-25 21:15:03,192 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-25 21:15:03,289 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-25 21:15:03,342 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-25 21:15:03,469 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-25 21:15:03,530 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-25 21:15:03,778 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-25 21:15:03,890 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-25 21:15:03,958 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-25 21:15:04,023 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-25 21:15:04,079 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-25 21:15:04,139 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-25 21:15:04,210 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-25 21:15:04,262 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-25 21:15:04,319 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-25 21:15:04,377 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-25 21:15:04,442 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-25 21:15:04,478 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-25 21:15:04,534 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-25 21:15:04,573 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-25 21:15:04,633 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-25 21:15:04,694 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-25 21:15:04,736 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-25 21:15:04,776 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-25 21:15:04,822 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-25 21:15:04,877 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-25 21:15:04,902 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-25 21:15:04,931 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-25 21:15:04,945 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-25 21:15:04,962 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-25 21:15:04,987 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-25 21:15:05,015 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-25 21:15:05,037 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-25 21:15:05,071 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-25 21:15:05,103 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-25 21:15:05,119 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-25 21:15:05,153 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-25 21:15:05,210 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-25 21:15:05,222 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-25 21:15:05,251 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-25 21:15:05,270 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-25 21:15:05,308 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-25 21:15:05,331 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-25 21:15:05,372 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-25 21:15:05,425 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-25 21:15:05,450 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-25 21:15:05,518 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-25 21:15:05,659 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-25 21:15:05,668 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-25 21:15:05,721 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-25 21:15:05,743 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-25 21:15:05,772 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-25 21:15:05,802 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-25 21:15:05,826 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-25 21:15:05,863 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-25 21:15:05,887 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-25 21:15:05,909 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-25 21:15:05,929 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-25 21:15:05,962 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-25 21:15:05,981 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-25 21:15:05,996 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-25 21:15:06,017 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-25 21:15:06,047 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-25 21:15:06,064 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-25 21:15:06,098 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-25 21:15:06,136 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-25 21:15:06,147 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-25 21:15:06,172 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-25 21:15:06,192 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-25 21:15:06,211 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-25 21:15:06,230 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-25 21:15:06,250 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-25 21:15:06,269 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-25 21:15:06,287 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-25 21:15:06,320 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-25 21:15:06,344 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-25 21:15:06,370 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-25 21:15:06,395 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-25 21:15:06,422 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-25 21:15:07,497 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 21:15:07,497 - ERROR - app.main - Cannot update dynamic portfolios - Redis client not available
2025-06-25 21:16:07,496 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 21:16:07,496 - ERROR - app.main - Cannot update dynamic portfolios - Redis client not available
2025-06-25 21:16:16,023 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-25 21:16:16,068 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-25 21:16:16,147 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-25 21:16:16,185 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-25 21:16:16,217 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-25 21:16:16,256 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-25 21:16:16,279 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-25 21:16:16,306 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-25 21:16:16,338 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-25 21:16:16,359 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-25 21:16:16,410 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-25 21:16:16,437 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-25 21:16:16,489 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-25 21:16:16,518 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-25 21:16:16,553 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-25 21:16:16,588 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-25 21:16:16,653 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-25 21:16:16,705 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-25 21:16:16,726 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-25 21:16:16,825 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-25 21:16:16,942 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-25 21:16:16,997 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-25 21:16:17,025 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-25 21:16:17,045 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-25 21:16:17,066 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-25 21:16:17,084 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-25 21:16:17,121 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-25 21:16:17,147 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-25 21:16:17,181 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-25 21:16:17,209 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-25 21:16:17,235 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-25 21:16:17,261 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-25 21:16:17,278 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-25 21:16:17,311 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-25 21:16:17,354 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-25 21:16:17,370 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-25 21:16:17,398 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-25 21:16:17,436 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-25 21:16:17,498 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-25 21:16:17,530 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-25 21:16:17,601 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-25 21:16:17,632 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-25 21:16:17,664 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-25 21:16:17,697 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-25 21:16:17,728 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-25 21:16:17,776 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-25 21:16:17,807 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-25 21:16:17,833 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-25 21:16:17,903 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-25 21:16:17,926 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-25 21:16:17,955 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-25 21:16:17,999 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-25 21:16:18,014 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-25 21:16:18,045 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-25 21:16:18,074 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-25 21:16:18,132 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-25 21:16:18,150 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-25 21:16:18,169 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-25 21:16:18,187 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-25 21:16:18,214 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-25 21:16:18,234 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-25 21:16:18,276 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-25 21:16:18,290 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-25 21:16:18,323 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-25 21:16:18,356 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-25 21:16:18,439 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-25 21:16:18,452 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-25 21:16:18,469 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-25 21:16:18,486 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-25 21:16:18,515 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-25 21:16:18,536 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-25 21:16:18,560 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-25 21:16:18,597 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-25 21:16:18,613 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-25 21:16:18,639 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-25 21:16:18,663 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-25 21:16:18,686 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-25 21:16:18,706 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-25 21:16:18,726 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-25 21:17:07,490 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 21:17:07,490 - ERROR - app.main - Cannot update dynamic portfolios - Redis client not available
2025-06-25 21:17:42,199 - INFO - app.main - Application shutdown event triggered.
2025-06-25 21:17:42,199 - INFO - app.main - APScheduler shut down gracefully.
2025-06-25 21:17:42,199 - INFO - app.main - Cancelling 1 other background tasks...
2025-06-25 21:17:42,201 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-25 21:17:43,708 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-25 21:17:43,709 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-25 21:17:43,709 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-25 21:17:43,709 - WARNING - app.main - Redis client was not initialized or already closed.
2025-06-25 21:17:43,709 - INFO - app.main - Application shutdown event finished.
2025-06-25 21:17:50,988 - INFO - app.core.config - .env file loaded successfully.
2025-06-25 21:17:50,994 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-25 21:17:50,994 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-25 21:17:51,841 - INFO - app.main - Application startup event triggered.
2025-06-25 21:17:51,872 - INFO - app.main - Firebase Admin SDK already initialized
2025-06-25 21:17:51,872 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-25 21:17:51,888 - INFO - app.main - Redis connection pool initialized successfully
2025-06-25 21:17:51,897 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-25 21:17:51,897 - INFO - app.main - Firebase events processor background task started
2025-06-25 21:17:51,897 - INFO - app.main - Redis publisher background task started
2025-06-25 21:17:51,897 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-25 21:17:51,897 - INFO - app.main - Generating initial service account token...
2025-06-25 21:17:51,897 - INFO - app.main - APScheduler: Starting rotate_service_account_jwt job...
2025-06-25 21:17:53,054 - INFO - app.main - SUCCESS: Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-06-25 21:17:53,056 - INFO - app.main - APScheduler: Finished rotate_service_account_jwt job successfully.
2025-06-25 21:17:53,056 - INFO - app.main - Application startup event finished.
2025-06-25 21:17:53,056 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-25 21:17:53,057 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-25 21:17:53,762 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-25 21:18:08,251 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-25 21:18:08,271 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-25 21:18:08,304 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-25 21:18:08,321 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-25 21:18:08,342 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-25 21:18:08,352 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-25 21:18:08,362 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-25 21:18:08,372 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-25 21:18:08,382 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-25 21:18:08,394 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-25 21:18:08,407 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-25 21:18:08,421 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-25 21:18:08,431 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-25 21:18:08,442 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-25 21:18:08,451 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-25 21:18:08,460 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-25 21:18:08,467 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-25 21:18:08,477 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-25 21:18:08,488 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-25 21:18:08,499 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-25 21:18:08,509 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-25 21:18:08,522 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-25 21:18:08,532 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-25 21:18:08,541 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-25 21:18:08,551 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-25 21:18:08,561 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-25 21:18:08,576 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-25 21:18:08,589 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-25 21:18:08,601 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-25 21:18:08,614 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-25 21:18:08,624 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-25 21:18:08,634 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-25 21:18:08,645 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-25 21:18:08,655 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-25 21:18:08,664 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-25 21:18:08,673 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-25 21:18:08,681 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-25 21:18:08,691 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-25 21:18:08,703 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-25 21:18:08,712 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-25 21:18:08,723 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-25 21:18:08,733 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-25 21:18:08,744 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-25 21:18:08,754 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-25 21:18:08,762 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-25 21:18:08,773 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-25 21:18:08,782 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-25 21:18:08,790 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-25 21:18:08,801 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-25 21:18:08,810 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-25 21:18:08,818 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-25 21:18:08,828 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-25 21:18:08,837 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-25 21:18:08,846 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-25 21:18:08,859 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-25 21:18:08,870 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-25 21:18:08,888 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-25 21:18:08,906 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-25 21:18:08,928 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-25 21:18:08,950 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-25 21:18:08,969 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-25 21:18:08,979 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-25 21:18:08,990 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-25 21:18:09,000 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-25 21:18:09,008 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-25 21:18:09,021 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-25 21:18:09,030 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-25 21:18:09,041 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-25 21:18:09,057 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-25 21:18:09,069 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-25 21:18:09,086 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-25 21:18:09,101 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-25 21:18:09,116 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-25 21:18:09,130 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-25 21:18:09,146 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-25 21:18:09,160 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-25 21:18:09,177 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-25 21:18:09,187 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-25 21:18:09,197 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-25 21:18:12,513 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-25 21:18:12,513 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-25 21:18:14,817 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-25 21:18:14,817 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-25 21:18:17,904 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-25 21:18:17,905 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-25 21:18:19,445 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89183000, Current=0.895, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-3.170000000000000000000000, PnL USD=-2.310259886017461775037532613, Commission=0.10000000, Final PnL=-2.410259886017461775037532613
2025-06-25 21:18:19,449 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89200000, Current=0.895, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-3.000000000000000000000000, PnL USD=-2.186365822729459093095456732, Commission=0.10000000, Final PnL=-2.286365822729459093095456732
2025-06-25 21:18:21,889 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89183000, Current=0.89507, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-3.240000000000000000000000, PnL USD=-2.361275088547815820543093270, Commission=0.10000000, Final PnL=-2.461275088547815820543093270
2025-06-25 21:18:21,891 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89200000, Current=0.89507, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-3.070000000000000000000000, PnL USD=-2.237381025259813138601017389, Commission=0.10000000, Final PnL=-2.337381025259813138601017389
2025-06-25 21:18:23,993 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-25 21:18:23,993 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-25 21:18:26,494 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89183000, Current=0.89508, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-3.250000000000000000000000, PnL USD=-2.368562974623580684186744793, Commission=0.10000000, Final PnL=-2.468562974623580684186744793
2025-06-25 21:18:26,498 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89200000, Current=0.89508, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-3.080000000000000000000000, PnL USD=-2.244668911335578002244668911, Commission=0.10000000, Final PnL=-2.344668911335578002244668911
2025-06-25 21:18:29,525 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89200000, Current=0.89509, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-3.090000000000000000000000, PnL USD=-2.251907562474037473490893985, Commission=0.10000000, Final PnL=-2.351907562474037473490893985
2025-06-25 21:18:30,173 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-25 21:18:31,876 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89200000, Current=0.89502, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-3.020000000000000000000000, PnL USD=-2.200893475298250216809870497, Commission=0.10000000, Final PnL=-2.300893475298250216809870497
2025-06-25 21:18:33,378 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89200000, Current=0.89504, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-3.040000000000000000000000, PnL USD=-2.215468928777046575861591494, Commission=0.10000000, Final PnL=-2.315468928777046575861591494
2025-06-25 21:18:51,899 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 21:18:51,941 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-25 21:18:52,020 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-25 21:18:52,031 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-25 21:18:52,854 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5241100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-357.9900000000000000000000000, PnL USD=-445.3775239801440674803120218, Commission=0.10000000, Final PnL=-445.4775239801440674803120218
2025-06-25 21:18:52,885 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-25 21:18:52,902 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-25 21:18:52,954 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-25 21:18:53,007 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-25 21:19:51,897 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 21:19:51,910 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-25 21:19:51,937 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-25 21:19:51,943 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-25 21:19:52,553 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5241300000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-357.9700000000000000000000000, PnL USD=-445.2806249378047566922081799, Commission=0.10000000, Final PnL=-445.3806249378047566922081799
2025-06-25 21:19:52,580 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-25 21:19:52,590 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-25 21:19:52,625 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-25 21:19:52,944 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-25 21:20:51,897 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 21:20:51,917 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-25 21:20:51,988 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-25 21:20:51,998 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-25 21:20:52,662 - WARNING - app.core.cache - No cached adjusted sell price found for key: adjusted_market_price:default:AUDJPY
2025-06-25 21:20:52,662 - WARNING - app.core.cache - Fallback: Using raw Firebase 'b' price for AUDJPY
2025-06-25 21:20:53,309 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:20:53,624 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5241300000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-357.9700000000000000000000000, PnL USD=-445.3027815096780614021993332, Commission=0.10000000, Final PnL=-445.4027815096780614021993332
2025-06-25 21:20:53,719 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-25 21:20:53,752 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-25 21:20:53,818 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-25 21:20:53,900 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-25 21:20:54,810 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.573, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-50.000000000000000000000000, PnL USD=-0.3450893781489405756090827524, Commission=0.10000000, Final PnL=-0.4450893781489405756090827524
2025-06-25 21:20:56,964 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.572, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3381875905859617640969010974, Commission=0.10000000, Final PnL=-0.4381875905859617640969010974
2025-06-25 21:20:58,592 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.574, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-51.000000000000000000000000, PnL USD=-0.3519935950969362753556170586, Commission=0.10000000, Final PnL=-0.4519935950969362753556170586
2025-06-25 21:20:59,850 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.572, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3381899247009779900475536445, Commission=0.10000000, Final PnL=-0.4381899247009779900475536445
2025-06-25 21:21:03,287 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.574, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-51.000000000000000000000000, PnL USD=-0.3519911657119193871212644075, Commission=0.10000000, Final PnL=-0.4519911657119193871212644075
2025-06-25 21:21:04,846 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.572, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3381875905859617640969010974, Commission=0.10000000, Final PnL=-0.4381875905859617640969010974
2025-06-25 21:21:07,098 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.571, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-48.000000000000000000000000, PnL USD=-0.3312880895029988473935219375, Commission=0.10000000, Final PnL=-0.4312880895029988473935219375
2025-06-25 21:21:09,474 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.569, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-46.000000000000000000000000, PnL USD=-0.3174909929185704622944936019, Commission=0.10000000, Final PnL=-0.4174909929185704622944936019
2025-06-25 21:21:12,118 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.575, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-52.000000000000000000000000, PnL USD=-0.3588805686876703820007591704, Commission=0.10000000, Final PnL=-0.4588805686876703820007591704
2025-06-25 21:21:14,269 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.575, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-52.000000000000000000000000, PnL USD=-0.3588830455367372009883086946, Commission=0.10000000, Final PnL=-0.4588830455367372009883086946
2025-06-25 21:21:16,794 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:21:18,566 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.563, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-40.000000000000000000000000, PnL USD=-0.2760657864769174494281987398, Commission=0.10000000, Final PnL=-0.3760657864769174494281987398
2025-06-25 21:21:20,416 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.575, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-52.000000000000000000000000, PnL USD=-0.3588855224199926842566583617, Commission=0.10000000, Final PnL=-0.4588855224199926842566583617
2025-06-25 21:21:22,987 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:21:25,028 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.575, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-52.000000000000000000000000, PnL USD=-0.3588855224199926842566583617, Commission=0.10000000, Final PnL=-0.4588855224199926842566583617
2025-06-25 21:21:27,166 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:21:29,336 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:21:31,783 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:21:34,095 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.563, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-40.000000000000000000000000, PnL USD=-0.2760657864769174494281987398, Commission=0.10000000, Final PnL=-0.3760657864769174494281987398
2025-06-25 21:21:36,681 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.574, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-51.000000000000000000000000, PnL USD=-0.3519838777580697480209533932, Commission=0.10000000, Final PnL=-0.4519838777580697480209533932
2025-06-25 21:21:38,569 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:21:40,918 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.564, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-41.000000000000000000000000, PnL USD=-0.2829615724381625441696113074, Commission=0.10000000, Final PnL=-0.3829615724381625441696113074
2025-06-25 21:21:43,247 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.574, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-51.000000000000000000000000, PnL USD=-0.3519790192898305669622830325, Commission=0.10000000, Final PnL=-0.4519790192898305669622830325
2025-06-25 21:21:45,499 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.575, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-52.000000000000000000000000, PnL USD=-0.3588830455367372009883086946, Commission=0.10000000, Final PnL=-0.4588830455367372009883086946
2025-06-25 21:21:48,364 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:21:50,120 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:21:51,897 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 21:21:51,908 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-25 21:21:51,952 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-25 21:21:51,960 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-25 21:21:52,358 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.573, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-50.000000000000000000000000, PnL USD=-0.3450798514776319240272198987, Commission=0.10000000, Final PnL=-0.4450798514776319240272198987
2025-06-25 21:21:52,979 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5241600000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-357.9400000000000000000000000, PnL USD=-445.2543848737405149894265456, Commission=0.10000000, Final PnL=-445.3543848737405149894265456
2025-06-25 21:21:53,021 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-25 21:21:53,030 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-25 21:21:53,061 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-25 21:21:53,761 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.5730000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-50.00000000000000000000000000, PnL USD=-0.3450798514776319240272198987, Commission=0.10000000, Final PnL=-0.4450798514776319240272198987
2025-06-25 21:21:53,763 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-25 21:21:54,697 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.575, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-52.000000000000000000000000, PnL USD=-0.3588830455367372009883086946, Commission=0.10000000, Final PnL=-0.4588830455367372009883086946
2025-06-25 21:21:57,022 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:21:59,198 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:22:01,507 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.572, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3381782544480792855466755007, Commission=0.10000000, Final PnL=-0.4381782544480792855466755007
2025-06-25 21:22:04,547 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.577, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-54.000000000000000000000000, PnL USD=-0.3726862395958424779493974906, Commission=0.10000000, Final PnL=-0.4726862395958424779493974906
2025-06-25 21:22:07,072 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.577, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-54.000000000000000000000000, PnL USD=-0.3726913839273389835187587997, Commission=0.10000000, Final PnL=-0.4726913839273389835187587997
2025-06-25 21:22:09,053 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:22:12,388 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.581, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-58.000000000000000000000000, PnL USD=-0.4002981531071418711868150070, Commission=0.10000000, Final PnL=-0.5002981531071418711868150070
2025-06-25 21:22:14,551 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.581, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-58.000000000000000000000000, PnL USD=-0.4003009158608885299984125998, Commission=0.10000000, Final PnL=-0.5003009158608885299984125998
2025-06-25 21:22:15,408 - WARNING - app.core.cache - No cached adjusted buy price found for key: adjusted_market_price:default:AUDJPY
2025-06-25 21:22:15,408 - WARNING - app.core.cache - Fallback: Using raw Firebase 'o' price for AUDJPY
2025-06-25 21:22:15,909 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:22:15,909 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:22:17,446 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.57, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-47.000000000000000000000000, PnL USD=-0.3243705830388692579505300353, Commission=0.10000000, Final PnL=-0.4243705830388692579505300353
2025-06-25 21:22:17,449 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51200000, Current=94.462, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-50.000000000000000000000000, PnL USD=-0.3450750883392226148409893993, Commission=0.10000000, Final PnL=-0.4450750883392226148409893993
2025-06-25 21:22:19,840 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.581, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-58.000000000000000000000000, PnL USD=-0.4002981531071418711868150070, Commission=0.10000000, Final PnL=-0.5002981531071418711868150070
2025-06-25 21:22:19,844 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51200000, Current=94.471, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-41.000000000000000000000000, PnL USD=-0.2829693840929795985975761257, Commission=0.10000000, Final PnL=-0.3829693840929795985975761257
2025-06-25 21:22:21,578 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.575, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-52.000000000000000000000000, PnL USD=-0.3588929532748981986334460625, Commission=0.10000000, Final PnL=-0.4588929532748981986334460625
2025-06-25 21:22:21,581 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51200000, Current=94.468, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-44.000000000000000000000000, PnL USD=-0.3036786527710677065359928221, Commission=0.10000000, Final PnL=-0.4036786527710677065359928221
2025-06-25 21:22:23,568 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:22:23,568 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:22:25,203 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.579, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-56.000000000000000000000000, PnL USD=-0.3865001035268134446821726827, Commission=0.10000000, Final PnL=-0.4865001035268134446821726827
2025-06-25 21:22:25,206 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51200000, Current=94.472, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-40.000000000000000000000000, PnL USD=-0.2760715025191524604872662019, Commission=0.10000000, Final PnL=-0.3760715025191524604872662019
2025-06-25 21:22:28,986 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.579, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-56.000000000000000000000000, PnL USD=-0.3865027710868319886257755937, Commission=0.10000000, Final PnL=-0.4865027710868319886257755937
2025-06-25 21:22:28,992 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51200000, Current=94.47, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-42.000000000000000000000000, PnL USD=-0.2898770783151239914693316953, Commission=0.10000000, Final PnL=-0.3898770783151239914693316953
2025-06-25 21:22:30,799 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.58, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-57.000000000000000000000000, PnL USD=-0.3934100367872894048465355760, Commission=0.10000000, Final PnL=-0.4934100367872894048465355760
2025-06-25 21:22:30,801 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51200000, Current=94.47, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-42.000000000000000000000000, PnL USD=-0.2898810797380027193606051613, Commission=0.10000000, Final PnL=-0.3898810797380027193606051613
2025-06-25 21:22:32,536 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:22:32,536 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:22:34,951 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:22:34,951 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:22:37,389 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.579, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-56.000000000000000000000000, PnL USD=-0.3865081063173369591474735484, Commission=0.10000000, Final PnL=-0.4865081063173369591474735484
2025-06-25 21:22:37,391 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51200000, Current=94.471, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-41.000000000000000000000000, PnL USD=-0.2829791492680502736615431336, Commission=0.10000000, Final PnL=-0.3829791492680502736615431336
2025-06-25 21:22:39,218 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.575, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-52.000000000000000000000000, PnL USD=-0.3589003844375271763512254378, Commission=0.10000000, Final PnL=-0.4589003844375271763512254378
2025-06-25 21:22:39,222 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51200000, Current=94.468, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-44.000000000000000000000000, PnL USD=-0.3036849406779076107587292166, Commission=0.10000000, Final PnL=-0.4036849406779076107587292166
2025-06-25 21:22:41,661 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:22:41,662 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:22:44,697 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:22:44,697 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:22:46,247 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:22:46,247 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:22:48,821 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:22:48,821 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:22:51,066 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.576, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-53.000000000000000000000000, PnL USD=-0.3658023149074796220502874654, Commission=0.10000000, Final PnL=-0.4658023149074796220502874654
2025-06-25 21:22:51,068 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51200000, Current=94.468, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-44.000000000000000000000000, PnL USD=-0.3036849406779076107587292166, Commission=0.10000000, Final PnL=-0.4036849406779076107587292166
2025-06-25 21:22:51,898 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 21:22:51,952 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-25 21:22:52,046 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-25 21:22:52,069 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-25 21:22:53,185 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.576, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-53.000000000000000000000000, PnL USD=-0.3658073644614694412810159782, Commission=0.10000000, Final PnL=-0.4658073644614694412810159782
2025-06-25 21:22:53,188 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51200000, Current=94.469, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-43.000000000000000000000000, PnL USD=-0.2967871070159091693412016427, Commission=0.10000000, Final PnL=-0.3967871070159091693412016427
2025-06-25 21:22:53,623 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5241600000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-357.9400000000000000000000000, PnL USD=-445.2710015300981501984151666, Commission=0.10000000, Final PnL=-445.3710015300981501984151666
2025-06-25 21:22:53,677 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-25 21:22:53,690 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-25 21:22:53,747 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-25 21:22:54,267 - WARNING - app.core.cache - No cached adjusted buy price found for key: adjusted_market_price:default:AUDJPY
2025-06-25 21:22:54,267 - WARNING - app.core.cache - Fallback: Using raw Firebase 'o' price for AUDJPY
2025-06-25 21:22:54,822 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.5740000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-51.00000000000000000000000000, PnL USD=-0.3520033129723573868930531111, Commission=0.10000000, Final PnL=-0.4520033129723573868930531111
2025-06-25 21:22:54,823 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51200000, Current=94.4660000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-46.00000000000000000000000000, PnL USD=-0.3174931842495772509231459433, Commission=0.10000000, Final PnL=-0.4174931842495772509231459433
2025-06-25 21:22:54,826 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-25 21:22:55,239 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:22:55,239 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:22:55,239 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:22:56,326 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.574, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-51.000000000000000000000000, PnL USD=-0.3519790192898305669622830325, Commission=0.10000000, Final PnL=-0.4519790192898305669622830325
2025-06-25 21:22:56,329 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51200000, Current=94.466, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-46.000000000000000000000000, PnL USD=-0.3174712723006314917699023431, Commission=0.10000000, Final PnL=-0.4174712723006314917699023431
2025-06-25 21:22:56,331 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51600000, Current=94.466, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-50.000000000000000000000000, PnL USD=-0.3450774698919907519238068946, Commission=0.10000000, Final PnL=-0.4450774698919907519238068946
2025-06-25 21:22:58,527 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.575, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-52.000000000000000000000000, PnL USD=-0.3589053387169134140870345446, Commission=0.10000000, Final PnL=-0.4589053387169134140870345446
2025-06-25 21:22:58,531 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51200000, Current=94.466, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-46.000000000000000000000000, PnL USD=-0.3174931842495772509231459433, Commission=0.10000000, Final PnL=-0.4174931842495772509231459433
2025-06-25 21:22:58,533 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51600000, Current=94.466, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-50.000000000000000000000000, PnL USD=-0.3451012872278013596990716775, Commission=0.10000000, Final PnL=-0.4451012872278013596990716775
2025-06-25 21:23:00,251 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.577, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-54.000000000000000000000000, PnL USD=-0.3727093902060254684749974117, Commission=0.10000000, Final PnL=-0.4727093902060254684749974117
2025-06-25 21:23:00,255 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51200000, Current=94.468, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-44.000000000000000000000000, PnL USD=-0.3036891327604651965351830762, Commission=0.10000000, Final PnL=-0.4036891327604651965351830762
2025-06-25 21:23:00,257 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51600000, Current=94.468, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-48.000000000000000000000000, PnL USD=-0.3312972357386893053111088104, Commission=0.10000000, Final PnL=-0.4312972357386893053111088104
2025-06-25 21:23:02,308 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.578, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-55.000000000000000000000000, PnL USD=-0.3796114159505814956689788453, Commission=0.10000000, Final PnL=-0.4796114159505814956689788453
2025-06-25 21:23:02,311 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51200000, Current=94.469, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-43.000000000000000000000000, PnL USD=-0.2967871070159091693412016427, Commission=0.10000000, Final PnL=-0.3967871070159091693412016427
2025-06-25 21:23:02,315 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51600000, Current=94.469, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-47.000000000000000000000000, PnL USD=-0.3243952099941332781171273769, Commission=0.10000000, Final PnL=-0.4243952099941332781171273769
2025-06-25 21:23:04,961 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.575, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-52.000000000000000000000000, PnL USD=-0.3589053387169134140870345446, Commission=0.10000000, Final PnL=-0.4589053387169134140870345446
2025-06-25 21:23:04,977 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51200000, Current=94.467, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-45.000000000000000000000000, PnL USD=-0.3105911585050212237291645098, Commission=0.10000000, Final PnL=-0.4105911585050212237291645098
2025-06-25 21:23:04,979 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51600000, Current=94.467, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3381992614832453325050902440, Commission=0.10000000, Final PnL=-0.4381992614832453325050902440
2025-06-25 21:23:06,802 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:23:06,802 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:23:06,802 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:23:08,746 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:23:08,746 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:23:08,746 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:23:11,207 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.577, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-54.000000000000000000000000, PnL USD=-0.3727093902060254684749974117, Commission=0.10000000, Final PnL=-0.4727093902060254684749974117
2025-06-25 21:23:11,209 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51200000, Current=94.468, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-44.000000000000000000000000, PnL USD=-0.3036891327604651965351830762, Commission=0.10000000, Final PnL=-0.4036891327604651965351830762
2025-06-25 21:23:11,211 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51600000, Current=94.468, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-48.000000000000000000000000, PnL USD=-0.3312972357386893053111088104, Commission=0.10000000, Final PnL=-0.4312972357386893053111088104
2025-06-25 21:23:14,291 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.576, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-53.000000000000000000000000, PnL USD=-0.3658073644614694412810159782, Commission=0.10000000, Final PnL=-0.4658073644614694412810159782
2025-06-25 21:23:14,306 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51200000, Current=94.467, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-45.000000000000000000000000, PnL USD=-0.3105911585050212237291645098, Commission=0.10000000, Final PnL=-0.4105911585050212237291645098
2025-06-25 21:23:14,315 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51600000, Current=94.467, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3381992614832453325050902440, Commission=0.10000000, Final PnL=-0.4381992614832453325050902440
2025-06-25 21:23:15,206 - INFO - app.main - Application shutdown event triggered.
2025-06-25 21:23:15,207 - INFO - app.main - APScheduler shut down gracefully.
2025-06-25 21:23:15,207 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-25 21:23:15,209 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-25 21:23:16,426 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-25 21:23:16,426 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-25 21:23:16,426 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-25 21:23:16,426 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-25 21:23:16,428 - INFO - app.main - Redis client connection closed.
2025-06-25 21:23:16,428 - INFO - app.main - Application shutdown event finished.
2025-06-25 21:31:35,824 - INFO - app.core.config - .env file loaded successfully.
2025-06-25 21:31:35,831 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-25 21:31:35,831 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-25 21:31:36,616 - INFO - app.main - Application startup event triggered.
2025-06-25 21:31:36,648 - INFO - app.main - Firebase Admin SDK already initialized
2025-06-25 21:31:36,649 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-25 21:31:36,667 - INFO - app.main - Redis connection pool initialized successfully
2025-06-25 21:31:36,676 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-25 21:31:36,676 - INFO - app.main - Firebase events processor background task started
2025-06-25 21:31:36,676 - INFO - app.main - Redis publisher background task started
2025-06-25 21:31:36,676 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-25 21:31:36,676 - INFO - app.main - Generating initial service account token...
2025-06-25 21:31:36,676 - INFO - app.main - APScheduler: Starting rotate_service_account_jwt job...
2025-06-25 21:31:37,790 - INFO - app.main - SUCCESS: Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-06-25 21:31:37,791 - INFO - app.main - APScheduler: Finished rotate_service_account_jwt job successfully.
2025-06-25 21:31:37,792 - INFO - app.main - Application startup event finished.
2025-06-25 21:31:37,792 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-25 21:31:37,793 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-25 21:31:38,410 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-25 21:31:38,768 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-25 21:31:38,781 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-25 21:31:38,794 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-25 21:31:38,803 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-25 21:31:38,819 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-25 21:31:38,829 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-25 21:31:38,837 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-25 21:31:38,846 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-25 21:31:38,855 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-25 21:31:38,863 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-25 21:31:38,872 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-25 21:31:38,882 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-25 21:31:38,891 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-25 21:31:38,900 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-25 21:31:38,907 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-25 21:31:38,915 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-25 21:31:38,926 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-25 21:31:38,934 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-25 21:31:38,943 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-25 21:31:38,951 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-25 21:31:38,959 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-25 21:31:38,968 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-25 21:31:38,976 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-25 21:31:38,984 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-25 21:31:38,994 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-25 21:31:39,002 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-25 21:31:39,009 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-25 21:31:39,016 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-25 21:31:39,023 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-25 21:31:39,031 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-25 21:31:39,039 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-25 21:31:39,047 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-25 21:31:39,055 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-25 21:31:39,063 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-25 21:31:39,072 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-25 21:31:39,082 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-25 21:31:39,092 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-25 21:31:39,101 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-25 21:31:39,112 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-25 21:31:39,120 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-25 21:31:39,128 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-25 21:31:39,135 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-25 21:31:39,143 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-25 21:31:39,152 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-25 21:31:39,161 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-25 21:31:39,168 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-25 21:31:39,176 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-25 21:31:39,183 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-25 21:31:39,190 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-25 21:31:39,198 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-25 21:31:39,206 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-25 21:31:39,215 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-25 21:31:39,223 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-25 21:31:39,231 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-25 21:31:39,239 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-25 21:31:39,246 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-25 21:31:39,253 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-25 21:31:39,261 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-25 21:31:39,270 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-25 21:31:39,278 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-25 21:31:39,288 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-25 21:31:39,295 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-25 21:31:39,302 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-25 21:31:39,310 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-25 21:31:39,324 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-25 21:31:39,335 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-25 21:31:39,343 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-25 21:31:39,351 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-25 21:31:39,361 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-25 21:31:39,370 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-25 21:31:39,379 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-25 21:31:39,388 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-25 21:31:39,399 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-25 21:31:39,408 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-25 21:31:39,418 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-25 21:31:39,425 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-25 21:31:39,432 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-25 21:31:39,440 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-25 21:31:39,447 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-25 21:31:42,075 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:31:42,076 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:31:42,076 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:31:43,825 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.557, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-34.000000000000000000000000, PnL USD=-0.2347660970136371482824098049, Commission=0.10000000, Final PnL=-0.3347660970136371482824098049
2025-06-25 21:31:43,834 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51200000, Current=94.45, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-62.000000000000000000000000, PnL USD=-0.4281028827895736233385119972, Commission=0.10000000, Final PnL=-0.5281028827895736233385119972
2025-06-25 21:31:43,836 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51600000, Current=94.45, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-66.000000000000000000000000, PnL USD=-0.4557224236147074054893837390, Commission=0.10000000, Final PnL=-0.5557224236147074054893837390
2025-06-25 21:31:46,612 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.52300000, Current=94.558, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-35.000000000000000000000000, PnL USD=-0.2416726509418328453847428603, Commission=0.10000000, Final PnL=-0.3416726509418328453847428603
2025-06-25 21:31:46,614 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51200000, Current=94.451, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-61.000000000000000000000000, PnL USD=-0.4212009059271943876705518422, Commission=0.10000000, Final PnL=-0.5212009059271943876705518422
2025-06-25 21:31:46,618 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51600000, Current=94.451, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-65.000000000000000000000000, PnL USD=-0.4488206374634038557145224548, Commission=0.10000000, Final PnL=-0.5488206374634038557145224548
2025-06-25 21:31:49,618 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51200000, Current=94.449, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-63.000000000000000000000000, PnL USD=-0.4350077679958570688762299327, Commission=0.10000000, Final PnL=-0.5350077679958570688762299327
2025-06-25 21:31:49,620 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51600000, Current=94.449, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-67.000000000000000000000000, PnL USD=-0.4626273088209908510271016744, Commission=0.10000000, Final PnL=-0.5626273088209908510271016744
2025-06-25 21:31:50,296 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:31:50,296 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:31:52,412 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51200000, Current=94.446, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-66.000000000000000000000000, PnL USD=-0.4557255703474562227255151080, Commission=0.10000000, Final PnL=-0.5557255703474562227255151080
2025-06-25 21:31:52,414 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51600000, Current=94.446, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-70.000000000000000000000000, PnL USD=-0.4833453018836656907694857206, Commission=0.10000000, Final PnL=-0.5833453018836656907694857206
2025-06-25 21:31:53,932 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:31:54,530 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:31:55,892 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51600000, Current=94.449, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-67.000000000000000000000000, PnL USD=-0.4626273088209908510271016744, Commission=0.10000000, Final PnL=-0.5626273088209908510271016744
2025-06-25 21:32:01,184 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51600000, Current=94.446, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-70.000000000000000000000000, PnL USD=-0.4833453018836656907694857206, Commission=0.10000000, Final PnL=-0.5833453018836656907694857206
2025-06-25 21:32:02,964 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.51600000, Current=94.446, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-70.000000000000000000000000, PnL USD=-0.4833453018836656907694857206, Commission=0.10000000, Final PnL=-0.5833453018836656907694857206
2025-06-25 21:32:04,794 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:32:36,682 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 21:32:36,701 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-25 21:32:36,755 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-25 21:32:36,769 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-25 21:32:37,688 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5241700000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-357.9300000000000000000000000, PnL USD=-445.3527435610302351623740202, Commission=0.10000000, Final PnL=-445.4527435610302351623740202
2025-06-25 21:32:37,708 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-25 21:32:37,714 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-25 21:32:37,748 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-25 21:32:37,785 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-25 21:33:01,382 - WARNING - app.core.cache - No cached adjusted sell price found for key: adjusted_market_price:default:AUDJPY
2025-06-25 21:33:01,383 - WARNING - app.core.cache - Fallback: Using raw Firebase 'b' price for AUDJPY
2025-06-25 21:33:01,834 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:33:02,553 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.554, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-50.000000000000000000000000, PnL USD=-0.3452561800856235326612346361, Commission=0.10000000, Final PnL=-0.4452561800856235326612346361
2025-06-25 21:33:04,079 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:33:06,612 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:33:08,695 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:33:11,347 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.55, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-46.000000000000000000000000, PnL USD=-0.3176356856787736500483358652, Commission=0.10000000, Final PnL=-0.4176356856787736500483358652
2025-06-25 21:33:12,989 - WARNING - app.core.cache - No cached adjusted sell price found for key: adjusted_market_price:default:AUDJPY
2025-06-25 21:33:12,990 - WARNING - app.core.cache - Fallback: Using raw Firebase 'b' price for AUDJPY
2025-06-25 21:33:13,427 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:33:13,427 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:33:13,998 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.555, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-50.000000000000000000000000, PnL USD=-0.3452537960654877400377017145, Commission=0.10000000, Final PnL=-0.4452537960654877400377017145
2025-06-25 21:33:13,999 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.555, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-51.000000000000000000000000, PnL USD=-0.3521588719867974948384557488, Commission=0.10000000, Final PnL=-0.4521588719867974948384557488
2025-06-25 21:33:16,171 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:33:16,171 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:33:18,528 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.553, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-48.000000000000000000000000, PnL USD=-0.3314459328821985913547852507, Commission=0.10000000, Final PnL=-0.4314459328821985913547852507
2025-06-25 21:33:18,529 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.553, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3383510564839110620080099434, Commission=0.10000000, Final PnL=-0.4383510564839110620080099434
2025-06-25 21:33:20,577 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.554, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3383510564839110620080099434, Commission=0.10000000, Final PnL=-0.4383510564839110620080099434
2025-06-25 21:33:20,580 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.554, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-50.000000000000000000000000, PnL USD=-0.3452561800856235326612346361, Commission=0.10000000, Final PnL=-0.4452561800856235326612346361
2025-06-25 21:33:22,527 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.555, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-50.000000000000000000000000, PnL USD=-0.3452537960654877400377017145, Commission=0.10000000, Final PnL=-0.4452537960654877400377017145
2025-06-25 21:33:22,528 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.555, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-51.000000000000000000000000, PnL USD=-0.3521588719867974948384557488, Commission=0.10000000, Final PnL=-0.4521588719867974948384557488
2025-06-25 21:33:24,879 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.553, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-48.000000000000000000000000, PnL USD=-0.3314459328821985913547852507, Commission=0.10000000, Final PnL=-0.4314459328821985913547852507
2025-06-25 21:33:24,883 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.553, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3383510564839110620080099434, Commission=0.10000000, Final PnL=-0.4383510564839110620080099434
2025-06-25 21:33:27,232 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.553, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-48.000000000000000000000000, PnL USD=-0.3314482215731361216414973173, Commission=0.10000000, Final PnL=-0.4314482215731361216414973173
2025-06-25 21:33:27,233 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.553, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3383533928559097908423618448, Commission=0.10000000, Final PnL=-0.4383533928559097908423618448
2025-06-25 21:33:29,178 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:33:29,178 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:33:31,740 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.552, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-47.000000000000000000000000, PnL USD=-0.3245408092804861207015605579, Commission=0.10000000, Final PnL=-0.4245408092804861207015605579
2025-06-25 21:33:31,743 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.552, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-48.000000000000000000000000, PnL USD=-0.3314459328821985913547852507, Commission=0.10000000, Final PnL=-0.4314459328821985913547852507
2025-06-25 21:33:33,993 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.551, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-46.000000000000000000000000, PnL USD=-0.3176444591757816815821456193, Commission=0.10000000, Final PnL=-0.4176444591757816815821456193
2025-06-25 21:33:33,995 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.551, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-47.000000000000000000000000, PnL USD=-0.3245497735056899790078444371, Commission=0.10000000, Final PnL=-0.4245497735056899790078444371
2025-06-25 21:33:36,245 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.551, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-46.000000000000000000000000, PnL USD=-0.3176510396166090060975188692, Commission=0.10000000, Final PnL=-0.4176510396166090060975188692
2025-06-25 21:33:36,249 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.551, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-47.000000000000000000000000, PnL USD=-0.3245564969995787670996388446, Commission=0.10000000, Final PnL=-0.4245564969995787670996388446
2025-06-25 21:33:36,681 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 21:33:36,702 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-25 21:33:36,743 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-25 21:33:36,748 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-25 21:33:37,228 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5241900000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-357.9100000000000000000000000, PnL USD=-445.3500236418385884578055397, Commission=0.10000000, Final PnL=-445.4500236418385884578055397
2025-06-25 21:33:37,248 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-25 21:33:37,251 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-25 21:33:37,262 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-25 21:33:37,707 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.5510000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-46.00000000000000000000000000, PnL USD=-0.3176510396166090060975188692, Commission=0.10000000, Final PnL=-0.4176510396166090060975188692
2025-06-25 21:33:37,709 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.5510000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-47.00000000000000000000000000, PnL USD=-0.3245564969995787670996388446, Commission=0.10000000, Final PnL=-0.4245564969995787670996388446
2025-06-25 21:33:37,711 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-25 21:33:38,897 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.553, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-48.000000000000000000000000, PnL USD=-0.3314619543825485281017588200, Commission=0.10000000, Final PnL=-0.4314619543825485281017588200
2025-06-25 21:33:38,898 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.553, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3383674117655182891038787954, Commission=0.10000000, Final PnL=-0.4383674117655182891038787954
2025-06-25 21:33:40,392 - WARNING - app.core.cache - No cached adjusted buy price found for key: adjusted_market_price:default:AUDJPY
2025-06-25 21:33:40,392 - WARNING - app.core.cache - Fallback: Using raw Firebase 'o' price for AUDJPY
2025-06-25 21:33:40,845 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:33:40,845 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:33:40,845 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:33:41,581 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.548, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-43.000000000000000000000000, PnL USD=-0.2969346674676997230911589429, Commission=0.10000000, Final PnL=-0.3969346674676997230911589429
2025-06-25 21:33:41,584 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.49200000, Current=94.442, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-50.000000000000000000000000, PnL USD=-0.3452728691484880501059987708, Commission=0.10000000, Final PnL=-0.4452728691484880501059987708
2025-06-25 21:33:41,586 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.548, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-44.000000000000000000000000, PnL USD=-0.3038401248506694840932789183, Commission=0.10000000, Final PnL=-0.4038401248506694840932789183
2025-06-25 21:33:43,636 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.551, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-46.000000000000000000000000, PnL USD=-0.3176510396166090060975188692, Commission=0.10000000, Final PnL=-0.4176510396166090060975188692
2025-06-25 21:33:43,640 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.49200000, Current=94.444, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-48.000000000000000000000000, PnL USD=-0.3314619543825485281017588200, Commission=0.10000000, Final PnL=-0.4314619543825485281017588200
2025-06-25 21:33:43,642 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.551, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-47.000000000000000000000000, PnL USD=-0.3245564969995787670996388446, Commission=0.10000000, Final PnL=-0.4245564969995787670996388446
2025-06-25 21:33:45,787 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.55, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-45.000000000000000000000000, PnL USD=-0.3107477280888324172029942270, Commission=0.10000000, Final PnL=-0.4107477280888324172029942270
2025-06-25 21:33:45,792 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.49200000, Current=94.442, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-50.000000000000000000000000, PnL USD=-0.3452752534320360191144380300, Commission=0.10000000, Final PnL=-0.4452752534320360191144380300
2025-06-25 21:33:45,799 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.55, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-46.000000000000000000000000, PnL USD=-0.3176532331574731375852829876, Commission=0.10000000, Final PnL=-0.4176532331574731375852829876
2025-06-25 21:33:48,313 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.553, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-48.000000000000000000000000, PnL USD=-0.3314619543825485281017588200, Commission=0.10000000, Final PnL=-0.4314619543825485281017588200
2025-06-25 21:33:48,315 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.49200000, Current=94.446, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-46.000000000000000000000000, PnL USD=-0.3176510396166090060975188692, Commission=0.10000000, Final PnL=-0.4176510396166090060975188692
2025-06-25 21:33:48,316 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.553, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3383674117655182891038787954, Commission=0.10000000, Final PnL=-0.4383674117655182891038787954
2025-06-25 21:33:49,890 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.55, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-45.000000000000000000000000, PnL USD=-0.3107477280888324172029942270, Commission=0.10000000, Final PnL=-0.4107477280888324172029942270
2025-06-25 21:33:49,894 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.49200000, Current=94.443, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3383697483633952987321492694, Commission=0.10000000, Final PnL=-0.4383697483633952987321492694
2025-06-25 21:33:49,901 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.55, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-46.000000000000000000000000, PnL USD=-0.3176532331574731375852829876, Commission=0.10000000, Final PnL=-0.4176532331574731375852829876
2025-06-25 21:33:53,652 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.551, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-46.000000000000000000000000, PnL USD=-0.3176532331574731375852829876, Commission=0.10000000, Final PnL=-0.4176532331574731375852829876
2025-06-25 21:33:53,656 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.49200000, Current=94.443, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3383697483633952987321492694, Commission=0.10000000, Final PnL=-0.4383697483633952987321492694
2025-06-25 21:33:53,660 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.551, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-47.000000000000000000000000, PnL USD=-0.3245587382261138579675717482, Commission=0.10000000, Final PnL=-0.4245587382261138579675717482
2025-06-25 21:33:55,603 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.55, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-45.000000000000000000000000, PnL USD=-0.3107477280888324172029942270, Commission=0.10000000, Final PnL=-0.4107477280888324172029942270
2025-06-25 21:33:55,607 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.49200000, Current=94.443, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3383697483633952987321492694, Commission=0.10000000, Final PnL=-0.4383697483633952987321492694
2025-06-25 21:33:55,609 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.55, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-46.000000000000000000000000, PnL USD=-0.3176532331574731375852829876, Commission=0.10000000, Final PnL=-0.4176532331574731375852829876
2025-06-25 21:33:58,252 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.552, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-47.000000000000000000000000, PnL USD=-0.3245587382261138579675717482, Commission=0.10000000, Final PnL=-0.4245587382261138579675717482
2025-06-25 21:33:58,255 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.49200000, Current=94.444, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-48.000000000000000000000000, PnL USD=-0.3314642432947545783498605088, Commission=0.10000000, Final PnL=-0.4314642432947545783498605088
2025-06-25 21:33:58,257 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.552, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-48.000000000000000000000000, PnL USD=-0.3314642432947545783498605088, Commission=0.10000000, Final PnL=-0.4314642432947545783498605088
2025-06-25 21:34:00,205 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:00,205 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:00,205 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:02,432 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.553, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-48.000000000000000000000000, PnL USD=-0.3315031596394903138920542836, Commission=0.10000000, Final PnL=-0.4315031596394903138920542836
2025-06-25 21:34:02,433 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.49200000, Current=94.445, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-47.000000000000000000000000, PnL USD=-0.3245968438136675990193031527, Commission=0.10000000, Final PnL=-0.4245968438136675990193031527
2025-06-25 21:34:02,434 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.553, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3384094754653130287648054146, Commission=0.10000000, Final PnL=-0.4384094754653130287648054146
2025-06-25 21:34:04,610 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.521, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-16.000000000000000000000000, PnL USD=-0.1105010532131634379640180945, Commission=0.10000000, Final PnL=-0.2105010532131634379640180945
2025-06-25 21:34:04,612 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.49200000, Current=94.413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-79.000000000000000000000000, PnL USD=-0.5455989502399944749473393418, Commission=0.10000000, Final PnL=-0.6455989502399944749473393418
2025-06-25 21:34:04,615 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.521, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-17.000000000000000000000000, PnL USD=-0.1174073690389861528367692255, Commission=0.10000000, Final PnL=-0.2174073690389861528367692255
2025-06-25 21:34:06,348 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:06,348 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:06,348 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:06,348 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:07,582 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.522, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-17.000000000000000000000000, PnL USD=-0.1174073690389861528367692255, Commission=0.10000000, Final PnL=-0.2174073690389861528367692255
2025-06-25 21:34:07,591 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.49200000, Current=94.415, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-77.000000000000000000000000, PnL USD=-0.5317863185883490452018370800, Commission=0.10000000, Final PnL=-0.6317863185883490452018370800
2025-06-25 21:34:07,594 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.522, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-18.000000000000000000000000, PnL USD=-0.1243136848648088677095203564, Commission=0.10000000, Final PnL=-0.2243136848648088677095203564
2025-06-25 21:34:07,597 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.52100000, Current=94.415, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-106.000000000000000000000000, PnL USD=-0.7320694775372077765116198764, Commission=0.10000000, Final PnL=-0.8320694775372077765116198764
2025-06-25 21:34:08,086 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:08,086 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:08,087 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:08,087 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:09,618 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.521, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-16.000000000000000000000000, PnL USD=-0.1105018163736066411591640538, Commission=0.10000000, Final PnL=-0.2105018163736066411591640538
2025-06-25 21:34:09,621 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.49200000, Current=94.415, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-77.000000000000000000000000, PnL USD=-0.5317899912979819605784770087, Commission=0.10000000, Final PnL=-0.6317899912979819605784770087
2025-06-25 21:34:09,623 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.521, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-17.000000000000000000000000, PnL USD=-0.1174081798969570562316118071, Commission=0.10000000, Final PnL=-0.2174081798969570562316118071
2025-06-25 21:34:09,624 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.52100000, Current=94.415, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-106.000000000000000000000000, PnL USD=-0.7320745334751439976794618562, Commission=0.10000000, Final PnL=-0.8320745334751439976794618562
2025-06-25 21:34:11,876 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:11,876 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:11,877 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:11,877 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:14,538 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:14,538 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:14,539 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:14,539 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:16,663 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:16,663 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:16,664 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:16,664 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:16,664 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:17,418 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:17,419 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:17,419 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:17,419 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:17,419 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:17,918 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:17,918 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:17,918 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:17,919 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:17,919 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:19,165 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:19,165 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:19,165 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:19,165 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:19,165 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:21,043 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:21,043 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:21,044 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:21,044 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:21,044 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:21,044 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:21,674 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:21,674 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:21,674 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:21,674 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:21,674 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:21,675 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:22,138 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:22,139 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:22,139 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:22,139 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:22,139 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:22,139 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:23,848 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:23,848 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:23,848 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:23,849 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:23,849 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:23,849 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:24,338 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:24,338 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:24,338 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:24,338 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:24,338 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:24,338 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:24,338 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:24,801 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:24,801 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:24,801 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:24,801 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:24,802 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:24,802 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:24,802 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:25,742 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.522, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-17.000000000000000000000000, PnL USD=-0.1174065581922152545650432332, Commission=0.10000000, Final PnL=-0.2174065581922152545650432332
2025-06-25 21:34:25,744 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.49200000, Current=94.415, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-77.000000000000000000000000, PnL USD=-0.5317826459294455647946075858, Commission=0.10000000, Final PnL=-0.6317826459294455647946075858
2025-06-25 21:34:25,745 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.522, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-18.000000000000000000000000, PnL USD=-0.1243128263211690930688693058, Commission=0.10000000, Final PnL=-0.2243128263211690930688693058
2025-06-25 21:34:25,747 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.52100000, Current=94.415, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-106.000000000000000000000000, PnL USD=-0.7320644216691068814055636896, Commission=0.10000000, Final PnL=-0.8320644216691068814055636896
2025-06-25 21:34:25,748 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.41500000, Current=94.522, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-107.000000000000000000000000, PnL USD=-0.7389706897980607199093897621, Commission=0.10000000, Final PnL=-0.8389706897980607199093897621
2025-06-25 21:34:25,750 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.41500000, Current=94.522, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-107.000000000000000000000000, PnL USD=-0.7389706897980607199093897621, Commission=0.10000000, Final PnL=-0.8389706897980607199093897621
2025-06-25 21:34:25,751 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.52100000, Current=94.415, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-106.000000000000000000000000, PnL USD=-0.7320644216691068814055636896, Commission=0.10000000, Final PnL=-0.8320644216691068814055636896
2025-06-25 21:34:28,516 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:28,516 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:28,516 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:28,516 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:28,516 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:28,516 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:28,516 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:28,516 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:28,824 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:28,824 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:28,824 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:28,824 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:28,824 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:28,825 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:28,825 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:28,825 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:29,271 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:29,271 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:29,271 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:29,271 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:29,272 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:29,272 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:29,272 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:29,272 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:30,900 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:30,901 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:30,901 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:30,901 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:30,902 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:30,902 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:30,902 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:30,902 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:33,177 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.521, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-16.000000000000000000000000, PnL USD=-0.1105018163736066411591640538, Commission=0.10000000, Final PnL=-0.2105018163736066411591640538
2025-06-25 21:34:33,186 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.49200000, Current=94.413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-79.000000000000000000000000, PnL USD=-0.5456027183446827907233725154, Commission=0.10000000, Final PnL=-0.6456027183446827907233725154
2025-06-25 21:34:33,195 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.521, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-17.000000000000000000000000, PnL USD=-0.1174081798969570562316118071, Commission=0.10000000, Final PnL=-0.2174081798969570562316118071
2025-06-25 21:34:33,199 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.52100000, Current=94.413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-108.000000000000000000000000, PnL USD=-0.7458872605218448278243573629, Commission=0.10000000, Final PnL=-0.8458872605218448278243573629
2025-06-25 21:34:33,202 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.41500000, Current=94.521, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-106.000000000000000000000000, PnL USD=-0.7320745334751439976794618562, Commission=0.10000000, Final PnL=-0.8320745334751439976794618562
2025-06-25 21:34:33,204 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.41500000, Current=94.521, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-106.000000000000000000000000, PnL USD=-0.7320745334751439976794618562, Commission=0.10000000, Final PnL=-0.8320745334751439976794618562
2025-06-25 21:34:33,211 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.52100000, Current=94.413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-108.000000000000000000000000, PnL USD=-0.7458872605218448278243573629, Commission=0.10000000, Final PnL=-0.8458872605218448278243573629
2025-06-25 21:34:33,585 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.52200000, Current=94.413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-109.000000000000000000000000, PnL USD=-0.7527936240451952428968051162, Commission=0.10000000, Final PnL=-0.8527936240451952428968051162
2025-06-25 21:34:34,506 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:34,507 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:34,507 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:34,507 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:34,507 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:34,507 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:34,507 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:34,507 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:34,507 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:34:35,853 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:35,853 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:35,853 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:35,853 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:35,853 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:35,854 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:35,854 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:35,854 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:35,854 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:36,246 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:36,246 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:36,246 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:36,246 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:36,246 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:36,246 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:36,246 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:36,247 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:36,247 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:36,679 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 21:34:36,707 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-25 21:34:36,773 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-25 21:34:36,781 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-25 21:34:37,892 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5240800000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-358.0200000000000000000000000, PnL USD=-445.4924407391277297330927643, Commission=0.10000000, Final PnL=-445.5924407391277297330927643
2025-06-25 21:34:37,975 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-25 21:34:38,400 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.52, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-15.000000000000000000000000, PnL USD=-0.1035961683230542912986125020, Commission=0.10000000, Final PnL=-0.2035961683230542912986125020
2025-06-25 21:34:38,401 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-25 21:34:38,402 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.49200000, Current=94.413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-79.000000000000000000000000, PnL USD=-0.5456064865014192675060258438, Commission=0.10000000, Final PnL=-0.6456064865014192675060258438
2025-06-25 21:34:38,404 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.52, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-16.000000000000000000000000, PnL USD=-0.1105025795445912440518533355, Commission=0.10000000, Final PnL=-0.2105025795445912440518533355
2025-06-25 21:34:38,406 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.52100000, Current=94.413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-108.000000000000000000000000, PnL USD=-0.7458924119259908973500100143, Commission=0.10000000, Final PnL=-0.8458924119259908973500100143
2025-06-25 21:34:38,411 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.41500000, Current=94.52, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-105.000000000000000000000000, PnL USD=-0.7251731782613800390902875139, Commission=0.10000000, Final PnL=-0.8251731782613800390902875139
2025-06-25 21:34:38,412 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.41500000, Current=94.52, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-105.000000000000000000000000, PnL USD=-0.7251731782613800390902875139, Commission=0.10000000, Final PnL=-0.8251731782613800390902875139
2025-06-25 21:34:38,420 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.52100000, Current=94.413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-108.000000000000000000000000, PnL USD=-0.7458924119259908973500100143, Commission=0.10000000, Final PnL=-0.8458924119259908973500100143
2025-06-25 21:34:38,427 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.52200000, Current=94.413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-109.000000000000000000000000, PnL USD=-0.7527988231475278501032508478, Commission=0.10000000, Final PnL=-0.8527988231475278501032508478
2025-06-25 21:34:38,429 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-25 21:34:38,429 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.52100000, Current=94.413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-108.000000000000000000000000, PnL USD=-0.7458924119259908973500100143, Commission=0.10000000, Final PnL=-0.8458924119259908973500100143
2025-06-25 21:34:39,286 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.5210000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-16.00000000000000000000000000, PnL USD=-0.1105025795445912440518533355, Commission=0.10000000, Final PnL=-0.2105025795445912440518533355
2025-06-25 21:34:39,289 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.49200000, Current=94.4130000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-79.00000000000000000000000000, PnL USD=-0.5456064865014192675060258438, Commission=0.10000000, Final PnL=-0.6456064865014192675060258438
2025-06-25 21:34:39,293 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.5210000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-17.00000000000000000000000000, PnL USD=-0.1174089907661281968050941689, Commission=0.10000000, Final PnL=-0.2174089907661281968050941689
2025-06-25 21:34:39,298 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.52100000, Current=94.4130000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-108.0000000000000000000000000, PnL USD=-0.7458924119259908973500100143, Commission=0.10000000, Final PnL=-0.8458924119259908973500100143
2025-06-25 21:34:39,306 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.41500000, Current=94.5210000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-106.0000000000000000000000000, PnL USD=-0.7320795894829169918435283474, Commission=0.10000000, Final PnL=-0.8320795894829169918435283474
2025-06-25 21:34:39,310 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.41500000, Current=94.5210000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-106.0000000000000000000000000, PnL USD=-0.7320795894829169918435283474, Commission=0.10000000, Final PnL=-0.8320795894829169918435283474
2025-06-25 21:34:39,315 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.52100000, Current=94.4130000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-108.0000000000000000000000000, PnL USD=-0.7458924119259908973500100143, Commission=0.10000000, Final PnL=-0.8458924119259908973500100143
2025-06-25 21:34:39,321 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.52200000, Current=94.4130000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-109.0000000000000000000000000, PnL USD=-0.7527988231475278501032508478, Commission=0.10000000, Final PnL=-0.8527988231475278501032508478
2025-06-25 21:34:39,333 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.52100000, Current=94.4130000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-108.0000000000000000000000000, PnL USD=-0.7458924119259908973500100143, Commission=0.10000000, Final PnL=-0.8458924119259908973500100143
2025-06-25 21:34:39,338 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-25 21:34:40,097 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50500000, Current=94.521, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-16.000000000000000000000000, PnL USD=-0.1105025795445912440518533355, Commission=0.10000000, Final PnL=-0.2105025795445912440518533355
2025-06-25 21:34:40,102 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.49200000, Current=94.413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-79.000000000000000000000000, PnL USD=-0.5456064865014192675060258438, Commission=0.10000000, Final PnL=-0.6456064865014192675060258438
2025-06-25 21:34:40,120 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.50400000, Current=94.521, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-17.000000000000000000000000, PnL USD=-0.1174089907661281968050941689, Commission=0.10000000, Final PnL=-0.2174089907661281968050941689
2025-06-25 21:34:40,127 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.52100000, Current=94.413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-108.000000000000000000000000, PnL USD=-0.7458924119259908973500100143, Commission=0.10000000, Final PnL=-0.8458924119259908973500100143
2025-06-25 21:34:40,139 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.41500000, Current=94.521, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-106.000000000000000000000000, PnL USD=-0.7320795894829169918435283474, Commission=0.10000000, Final PnL=-0.8320795894829169918435283474
2025-06-25 21:34:40,159 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=94.41500000, Current=94.521, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-106.000000000000000000000000, PnL USD=-0.7320795894829169918435283474, Commission=0.10000000, Final PnL=-0.8320795894829169918435283474
2025-06-25 21:34:40,164 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.52100000, Current=94.413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-108.000000000000000000000000, PnL USD=-0.7458924119259908973500100143, Commission=0.10000000, Final PnL=-0.8458924119259908973500100143
2025-06-25 21:34:40,169 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.52200000, Current=94.413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-109.000000000000000000000000, PnL USD=-0.7527988231475278501032508478, Commission=0.10000000, Final PnL=-0.8527988231475278501032508478
2025-06-25 21:34:40,175 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.52100000, Current=94.413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-108.000000000000000000000000, PnL USD=-0.7458924119259908973500100143, Commission=0.10000000, Final PnL=-0.8458924119259908973500100143
2025-06-25 21:34:40,840 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:40,841 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:40,841 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:40,841 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:40,841 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:40,841 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:40,842 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:40,842 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:42,287 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:42,287 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:42,287 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:42,287 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:42,288 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:42,288 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:42,288 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:43,006 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:43,006 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:43,006 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:43,006 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:43,007 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:43,007 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:43,631 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:43,631 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:43,631 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:43,631 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:43,631 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:43,631 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:44,954 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:44,954 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:44,954 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:44,954 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:44,954 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:45,667 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:45,667 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:45,667 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:45,668 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:47,509 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:47,509 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:47,509 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:48,226 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:48,226 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:48,738 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:48,738 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:34:50,871 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.52100000, Current=94.415, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-106.000000000000000000000000, PnL USD=-0.7320745334751439976794618562, Commission=0.10000000, Final PnL=-0.8320745334751439976794618562
2025-06-25 21:35:36,766 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 21:35:36,792 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-25 21:35:36,871 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-25 21:35:36,882 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-25 21:35:37,390 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5241000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-358.0000000000000000000000000, PnL USD=-445.4398407365932561901206918, Commission=0.10000000, Final PnL=-445.5398407365932561901206918
2025-06-25 21:35:37,474 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-25 21:35:37,483 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-25 21:35:37,511 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-25 21:35:37,537 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-25 21:36:36,677 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 21:36:36,689 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-25 21:36:36,812 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-25 21:36:36,820 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-25 21:36:38,078 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5241300000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-357.9700000000000000000000000, PnL USD=-445.4135974517220784391797730, Commission=0.10000000, Final PnL=-445.5135974517220784391797730
2025-06-25 21:36:38,231 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-25 21:36:38,292 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-25 21:36:38,382 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-25 21:36:38,567 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-25 21:37:36,524 - WARNING - app.core.cache - No cached adjusted buy price found for key: adjusted_market_price:default:AUDJPY
2025-06-25 21:37:36,524 - WARNING - app.core.cache - Fallback: Using raw Firebase 'o' price for AUDJPY
2025-06-25 21:37:36,953 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:37:36,956 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 21:37:36,964 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-25 21:37:37,014 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-25 21:37:37,025 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-25 21:37:37,720 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-50.000000000000000000000000, PnL USD=-0.3453277160024863595552179018, Commission=0.10000000, Final PnL=-0.4453277160024863595552179018
2025-06-25 21:37:38,057 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5241300000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-357.9700000000000000000000000, PnL USD=-445.4135974517220784391797730, Commission=0.10000000, Final PnL=-445.5135974517220784391797730
2025-06-25 21:37:38,078 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-25 21:37:38,083 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-25 21:37:38,105 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-25 21:37:38,684 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.4130000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-50.00000000000000000000000000, PnL USD=-0.3453229460191170782916183215, Commission=0.10000000, Final PnL=-0.4453229460191170782916183215
2025-06-25 21:37:38,686 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-25 21:37:39,563 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.42, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-43.000000000000000000000000, PnL USD=-0.2969777335764406873307917565, Commission=0.10000000, Final PnL=-0.3969777335764406873307917565
2025-06-25 21:37:41,955 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.414, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3384164870987347367257859550, Commission=0.10000000, Final PnL=-0.4384164870987347367257859550
2025-06-25 21:37:44,647 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:37:46,660 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.414, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3384258363952813769096886482, Commission=0.10000000, Final PnL=-0.4384258363952813769096886482
2025-06-25 21:37:49,575 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.414, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3384258363952813769096886482, Commission=0.10000000, Final PnL=-0.4384258363952813769096886482
2025-06-25 21:37:51,842 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.414, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3384234990227158140466471900, Commission=0.10000000, Final PnL=-0.4384234990227158140466471900
2025-06-25 21:37:53,670 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:37:56,440 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.414, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3384234990227158140466471900, Commission=0.10000000, Final PnL=-0.4384234990227158140466471900
2025-06-25 21:37:58,386 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:38:00,838 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:38:03,663 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:38:06,063 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.414, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3384234990227158140466471900, Commission=0.10000000, Final PnL=-0.4384234990227158140466471900
2025-06-25 21:38:08,724 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:38:10,363 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:38:12,924 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.419, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-44.000000000000000000000000, PnL USD=-0.3038904889183570575112750278, Commission=0.10000000, Final PnL=-0.4038904889183570575112750278
2025-06-25 21:38:15,570 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.42, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-43.000000000000000000000000, PnL USD=-0.2969838868974853062042005953, Commission=0.10000000, Final PnL=-0.3969838868974853062042005953
2025-06-25 21:38:18,045 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.414, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3384234990227158140466471900, Commission=0.10000000, Final PnL=-0.4384234990227158140466471900
2025-06-25 21:38:20,879 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:38:23,373 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.414, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3384234990227158140466471900, Commission=0.10000000, Final PnL=-0.4384234990227158140466471900
2025-06-25 21:38:25,520 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:38:28,284 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.414, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3384211616824366323641135438, Commission=0.10000000, Final PnL=-0.4384211616824366323641135438
2025-06-25 21:38:31,455 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:38:34,018 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.42, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-43.000000000000000000000000, PnL USD=-0.2970043998093646177967799197, Commission=0.10000000, Final PnL=-0.3970043998093646177967799197
2025-06-25 21:38:36,644 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:38:36,683 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 21:38:36,746 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-25 21:38:36,859 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-25 21:38:36,879 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-25 21:38:38,610 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5241300000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-357.9700000000000000000000000, PnL USD=-445.4357672589716788611816236, Commission=0.10000000, Final PnL=-445.5357672589716788611816236
2025-06-25 21:38:38,907 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-25 21:38:38,963 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-25 21:38:39,099 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-25 21:38:40,573 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.414, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3384351862084208199801082993, Commission=0.10000000, Final PnL=-0.4384351862084208199801082993
2025-06-25 21:38:40,935 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.4140000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.00000000000000000000000000, PnL USD=-0.3384351862084208199801082993, Commission=0.10000000, Final PnL=-0.4384351862084208199801082993
2025-06-25 21:38:40,946 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-25 21:38:43,103 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.421, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-42.000000000000000000000000, PnL USD=-0.2900852988914597506647788100, Commission=0.10000000, Final PnL=-0.3900852988914597506647788100
2025-06-25 21:38:45,786 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-50.000000000000000000000000, PnL USD=-0.3453539532667030439497440927, Commission=0.10000000, Final PnL=-0.4453539532667030439497440927
2025-06-25 21:38:49,069 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.408, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-55.000000000000000000000000, PnL USD=-0.3798736056911972925372103464, Commission=0.10000000, Final PnL=-0.4798736056911972925372103464
2025-06-25 21:38:51,527 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.414, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3384468742013689830707492109, Commission=0.10000000, Final PnL=-0.4384468742013689830707492109
2025-06-25 21:38:54,089 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-50.000000000000000000000000, PnL USD=-0.3453396415374520841247366785, Commission=0.10000000, Final PnL=-0.4453396415374520841247366785
2025-06-25 21:38:55,834 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:38:57,878 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.409, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-54.000000000000000000000000, PnL USD=-0.3729668128604482508547156128, Commission=0.10000000, Final PnL=-0.4729668128604482508547156128
2025-06-25 21:39:00,433 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:39:02,382 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:39:04,210 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:39:06,394 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:39:07,741 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:39:08,828 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:39:10,366 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:39:12,005 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:39:13,955 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:39:15,694 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:39:17,433 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:39:20,032 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.415, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-48.000000000000000000000000, PnL USD=-0.3315260558759540007597472114, Commission=0.10000000, Final PnL=-0.4315260558759540007597472114
2025-06-25 21:39:21,841 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.415, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-48.000000000000000000000000, PnL USD=-0.3315329253636501775082537885, Commission=0.10000000, Final PnL=-0.4315329253636501775082537885
2025-06-25 21:39:23,574 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:39:25,848 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.412, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-51.000000000000000000000000, PnL USD=-0.3522585992540406133443845835, Commission=0.10000000, Final PnL=-0.4522585992540406133443845835
2025-06-25 21:39:27,548 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.411, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-52.000000000000000000000000, PnL USD=-0.3591606691439543589672749375, Commission=0.10000000, Final PnL=-0.4591606691439543589672749375
2025-06-25 21:39:30,745 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:39:33,310 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.411, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-52.000000000000000000000000, PnL USD=-0.3591656306119629783119215361, Commission=0.10000000, Final PnL=-0.4591656306119629783119215361
2025-06-25 21:39:35,995 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.412, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-51.000000000000000000000000, PnL USD=-0.3522610323320371048287389746, Commission=0.10000000, Final PnL=-0.4522610323320371048287389746
2025-06-25 21:39:36,676 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 21:39:36,717 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-25 21:39:36,785 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-25 21:39:36,798 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-25 21:39:37,814 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-50.000000000000000000000000, PnL USD=-0.3453539532667030439497440927, Commission=0.10000000, Final PnL=-0.4453539532667030439497440927
2025-06-25 21:39:38,631 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5240400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-358.0600000000000000000000000, PnL USD=-445.6032058142718470766856659, Commission=0.10000000, Final PnL=-445.7032058142718470766856659
2025-06-25 21:39:38,706 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-25 21:39:38,731 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-25 21:39:38,813 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-25 21:39:39,866 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.4130000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-50.00000000000000000000000000, PnL USD=-0.3453539532667030439497440927, Commission=0.10000000, Final PnL=-0.4453539532667030439497440927
2025-06-25 21:39:39,879 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-25 21:39:40,369 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:39:41,936 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:39:43,849 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:39:45,864 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:39:48,151 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:39:50,505 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:39:52,459 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.414, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3384468742013689830707492109, Commission=0.10000000, Final PnL=-0.4384468742013689830707492109
2025-06-25 21:39:55,292 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-50.000000000000000000000000, PnL USD=-0.3453539532667030439497440927, Commission=0.10000000, Final PnL=-0.4453539532667030439497440927
2025-06-25 21:39:57,738 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.417, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-46.000000000000000000000000, PnL USD=-0.3177300261781912872901082354, Commission=0.10000000, Final PnL=-0.4177300261781912872901082354
2025-06-25 21:39:59,826 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.414, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-49.000000000000000000000000, PnL USD=-0.3384515496245950668959848595, Commission=0.10000000, Final PnL=-0.4384515496245950668959848595
2025-06-25 21:40:02,113 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.416, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-47.000000000000000000000000, PnL USD=-0.3246372006603258804920671101, Commission=0.10000000, Final PnL=-0.4246372006603258804920671101
2025-06-25 21:40:04,041 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.419, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-44.000000000000000000000000, PnL USD=-0.3039156772139221008861904861, Commission=0.10000000, Final PnL=-0.4039156772139221008861904861
2025-06-25 21:40:05,942 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:40:08,220 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:40:10,865 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.424, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-39.000000000000000000000000, PnL USD=-0.2693798048032491348763961126, Commission=0.10000000, Final PnL=-0.3693798048032491348763961126
2025-06-25 21:40:13,344 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.424, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-39.000000000000000000000000, PnL USD=-0.2693798048032491348763961126, Commission=0.10000000, Final PnL=-0.3693798048032491348763961126
2025-06-25 21:40:16,105 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:40:18,052 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.46300000, Current=94.421, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-42.000000000000000000000000, PnL USD=-0.2901033320439851909156213737, Commission=0.10000000, Final PnL=-0.3901033320439851909156213737
2025-06-25 21:40:29,740 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:40:31,470 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.53000000, Current=94.419, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-111.000000000000000000000000, PnL USD=-0.7667016632591037188484279162, Commission=0.10000000, Final PnL=-0.8667016632591037188484279162
2025-06-25 21:40:31,866 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:40:33,511 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.53000000, Current=94.417, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-113.000000000000000000000000, PnL USD=-0.7805053253947422951000842669, Commission=0.10000000, Final PnL=-0.8805053253947422951000842669
2025-06-25 21:40:35,053 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.53000000, Current=94.414, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-116.000000000000000000000000, PnL USD=-0.8012377742167210034812399845, Commission=0.10000000, Final PnL=-0.9012377742167210034812399845
2025-06-25 21:40:36,870 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-25 21:40:36,874 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.53000000, Current=94.413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-117.000000000000000000000000, PnL USD=-0.8081449964082444604078023982, Commission=0.10000000, Final PnL=-0.9081449964082444604078023982
2025-06-25 21:40:36,893 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-25 21:40:36,953 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-25 21:40:36,961 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-25 21:40:38,063 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5240400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-358.0600000000000000000000000, PnL USD=-445.6032058142718470766856659, Commission=0.10000000, Final PnL=-445.7032058142718470766856659
2025-06-25 21:40:38,127 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-25 21:40:38,135 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-25 21:40:38,213 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-25 21:40:39,513 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.53000000, Current=94.414, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-116.000000000000000000000000, PnL USD=-0.8012267057149566923151307519, Commission=0.10000000, Final PnL=-0.9012267057149566923151307519
2025-06-25 21:40:40,033 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.53000000, Current=94.4140000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-116.0000000000000000000000000, PnL USD=-0.8012267057149566923151307519, Commission=0.10000000, Final PnL=-0.9012267057149566923151307519
2025-06-25 21:40:40,040 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-25 21:40:42,099 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.53000000, Current=94.415, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-115.000000000000000000000000, PnL USD=-0.7943140925134170010844114133, Commission=0.10000000, Final PnL=-0.8943140925134170010844114133
2025-06-25 21:40:44,577 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.53000000, Current=94.414, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-116.000000000000000000000000, PnL USD=-0.8012211715787510619634062951, Commission=0.10000000, Final PnL=-0.9012211715787510619634062951
2025-06-25 21:40:46,426 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.53000000, Current=94.417, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-113.000000000000000000000000, PnL USD=-0.7805053253947422951000842669, Commission=0.10000000, Final PnL=-0.8805053253947422951000842669
2025-06-25 21:40:48,362 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:40:50,110 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.53000000, Current=94.414, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-116.000000000000000000000000, PnL USD=-0.8012322399276128114272294632, Commission=0.10000000, Final PnL=-0.9012322399276128114272294632
2025-06-25 21:40:52,991 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.53000000, Current=94.415, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-115.000000000000000000000000, PnL USD=-0.7943195789415518932434485903, Commission=0.10000000, Final PnL=-0.8943195789415518932434485903
2025-06-25 21:40:52,991 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-25 21:40:53,379 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDJPY: buy=0, sell=0
2025-06-25 21:40:53,379 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDCAD: buy=0, sell=0
2025-06-25 21:40:55,348 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.53000000, Current=94.416, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-114.000000000000000000000000, PnL USD=-0.7874124521681470941717664286, Commission=0.10000000, Final PnL=-0.8874124521681470941717664286
2025-06-25 21:40:55,360 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89502000, Current=0.89503, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.007289958082741024239110625114, Commission=0.10000000, Final PnL=-0.09271004191725897576088937489
2025-06-25 21:40:55,837 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:40:55,838 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-25 21:40:57,788 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.53000000, Current=94.415, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-115.000000000000000000000000, PnL USD=-0.7943195789415518932434485903, Commission=0.10000000, Final PnL=-0.8943195789415518932434485903
2025-06-25 21:40:57,790 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89502000, Current=0.89504, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01457991616548204847822125023, Commission=0.10000000, Final PnL=-0.08542008383451795152177874977
2025-06-25 21:40:59,751 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.53000000, Current=94.415, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-115.000000000000000000000000, PnL USD=-0.7943195789415518932434485903, Commission=0.10000000, Final PnL=-0.8943195789415518932434485903
2025-06-25 21:40:59,765 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89502000, Current=0.89502, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0E-24, PnL USD=0E-14, Commission=0.10000000, Final PnL=-0.10000000000000
2025-06-25 21:41:01,488 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.53000000, Current=94.416, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-114.000000000000000000000000, PnL USD=-0.7874124521681470941717664286, Commission=0.10000000, Final PnL=-0.8874124521681470941717664286
2025-06-25 21:41:01,491 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89502000, Current=0.89503, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.007289958082741024239110625114, Commission=0.10000000, Final PnL=-0.09271004191725897576088937489
2025-06-25 21:41:03,451 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:41:03,452 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-25 21:41:05,566 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.53000000, Current=94.416, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-114.000000000000000000000000, PnL USD=-0.7874178909633436250233117139, Commission=0.10000000, Final PnL=-0.8874178909633436250233117139
2025-06-25 21:41:05,567 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-25 21:41:07,924 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.53000000, Current=94.416, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-114.000000000000000000000000, PnL USD=-0.7874124521681470941717664286, Commission=0.10000000, Final PnL=-0.8874124521681470941717664286
2025-06-25 21:41:07,925 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-25 21:41:10,417 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.53000000, Current=94.416, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-114.000000000000000000000000, PnL USD=-0.7874233298336740896281151572, Commission=0.10000000, Final PnL=-0.8874233298336740896281151572
2025-06-25 21:41:10,418 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-25 21:41:12,603 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.53000000, Current=94.417, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-113.000000000000000000000000, PnL USD=-0.7805214988775686409946468658, Commission=0.10000000, Final PnL=-0.8805214988775686409946468658
2025-06-25 21:41:12,605 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89502000, Current=0.89505, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02187003367985186697187513669, Commission=0.10000000, Final PnL=-0.07812996632014813302812486331
2025-06-25 21:41:15,313 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.53000000, Current=94.415, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-115.000000000000000000000000, PnL USD=-0.7943195789415518932434485903, Commission=0.10000000, Final PnL=-0.8943195789415518932434485903
2025-06-25 21:41:15,828 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:41:17,569 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.53000000, Current=94.413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-117.000000000000000000000000, PnL USD=-0.8081338324883614913868129136, Commission=0.10000000, Final PnL=-0.9081338324883614913868129136
2025-06-25 21:41:19,556 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-06-25 21:41:29,771 - INFO - app.main - Application shutdown event triggered.
2025-06-25 21:41:29,772 - INFO - app.main - APScheduler shut down gracefully.
2025-06-25 21:41:29,772 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-25 21:41:29,772 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-25 21:41:31,735 - INFO - app.firebase_stream - Firebase Admin event processing task finished.

2025-06-27 04:47:37,984 - INFO - app.core.config - .env file loaded successfully.
2025-06-27 04:47:37,989 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-27 04:47:37,989 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-27 04:47:38,588 - INFO - app.main - Application startup event triggered.
2025-06-27 04:47:38,624 - INFO - app.main - Firebase Admin SDK already initialized
2025-06-27 04:47:38,625 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-27 04:47:38,629 - INFO - app.main - Redis connection pool initialized successfully
2025-06-27 04:47:38,637 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-27 04:47:38,638 - INFO - app.main - Firebase events processor background task started
2025-06-27 04:47:38,638 - INFO - app.main - Redis publisher background task started
2025-06-27 04:47:38,638 - INFO - app.main - Pending order checker background task started
2025-06-27 04:47:38,638 - INFO - app.main - SL/TP checker background task started
2025-06-27 04:47:38,638 - INFO - app.main - Redis cleanup background task started
2025-06-27 04:47:38,638 - INFO - app.main - Generating initial service account token...
2025-06-27 04:47:38,638 - INFO - app.main - APScheduler: Starting rotate_service_account_jwt job...
2025-06-27 04:47:39,470 - INFO - app.main - SUCCESS: Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-06-27 04:47:39,474 - INFO - app.main - APScheduler: Finished rotate_service_account_jwt job successfully.
2025-06-27 04:47:39,474 - INFO - app.main - Application startup event finished.
2025-06-27 04:47:39,474 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-27 04:47:39,475 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-27 04:47:40,211 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-27 04:47:44,239 - INFO - app.api.v1.endpoints.users - Refresh token decoded. User ID from token payload: 10
2025-06-27 04:47:44,247 - WARNING - app.api.v1.endpoints.users - Refresh token validation failed for user ID 10. Data found: False, User ID match: False
2025-06-27 04:47:44,248 - ERROR - app.api.v1.endpoints.users - Unexpected error during refresh token process for token: eyJhbGciOiJIUzI1NiIs... : 401: Invalid or expired refresh token
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 310, in refresh_access_token
     raise HTTPException(
    ...<3 lines>...
    )
fastapi.exceptions.HTTPException: 401: Invalid or expired refresh token
2025-06-27 04:47:44,503 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-27 04:47:44,514 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-27 04:47:44,521 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-27 04:47:44,531 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-27 04:47:44,542 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-27 04:47:44,549 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-27 04:47:44,564 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-27 04:47:44,577 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-27 04:47:44,594 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-27 04:47:44,610 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-27 04:47:44,627 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-27 04:47:44,645 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-27 04:47:44,662 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-27 04:47:44,682 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-27 04:47:44,699 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-27 04:47:44,713 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-27 04:47:44,728 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-27 04:47:44,744 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-27 04:47:44,758 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-27 04:47:44,774 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-27 04:47:44,782 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-27 04:47:44,797 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-27 04:47:44,813 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-27 04:47:44,827 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-27 04:47:44,841 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-27 04:47:44,856 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-27 04:47:44,869 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-27 04:47:44,886 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-27 04:47:44,905 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-27 04:47:44,927 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-27 04:47:44,947 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-27 04:47:44,967 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-27 04:47:44,983 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-27 04:47:45,000 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-27 04:47:45,016 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-27 04:47:45,030 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-27 04:47:45,041 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-27 04:47:45,054 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-27 04:47:45,069 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-27 04:47:45,083 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-27 04:47:45,095 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-27 04:47:45,101 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-27 04:47:45,108 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-27 04:47:45,114 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-27 04:47:45,120 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-27 04:47:45,125 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-27 04:47:45,131 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-27 04:47:45,142 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-27 04:47:45,157 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-27 04:47:45,170 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-27 04:47:45,182 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-27 04:47:45,197 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-27 04:47:45,211 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-27 04:47:45,223 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-27 04:47:45,239 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-27 04:47:45,252 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-27 04:47:45,281 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-27 04:47:45,298 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-27 04:47:45,322 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-27 04:47:45,359 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-27 04:47:45,394 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-27 04:47:45,421 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-27 04:47:45,453 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-27 04:47:45,480 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-27 04:47:45,499 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-27 04:47:45,513 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-27 04:47:45,526 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-27 04:47:45,546 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-27 04:47:45,565 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-27 04:47:45,590 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-27 04:47:45,619 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-27 04:47:45,646 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-27 04:47:45,664 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-27 04:47:45,684 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-27 04:47:45,702 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-27 04:47:45,715 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-27 04:47:45,726 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-27 04:47:45,737 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-27 04:47:45,750 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-27 04:47:53,330 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-27 04:47:53,547 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-27 04:47:53,664 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-27 04:47:53,796 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-27 04:47:53,909 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-27 04:47:54,045 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-27 04:47:54,119 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-27 04:47:54,212 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-27 04:47:54,274 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-27 04:47:54,340 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-27 04:47:54,421 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-27 04:47:54,540 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-27 04:47:54,645 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-27 04:47:54,718 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-27 04:47:54,797 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-27 04:47:54,874 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-27 04:47:54,921 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-27 04:47:54,992 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-27 04:47:55,078 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-27 04:47:55,197 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-27 04:47:55,271 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-27 04:47:55,329 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-27 04:47:55,372 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-27 04:47:55,459 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-27 04:47:55,555 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-27 04:47:55,598 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-27 04:47:55,690 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-27 04:47:55,763 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-27 04:47:55,812 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-27 04:47:55,856 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-27 04:47:55,887 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-27 04:47:55,945 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-27 04:47:56,051 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-27 04:47:56,233 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-27 04:47:56,358 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-27 04:47:56,516 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-27 04:47:56,621 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-27 04:47:56,641 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-27 04:47:56,659 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-27 04:47:56,677 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-27 04:47:56,840 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-27 04:47:56,865 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-27 04:47:56,900 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-27 04:47:56,949 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-27 04:47:56,999 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-27 04:47:57,048 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-27 04:47:57,111 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-27 04:47:57,144 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-27 04:47:57,209 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-27 04:47:57,261 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-27 04:47:57,319 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-27 04:47:57,363 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-27 04:47:57,391 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-27 04:47:57,449 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-27 04:47:57,514 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-27 04:47:57,579 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-27 04:47:57,639 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-27 04:47:57,717 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-27 04:47:57,767 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-27 04:47:57,846 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-27 04:47:58,013 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-27 04:47:58,127 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-27 04:47:58,198 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-27 04:47:58,245 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-27 04:47:58,313 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-27 04:47:58,385 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-27 04:47:58,439 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-27 04:47:58,507 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-27 04:47:58,538 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-27 04:47:58,596 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-27 04:47:58,640 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-27 04:47:58,691 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-27 04:47:58,753 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-27 04:47:58,797 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-27 04:47:58,838 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-27 04:47:58,872 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-27 04:47:58,916 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-27 04:47:58,970 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-27 04:47:59,025 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-27 04:48:01,322 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02198027636534150022712952244, Commission=0.10000000, Final PnL=-0.07801972363465849977287047756
2025-06-27 04:48:01,323 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01465351757689433348475301496, Commission=0.10000000, Final PnL=-0.08534648242310566651524698504
2025-06-27 04:48:03,354 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01465351757689433348475301496, Commission=0.10000000, Final PnL=-0.08534648242310566651524698504
2025-06-27 04:48:03,355 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.007326758788447166742376507481, Commission=0.10000000, Final PnL=-0.09267324121155283325762349252
2025-06-27 04:48:05,602 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02198027636534150022712952244, Commission=0.10000000, Final PnL=-0.07801972363465849977287047756
2025-06-27 04:48:05,603 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01465351757689433348475301496, Commission=0.10000000, Final PnL=-0.08534648242310566651524698504
2025-06-27 04:48:08,162 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.040000000000000000000000, PnL USD=0.02930682042978452160279000930, Commission=0.10000000, Final PnL=-0.07069317957021547839720999070
2025-06-27 04:48:08,163 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02198011532233839120209250698, Commission=0.10000000, Final PnL=-0.07801988467766160879790749302
2025-06-27 04:48:10,304 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89219, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.050000000000000000000000, PnL USD=0.03663352553723065200348751163, Commission=0.10000000, Final PnL=-0.06336647446276934799651248837
2025-06-27 04:48:10,305 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89219, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.040000000000000000000000, PnL USD=0.02930682042978452160279000930, Commission=0.10000000, Final PnL=-0.07069317957021547839720999070
2025-06-27 04:48:12,909 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01465351757689433348475301496, Commission=0.10000000, Final PnL=-0.08534648242310566651524698504
2025-06-27 04:48:12,910 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.007326758788447166742376507481, Commission=0.10000000, Final PnL=-0.09267324121155283325762349252
2025-06-27 04:48:15,105 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02198027636534150022712952244, Commission=0.10000000, Final PnL=-0.07801972363465849977287047756
2025-06-27 04:48:15,106 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01465351757689433348475301496, Commission=0.10000000, Final PnL=-0.08534648242310566651524698504
2025-06-27 04:48:17,686 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.040000000000000000000000, PnL USD=0.02930682042978452160279000930, Commission=0.10000000, Final PnL=-0.07069317957021547839720999070
2025-06-27 04:48:17,687 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02198011532233839120209250698, Commission=0.10000000, Final PnL=-0.07801988467766160879790749302
2025-06-27 04:48:19,941 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01465341021489226080139500465, Commission=0.10000000, Final PnL=-0.08534658978510773919860499535
2025-06-27 04:48:19,942 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.007326705107446130400697502326, Commission=0.10000000, Final PnL=-0.09267329489255386959930249767
2025-06-27 04:48:21,783 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.040000000000000000000000, PnL USD=0.02930746461123648193194806717, Commission=0.10000000, Final PnL=-0.07069253538876351806805193283
2025-06-27 04:48:21,784 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02198059845842736144896105038, Commission=0.10000000, Final PnL=-0.07801940154157263855103894962
2025-06-27 04:48:23,320 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:48:23,320 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:48:25,774 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02198059845842736144896105038, Commission=0.10000000, Final PnL=-0.07801940154157263855103894962
2025-06-27 04:48:25,775 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01465373230561824096597403359, Commission=0.10000000, Final PnL=-0.08534626769438175903402596641
2025-06-27 04:48:28,274 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01465373230561824096597403359, Commission=0.10000000, Final PnL=-0.08534626769438175903402596641
2025-06-27 04:48:28,276 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.007326866152809120482987016793, Commission=0.10000000, Final PnL=-0.09267313384719087951701298321
2025-06-27 04:48:30,186 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:48:30,186 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:48:32,652 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89214, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.100000000000000000000000, PnL USD=0.07326597747803852325095795266, Commission=0.10000000, Final PnL=-0.02673402252196147674904204734
2025-06-27 04:48:32,654 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89214, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.090000000000000000000000, PnL USD=0.06593937973023467092586215739, Commission=0.10000000, Final PnL=-0.03406062026976532907413784261
2025-06-27 04:48:34,784 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89216, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.080000000000000000000000, PnL USD=0.05861149371391729918236966269, Commission=0.10000000, Final PnL=-0.04138850628608270081763033731
2025-06-27 04:48:34,785 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89216, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.070000000000000000000000, PnL USD=0.05128505699967763678457345485, Commission=0.10000000, Final PnL=-0.04871494300032236321542654515
2025-06-27 04:48:37,249 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.040000000000000000000000, PnL USD=0.02930574685695864959118483135, Commission=0.10000000, Final PnL=-0.07069425314304135040881516865
2025-06-27 04:48:37,250 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02197931014271898719338862351, Commission=0.10000000, Final PnL=-0.07802068985728101280661137649
2025-06-27 04:48:38,634 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-27 04:48:38,657 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-27 04:48:38,688 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-27 04:48:39,248 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5221800000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-359.9200000000000000000000000, PnL USD=-450.4010711917007671034025353, Commission=0.10000000, Final PnL=-450.5010711917007671034025353
2025-06-27 04:48:39,256 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-27 04:48:39,282 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-27 04:48:39,290 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-27 04:48:39,316 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-27 04:48:39,646 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89218, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.060000000000000000000000, PnL USD=0.04395862028543797438677724702, Commission=0.10000000, Final PnL=-0.05604137971456202561322275298
2025-06-27 04:48:39,648 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89218, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.050000000000000000000000, PnL USD=0.03663218357119831198898103918, Commission=0.10000000, Final PnL=-0.06336781642880168801101896082
2025-06-27 04:48:40,068 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.8921800000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.06000000000000000000000000, PnL USD=0.04395862028543797438677724702, Commission=0.10000000, Final PnL=-0.05604137971456202561322275298
2025-06-27 04:48:40,069 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.8921800000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.05000000000000000000000000, PnL USD=0.03663218357119831198898103918, Commission=0.10000000, Final PnL=-0.06336781642880168801101896082
2025-06-27 04:48:40,071 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-27 04:48:41,567 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:48:41,567 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:48:43,879 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89219, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.050000000000000000000000, PnL USD=0.03663245195653925899876182312, Commission=0.10000000, Final PnL=-0.06336754804346074100123817688
2025-06-27 04:48:43,881 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89219, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.040000000000000000000000, PnL USD=0.02930596156523140719900945850, Commission=0.10000000, Final PnL=-0.07069403843476859280099054150
2025-06-27 04:48:46,108 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01465308813832515202578943512, Commission=0.10000000, Final PnL=-0.08534691186167484797421056488
2025-06-27 04:48:46,108 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.007326544069162576012894717562, Commission=0.10000000, Final PnL=-0.09267345593083742398710528244
2025-06-27 04:48:48,525 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:48:48,525 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:48:50,867 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:48:50,867 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:48:53,221 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89224, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0E-24, PnL USD=0E-14, Commission=0.10000000, Final PnL=-0.10000000000000
2025-06-27 04:48:53,222 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89224, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.010000000000000000000000, PnL USD=-0.007326490391307851799752364625, Commission=0.10000000, Final PnL=-0.1073264903913078517997523646
2025-06-27 04:48:55,230 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89223, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.007326490391307851799752364625, Commission=0.10000000, Final PnL=-0.09267350960869214820024763538
2025-06-27 04:48:55,231 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89223, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0E-24, PnL USD=0E-14, Commission=0.10000000, Final PnL=-0.10000000000000
2025-06-27 04:48:57,620 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:48:57,620 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:48:59,888 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89224, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0E-24, PnL USD=0E-14, Commission=0.10000000, Final PnL=-0.10000000000000
2025-06-27 04:48:59,889 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89224, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.010000000000000000000000, PnL USD=-0.007326490391307851799752364625, Commission=0.10000000, Final PnL=-0.1073264903913078517997523646
2025-06-27 04:49:02,210 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:49:02,211 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:49:04,452 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:49:04,452 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:49:06,912 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:49:06,912 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:49:08,991 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:49:08,991 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:49:11,204 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89219, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.050000000000000000000000, PnL USD=0.03663272034581288006447358781, Commission=0.10000000, Final PnL=-0.06336727965418711993552641219
2025-06-27 04:49:11,205 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89219, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.040000000000000000000000, PnL USD=0.02930617627665030405157887025, Commission=0.10000000, Final PnL=-0.07069382372334969594842112975
2025-06-27 04:49:13,704 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89218, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.060000000000000000000000, PnL USD=0.04395894234784711079851418775, Commission=0.10000000, Final PnL=-0.05604105765215288920148581225
2025-06-27 04:49:13,705 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89218, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.050000000000000000000000, PnL USD=0.03663245195653925899876182312, Commission=0.10000000, Final PnL=-0.06336754804346074100123817688
2025-06-27 04:49:15,890 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89217, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.070000000000000000000000, PnL USD=0.05128580848413803209026302293, Commission=0.10000000, Final PnL=-0.04871419151586196790973697707
2025-06-27 04:49:15,891 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89217, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.060000000000000000000000, PnL USD=0.04395926441497545607736830537, Commission=0.10000000, Final PnL=-0.05604073558502454392263169463
2025-06-27 04:49:18,553 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89217, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.070000000000000000000000, PnL USD=0.05128580848413803209026302293, Commission=0.10000000, Final PnL=-0.04871419151586196790973697707
2025-06-27 04:49:18,554 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89217, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.060000000000000000000000, PnL USD=0.04395926441497545607736830537, Commission=0.10000000, Final PnL=-0.05604073558502454392263169463
2025-06-27 04:49:20,064 - INFO - app.api.v1.endpoints.users - Refresh token decoded. User ID from token payload: 10
2025-06-27 04:49:20,070 - WARNING - app.api.v1.endpoints.users - Refresh token validation failed for user ID 10. Data found: False, User ID match: False
2025-06-27 04:49:20,073 - ERROR - app.api.v1.endpoints.users - Unexpected error during refresh token process for token: eyJhbGciOiJIUzI1NiIs... : 401: Invalid or expired refresh token
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 310, in refresh_access_token
     raise HTTPException(
    ...<3 lines>...
    )
fastapi.exceptions.HTTPException: 401: Invalid or expired refresh token
2025-06-27 04:49:20,704 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89215, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.090000000000000000000000, PnL USD=0.06593841352177066619777128162, Commission=0.10000000, Final PnL=-0.03406158647822933380222871838
2025-06-27 04:49:20,705 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89215, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.080000000000000000000000, PnL USD=0.05861192313046281439801891700, Commission=0.10000000, Final PnL=-0.04138807686953718560198108300
2025-06-27 04:49:22,790 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:49:22,790 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:49:25,375 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:49:25,375 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:49:28,237 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89214, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.100000000000000000000000, PnL USD=0.07326275687754130187918971391, Commission=0.10000000, Final PnL=-0.02673724312245869812081028609
2025-06-27 04:49:28,239 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89214, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.090000000000000000000000, PnL USD=0.06593648118978717169127074252, Commission=0.10000000, Final PnL=-0.03406351881021282830872925748
2025-06-27 04:49:29,917 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89213, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.110000000000000000000000, PnL USD=0.08059198476078833614184189318, Commission=0.10000000, Final PnL=-0.01940801523921166385815810682
2025-06-27 04:49:29,918 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89213, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.100000000000000000000000, PnL USD=0.07326544069162576012894717562, Commission=0.10000000, Final PnL=-0.02673455930837423987105282438
2025-06-27 04:49:32,552 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:49:32,552 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:49:34,799 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:49:34,799 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:49:36,942 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89213, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.110000000000000000000000, PnL USD=0.08059021341753789571626383771, Commission=0.10000000, Final PnL=-0.01940978658246210428373616229
2025-06-27 04:49:36,944 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89213, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.100000000000000000000000, PnL USD=0.07326383037957990519660348882, Commission=0.10000000, Final PnL=-0.02673616962042009480339651118
2025-06-27 04:49:38,643 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-27 04:49:38,694 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-27 04:49:38,801 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-27 04:49:39,406 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89213, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.110000000000000000000000, PnL USD=0.08059198476078833614184189318, Commission=0.10000000, Final PnL=-0.01940801523921166385815810682
2025-06-27 04:49:39,409 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89213, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.100000000000000000000000, PnL USD=0.07326544069162576012894717562, Commission=0.10000000, Final PnL=-0.02673455930837423987105282438
2025-06-27 04:49:40,114 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5221200000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-359.9800000000000000000000000, PnL USD=-450.4423339214434976287898695, Commission=0.10000000, Final PnL=-450.5423339214434976287898695
2025-06-27 04:49:40,120 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-27 04:49:40,166 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-27 04:49:40,176 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-27 04:49:40,238 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-27 04:49:41,346 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.8921300000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.11000000000000000000000000, PnL USD=0.08059021341753789571626383771, Commission=0.10000000, Final PnL=-0.01940978658246210428373616229
2025-06-27 04:49:41,348 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.8921300000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.10000000000000000000000000, PnL USD=0.07326383037957990519660348882, Commission=0.10000000, Final PnL=-0.02673616962042009480339651118
2025-06-27 04:49:41,350 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-27 04:49:42,059 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:49:42,059 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 04:49:43,639 - INFO - app.main - Application shutdown event triggered.
2025-06-27 04:49:43,639 - INFO - app.main - APScheduler shut down gracefully.
2025-06-27 04:49:43,639 - INFO - app.main - Cancelling 5 other background tasks...
2025-06-27 04:49:43,658 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-27 04:49:45,133 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-27 05:00:11,643 - INFO - app.core.config - .env file loaded successfully.
2025-06-27 05:00:11,649 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-27 05:00:11,649 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-27 05:00:17,207 - INFO - app.core.config - .env file loaded successfully.
2025-06-27 05:00:17,213 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-27 05:00:17,213 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-27 05:00:22,683 - INFO - app.core.config - .env file loaded successfully.
2025-06-27 05:00:22,688 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-27 05:00:22,689 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-27 05:02:14,549 - INFO - app.core.config - .env file loaded successfully.
2025-06-27 05:02:14,554 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-27 05:02:14,554 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-27 05:02:59,598 - INFO - app.core.config - .env file loaded successfully.
2025-06-27 05:02:59,603 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-27 05:02:59,604 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-27 05:03:28,439 - INFO - app.core.config - .env file loaded successfully.
2025-06-27 05:03:28,445 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-27 05:03:28,445 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-27 05:03:29,245 - INFO - app.main - Application startup event triggered.
2025-06-27 05:03:29,277 - INFO - app.main - Firebase Admin SDK already initialized
2025-06-27 05:03:29,277 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-27 05:03:29,282 - INFO - app.main - Redis connection pool initialized successfully
2025-06-27 05:03:29,296 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-27 05:03:29,297 - INFO - app.main - Firebase events processor background task started
2025-06-27 05:03:29,297 - INFO - app.main - Redis publisher background task started
2025-06-27 05:03:29,297 - INFO - app.main - Pending order checker background task started
2025-06-27 05:03:29,297 - INFO - app.main - SL/TP checker background task started
2025-06-27 05:03:29,297 - INFO - app.main - Redis cleanup background task started
2025-06-27 05:03:29,297 - INFO - app.main - Generating initial service account token...
2025-06-27 05:03:29,297 - INFO - app.main - APScheduler: Starting rotate_service_account_jwt job...
2025-06-27 05:03:30,220 - INFO - app.main - SUCCESS: Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-06-27 05:03:30,223 - INFO - app.main - APScheduler: Finished rotate_service_account_jwt job successfully.
2025-06-27 05:03:30,224 - INFO - app.main - Application startup event finished.
2025-06-27 05:03:30,224 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-27 05:03:30,225 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-27 05:03:30,859 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-27 05:03:35,942 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-27 05:03:35,955 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-27 05:03:35,967 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-27 05:03:35,977 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-27 05:03:35,986 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-27 05:03:35,997 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-27 05:03:36,007 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-27 05:03:36,017 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-27 05:03:36,023 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-27 05:03:36,033 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-27 05:03:36,043 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-27 05:03:36,055 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-27 05:03:36,066 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-27 05:03:36,075 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-27 05:03:36,083 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-27 05:03:36,096 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-27 05:03:36,105 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-27 05:03:36,115 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-27 05:03:36,124 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-27 05:03:36,132 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-27 05:03:36,141 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-27 05:03:36,149 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-27 05:03:36,157 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-27 05:03:36,165 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-27 05:03:36,174 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-27 05:03:36,185 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-27 05:03:36,192 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-27 05:03:36,202 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-27 05:03:36,211 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-27 05:03:36,220 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-27 05:03:36,231 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-27 05:03:36,242 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-27 05:03:36,253 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-27 05:03:36,263 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-27 05:03:36,270 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-27 05:03:36,279 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-27 05:03:36,287 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-27 05:03:36,296 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-27 05:03:36,304 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-27 05:03:36,312 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-27 05:03:36,319 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-27 05:03:36,328 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-27 05:03:36,339 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-27 05:03:36,347 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-27 05:03:36,357 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-27 05:03:36,366 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-27 05:03:36,374 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-27 05:03:36,382 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-27 05:03:36,392 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-27 05:03:36,402 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-27 05:03:36,413 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-27 05:03:36,422 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-27 05:03:36,432 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-27 05:03:36,471 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-27 05:03:36,497 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-27 05:03:36,525 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-27 05:03:36,536 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-27 05:03:36,542 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-27 05:03:36,547 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-27 05:03:36,561 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-27 05:03:36,571 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-27 05:03:36,580 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-27 05:03:36,590 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-27 05:03:36,600 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-27 05:03:36,611 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-27 05:03:36,619 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-27 05:03:36,629 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-27 05:03:36,638 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-27 05:03:36,646 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-27 05:03:36,656 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-27 05:03:36,665 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-27 05:03:36,673 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-27 05:03:36,683 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-27 05:03:36,692 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-27 05:03:36,701 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-27 05:03:36,708 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-27 05:03:36,718 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-27 05:03:36,729 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-27 05:03:36,739 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-27 05:03:38,582 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.8921, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.140000000000000000000000, PnL USD=0.1025498282290377163618250939, Commission=0.10000000, Final PnL=0.0025498282290377163618250939
2025-06-27 05:03:38,584 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.8921, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.130000000000000000000000, PnL USD=0.09522484049839216519312330152, Commission=0.10000000, Final PnL=-0.00477515950160783480687669848
2025-06-27 05:03:38,887 - INFO - app.api.v1.endpoints.users - Refresh token decoded. User ID from token payload: 10
2025-06-27 05:03:38,891 - WARNING - app.api.v1.endpoints.users - Refresh token validation failed for user ID 10. Data found: False, User ID match: False
2025-06-27 05:03:38,892 - ERROR - app.api.v1.endpoints.users - Unexpected error during refresh token process for token: eyJhbGciOiJIUzI1NiIs... : 401: Invalid or expired refresh token
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 310, in refresh_access_token
     raise HTTPException(
    ...<3 lines>...
    )
fastapi.exceptions.HTTPException: 401: Invalid or expired refresh token
2025-06-27 05:04:13,532 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-27 05:04:13,696 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-27 05:04:13,783 - INFO - app.core.config - .env file loaded successfully.
2025-06-27 05:04:13,799 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-27 05:04:13,800 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-27 05:04:14,047 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-27 05:04:14,158 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-27 05:04:14,210 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-27 05:04:14,266 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-27 05:04:14,350 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-27 05:04:14,412 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-27 05:04:14,480 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-27 05:04:14,689 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-27 05:04:14,799 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-27 05:04:14,911 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-27 05:04:14,914 - INFO - app.main - Application startup event triggered.
2025-06-27 05:04:14,954 - INFO - app.main - Firebase Admin SDK already initialized
2025-06-27 05:04:14,954 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-27 05:04:14,960 - INFO - app.main - Redis connection pool initialized successfully
2025-06-27 05:04:14,977 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-27 05:04:14,977 - INFO - app.main - Firebase events processor background task started
2025-06-27 05:04:14,978 - INFO - app.main - Redis publisher background task started
2025-06-27 05:04:14,978 - INFO - app.main - Pending order checker background task started
2025-06-27 05:04:14,978 - INFO - app.main - SL/TP checker background task started
2025-06-27 05:04:14,978 - INFO - app.main - Redis cleanup background task started
2025-06-27 05:04:14,978 - INFO - app.main - Generating initial service account token...
2025-06-27 05:04:14,978 - INFO - app.main - APScheduler: Starting rotate_service_account_jwt job...
2025-06-27 05:04:15,033 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-27 05:04:15,180 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-27 05:04:15,376 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-27 05:04:15,519 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-27 05:04:15,608 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-27 05:04:15,709 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-27 05:04:15,827 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-27 05:04:15,832 - INFO - app.main - SUCCESS: Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-06-27 05:04:15,839 - INFO - app.main - APScheduler: Finished rotate_service_account_jwt job successfully.
2025-06-27 05:04:15,839 - INFO - app.main - Application startup event finished.
2025-06-27 05:04:15,841 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-27 05:04:15,842 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-27 05:04:15,964 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-27 05:04:16,024 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-27 05:04:16,091 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-27 05:04:16,158 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-27 05:04:16,210 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-27 05:04:16,251 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-27 05:04:16,298 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-27 05:04:16,340 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-27 05:04:16,382 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-27 05:04:16,428 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-27 05:04:16,464 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-27 05:04:16,492 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-27 05:04:16,478 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-27 05:04:16,605 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-27 05:04:16,750 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-27 05:04:16,827 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-27 05:04:16,987 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-27 05:04:17,139 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-27 05:04:17,250 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-27 05:04:17,320 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-27 05:04:17,499 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-27 05:04:17,875 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-27 05:04:18,084 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-27 05:04:18,243 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-27 05:04:18,357 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-27 05:04:18,420 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-27 05:04:18,499 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-27 05:04:18,568 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-27 05:04:18,667 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-27 05:04:18,769 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-27 05:04:18,854 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-27 05:04:18,949 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-27 05:04:19,038 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-27 05:04:19,097 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-27 05:04:19,291 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-27 05:04:19,398 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-27 05:04:19,528 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-27 05:04:19,638 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-27 05:04:19,781 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-27 05:04:19,898 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-27 05:04:19,943 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-27 05:04:19,965 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-27 05:04:19,980 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-27 05:04:19,996 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-27 05:04:20,007 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-27 05:04:20,027 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-27 05:04:20,041 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-27 05:04:20,055 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-27 05:04:20,070 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-27 05:04:20,088 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-27 05:04:20,105 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-27 05:04:20,123 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-27 05:04:20,142 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-27 05:04:20,160 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-27 05:04:20,177 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-27 05:04:20,192 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-27 05:04:20,206 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-27 05:04:20,222 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-27 05:04:20,236 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-27 05:04:20,250 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-27 05:04:20,263 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-27 05:04:22,023 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02197512415945150090098009054, Commission=0.10000000, Final PnL=-0.07802487584054849909901990946
2025-06-27 05:04:22,023 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01465008277296766726732006036, Commission=0.10000000, Final PnL=-0.08534991722703233273267993964
2025-06-27 05:04:22,556 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02197512415945150090098009054, Commission=0.10000000, Final PnL=-0.07802487584054849909901990946
2025-06-27 05:04:22,557 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01465008277296766726732006036, Commission=0.10000000, Final PnL=-0.08534991722703233273267993964
2025-06-27 05:04:24,418 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89223, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.007324397568300007324397568300, Commission=0.10000000, Final PnL=-0.09267560243169999267560243170
2025-06-27 05:04:24,420 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89223, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0E-24, PnL USD=0E-14, Commission=0.10000000, Final PnL=-0.10000000000000
2025-06-27 05:04:25,752 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89223, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.007324397568300007324397568300, Commission=0.10000000, Final PnL=-0.09267560243169999267560243170
2025-06-27 05:04:25,755 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89223, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0E-24, PnL USD=0E-14, Commission=0.10000000, Final PnL=-0.10000000000000
2025-06-27 05:04:27,741 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01464879513660001464879513660, Commission=0.10000000, Final PnL=-0.08535120486339998535120486340
2025-06-27 05:04:27,742 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.007324397568300007324397568300, Commission=0.10000000, Final PnL=-0.09267560243169999267560243170
2025-06-27 05:04:28,331 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01464804411990888916557416671, Commission=0.10000000, Final PnL=-0.08535195588009111083442583329
2025-06-27 05:04:28,344 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.007324022059954444582787083355, Commission=0.10000000, Final PnL=-0.09267597794004555541721291664
2025-06-27 05:04:29,407 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-27 05:04:29,414 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89217, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.070000000000000000000000, PnL USD=0.05126815441968111207950958348, Commission=0.10000000, Final PnL=-0.04873184558031888792049041652
2025-06-27 05:04:29,415 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89217, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.060000000000000000000000, PnL USD=0.04394413235972666749672250013, Commission=0.10000000, Final PnL=-0.05605586764027333250327749987
2025-06-27 05:04:29,427 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-27 05:04:29,504 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-27 05:04:30,304 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5220500000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-360.0500000000000000000000000, PnL USD=-450.4735571208727964267393997, Commission=0.10000000, Final PnL=-450.5735571208727964267393997
2025-06-27 05:04:30,635 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89217, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.070000000000000000000000, PnL USD=0.05126702797714955324447048484, Commission=0.10000000, Final PnL=-0.04873297202285044675552951516
2025-06-27 05:04:30,637 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-27 05:04:30,664 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89217, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.060000000000000000000000, PnL USD=0.04394316683755675992383184415, Commission=0.10000000, Final PnL=-0.05605683316244324007616815585
2025-06-27 05:04:30,799 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-27 05:04:30,865 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-27 05:04:31,006 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-27 05:04:31,814 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02197158341877837996191592207, Commission=0.10000000, Final PnL=-0.07802841658122162003808407793
2025-06-27 05:04:31,817 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01464772227918558664127728138, Commission=0.10000000, Final PnL=-0.08535227772081441335872271862
2025-06-27 05:04:32,410 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.8922100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.03000000000000000000000000, PnL USD=0.02197158341877837996191592207, Commission=0.10000000, Final PnL=-0.07802841658122162003808407793
2025-06-27 05:04:32,412 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.8922100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.02000000000000000000000000, PnL USD=0.01464772227918558664127728138, Commission=0.10000000, Final PnL=-0.08535227772081441335872271862
2025-06-27 05:04:32,419 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-27 05:04:32,954 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02197174433678289719420824819, Commission=0.10000000, Final PnL=-0.07802825566321710280579175181
2025-06-27 05:04:32,962 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01464782955785526479613883213, Commission=0.10000000, Final PnL=-0.08535217044214473520386116787
2025-06-27 05:04:33,858 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.040000000000000000000000, PnL USD=0.02929565911571052959227766426, Commission=0.10000000, Final PnL=-0.07070434088428947040772233574
2025-06-27 05:04:33,860 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02197174433678289719420824819, Commission=0.10000000, Final PnL=-0.07802825566321710280579175181
2025-06-27 05:04:34,576 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.040000000000000000000000, PnL USD=0.02929565911571052959227766426, Commission=0.10000000, Final PnL=-0.07070434088428947040772233574
2025-06-27 05:04:34,577 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02197174433678289719420824819, Commission=0.10000000, Final PnL=-0.07802825566321710280579175181
2025-06-27 05:04:35,791 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89219, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.050000000000000000000000, PnL USD=0.03662306080893016714764953196, Commission=0.10000000, Final PnL=-0.06337693919106983285235046804
2025-06-27 05:04:35,792 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89219, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.040000000000000000000000, PnL USD=0.02929844864714413371811962557, Commission=0.10000000, Final PnL=-0.07070155135285586628188037443
2025-06-27 05:04:36,380 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89219, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.050000000000000000000000, PnL USD=0.03662306080893016714764953196, Commission=0.10000000, Final PnL=-0.06337693919106983285235046804
2025-06-27 05:04:36,381 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89219, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.040000000000000000000000, PnL USD=0.02929844864714413371811962557, Commission=0.10000000, Final PnL=-0.07070155135285586628188037443
2025-06-27 05:04:38,163 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:04:38,163 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:04:39,049 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:04:39,049 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:04:40,613 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.040000000000000000000000, PnL USD=0.02929694652574835387781708451, Commission=0.10000000, Final PnL=-0.07070305347425164612218291549
2025-06-27 05:04:40,615 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02197270989431126540836281339, Commission=0.10000000, Final PnL=-0.07802729010568873459163718661
2025-06-27 05:04:41,321 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.040000000000000000000000, PnL USD=0.02929694652574835387781708451, Commission=0.10000000, Final PnL=-0.07070305347425164612218291549
2025-06-27 05:04:41,324 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02197270989431126540836281339, Commission=0.10000000, Final PnL=-0.07802729010568873459163718661
2025-06-27 05:04:42,355 - INFO - app.core.config - .env file loaded successfully.
2025-06-27 05:04:42,372 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-27 05:04:42,372 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-27 05:04:42,657 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:04:42,657 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:04:43,377 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:04:43,378 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:04:44,949 - INFO - app.main - Application startup event triggered.
2025-06-27 05:04:44,985 - INFO - app.main - Firebase Admin SDK already initialized
2025-06-27 05:04:44,986 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-27 05:04:44,996 - INFO - app.main - Redis connection pool initialized successfully
2025-06-27 05:04:45,009 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-27 05:04:45,009 - INFO - app.main - Firebase events processor background task started
2025-06-27 05:04:45,009 - INFO - app.main - Redis publisher background task started
2025-06-27 05:04:45,009 - INFO - app.main - Pending order checker background task started
2025-06-27 05:04:45,009 - INFO - app.main - SL/TP checker background task started
2025-06-27 05:04:45,009 - INFO - app.main - Redis cleanup background task started
2025-06-27 05:04:45,009 - INFO - app.main - Generating initial service account token...
2025-06-27 05:04:45,009 - INFO - app.main - APScheduler: Starting rotate_service_account_jwt job...
2025-06-27 05:04:45,135 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:04:45,135 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:04:45,952 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:04:45,952 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:04:45,980 - INFO - app.main - SUCCESS: Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-06-27 05:04:45,985 - INFO - app.main - APScheduler: Finished rotate_service_account_jwt job successfully.
2025-06-27 05:04:45,985 - INFO - app.main - Application startup event finished.
2025-06-27 05:04:45,986 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-27 05:04:45,987 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-27 05:04:46,714 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-27 05:04:47,194 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:04:47,194 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:04:47,705 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:04:47,705 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:04:48,321 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.040000000000000000000000, PnL USD=0.02929737568757278566772381364, Commission=0.10000000, Final PnL=-0.07070262431242721433227618636
2025-06-27 05:04:48,324 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02197303176567958925079286023, Commission=0.10000000, Final PnL=-0.07802696823432041074920713977
2025-06-27 05:04:49,822 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:04:49,822 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:04:50,440 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:04:50,440 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:04:51,064 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:04:51,064 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:04:51,876 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02197319270490002197319270490, Commission=0.10000000, Final PnL=-0.07802680729509997802680729510
2025-06-27 05:04:51,880 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01464879513660001464879513660, Commission=0.10000000, Final PnL=-0.08535120486339998535120486340
2025-06-27 05:04:52,596 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02197319270490002197319270490, Commission=0.10000000, Final PnL=-0.07802680729509997802680729510
2025-06-27 05:04:52,597 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01464879513660001464879513660, Commission=0.10000000, Final PnL=-0.08535120486339998535120486340
2025-06-27 05:04:53,322 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02197319270490002197319270490, Commission=0.10000000, Final PnL=-0.07802680729509997802680729510
2025-06-27 05:04:53,328 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01464879513660001464879513660, Commission=0.10000000, Final PnL=-0.08535120486339998535120486340
2025-06-27 05:04:55,152 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.040000000000000000000000, PnL USD=0.02929780486197071684404046027, Commission=0.10000000, Final PnL=-0.07070219513802928315595953973
2025-06-27 05:04:55,154 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02197335364647803763303034520, Commission=0.10000000, Final PnL=-0.07802664635352196236696965480
2025-06-27 05:04:56,409 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.040000000000000000000000, PnL USD=0.02929737568757278566772381364, Commission=0.10000000, Final PnL=-0.07070262431242721433227618636
2025-06-27 05:04:56,427 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02197303176567958925079286023, Commission=0.10000000, Final PnL=-0.07802696823432041074920713977
2025-06-27 05:04:57,764 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.040000000000000000000000, PnL USD=0.02929737568757278566772381364, Commission=0.10000000, Final PnL=-0.07070262431242721433227618636
2025-06-27 05:04:57,765 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02197303176567958925079286023, Commission=0.10000000, Final PnL=-0.07802696823432041074920713977
2025-06-27 05:04:59,518 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:04:59,518 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:05:02,305 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:05:02,305 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:05:03,267 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:05:03,267 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:05:04,584 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89216, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.080000000000000000000000, PnL USD=0.05860076034486547462953331819, Commission=0.10000000, Final PnL=-0.04139923965513452537046668181
2025-06-27 05:05:04,586 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89216, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.070000000000000000000000, PnL USD=0.05127566530175729030084165342, Commission=0.10000000, Final PnL=-0.04872433469824270969915834658
2025-06-27 05:05:05,413 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89216, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.080000000000000000000000, PnL USD=0.05860204814158254831006343672, Commission=0.10000000, Final PnL=-0.04139795185841745168993656328
2025-06-27 05:05:05,421 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89216, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.070000000000000000000000, PnL USD=0.05127679212388472977130550713, Commission=0.10000000, Final PnL=-0.04872320787611527022869449287
2025-06-27 05:05:06,188 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89216, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.080000000000000000000000, PnL USD=0.05860204814158254831006343672, Commission=0.10000000, Final PnL=-0.04139795185841745168993656328
2025-06-27 05:05:06,190 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89216, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.070000000000000000000000, PnL USD=0.05127679212388472977130550713, Commission=0.10000000, Final PnL=-0.04872320787611527022869449287
2025-06-27 05:05:06,828 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89217, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.070000000000000000000000, PnL USD=0.05127679212388472977130550713, Commission=0.10000000, Final PnL=-0.04872320787611527022869449287
2025-06-27 05:05:06,830 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89217, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.060000000000000000000000, PnL USD=0.04395153610618691123254757754, Commission=0.10000000, Final PnL=-0.05604846389381308876745242246
2025-06-27 05:05:07,542 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89217, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.070000000000000000000000, PnL USD=0.05127115850844875447707080547, Commission=0.10000000, Final PnL=-0.04872884149155124552292919453
2025-06-27 05:05:07,552 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89217, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.060000000000000000000000, PnL USD=0.04394670729295607526606069040, Commission=0.10000000, Final PnL=-0.05605329270704392473393930960
2025-06-27 05:05:08,672 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89217, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.070000000000000000000000, PnL USD=0.05127115850844875447707080547, Commission=0.10000000, Final PnL=-0.04872884149155124552292919453
2025-06-27 05:05:08,675 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89217, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.060000000000000000000000, PnL USD=0.04394670729295607526606069040, Commission=0.10000000, Final PnL=-0.05605329270704392473393930960
2025-06-27 05:05:09,812 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89223, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.007325202358715159506281361023, Commission=0.10000000, Final PnL=-0.09267479764128484049371863898
2025-06-27 05:05:09,824 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89223, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0E-24, PnL USD=0E-14, Commission=0.10000000, Final PnL=-0.10000000000000
2025-06-27 05:05:10,926 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89223, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.007325202358715159506281361023, Commission=0.10000000, Final PnL=-0.09267479764128484049371863898
2025-06-27 05:05:10,926 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89223, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0E-24, PnL USD=0E-14, Commission=0.10000000, Final PnL=-0.10000000000000
2025-06-27 05:05:11,647 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89223, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.007325202358715159506281361023, Commission=0.10000000, Final PnL=-0.09267479764128484049371863898
2025-06-27 05:05:11,649 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89223, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0E-24, PnL USD=0E-14, Commission=0.10000000, Final PnL=-0.10000000000000
2025-06-27 05:05:12,660 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01464890243098535842202023013, Commission=0.10000000, Final PnL=-0.08535109756901464157797976987
2025-06-27 05:05:12,665 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.007324451215492679211010115067, Commission=0.10000000, Final PnL=-0.09267554878450732078898988493
2025-06-27 05:05:13,653 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01464890243098535842202023013, Commission=0.10000000, Final PnL=-0.08535109756901464157797976987
2025-06-27 05:05:13,657 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.007324451215492679211010115067, Commission=0.10000000, Final PnL=-0.09267554878450732078898988493
2025-06-27 05:05:14,320 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01465147796784000586059118714, Commission=0.10000000, Final PnL=-0.08534852203215999413940881286
2025-06-27 05:05:14,330 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.007325738983920002930295593568, Commission=0.10000000, Final PnL=-0.09267426101607999706970440643
2025-06-27 05:05:14,973 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-27 05:05:14,999 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-27 05:05:15,041 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-27 05:05:15,179 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02197721695176000879088678070, Commission=0.10000000, Final PnL=-0.07802278304823999120911321930
2025-06-27 05:05:15,181 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01465147796784000586059118714, Commission=0.10000000, Final PnL=-0.08534852203215999413940881286
2025-06-27 05:05:15,665 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5220600000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-360.0400000000000000000000000, PnL USD=-450.5399622089021811219701425, Commission=0.10000000, Final PnL=-450.6399622089021811219701425
2025-06-27 05:05:15,681 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-27 05:05:15,712 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-27 05:05:15,719 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-27 05:05:15,739 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-27 05:05:15,821 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02197721695176000879088678070, Commission=0.10000000, Final PnL=-0.07802278304823999120911321930
2025-06-27 05:05:15,825 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01465147796784000586059118714, Commission=0.10000000, Final PnL=-0.08534852203215999413940881286
2025-06-27 05:05:16,344 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.8922100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.03000000000000000000000000, PnL USD=0.02197721695176000879088678070, Commission=0.10000000, Final PnL=-0.07802278304823999120911321930
2025-06-27 05:05:16,346 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.8922100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.02000000000000000000000000, PnL USD=0.01465147796784000586059118714, Commission=0.10000000, Final PnL=-0.08534852203215999413940881286
2025-06-27 05:05:16,348 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-27 05:05:16,392 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02197721695176000879088678070, Commission=0.10000000, Final PnL=-0.07802278304823999120911321930
2025-06-27 05:05:16,396 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01465147796784000586059118714, Commission=0.10000000, Final PnL=-0.08534852203215999413940881286
2025-06-27 05:05:17,278 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:05:17,278 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:05:17,863 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:05:17,863 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:05:18,304 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:05:18,305 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:05:18,973 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:05:18,973 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:05:19,889 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:05:19,889 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:05:20,406 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:05:20,406 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:05:21,090 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01465137063572297188401975005, Commission=0.10000000, Final PnL=-0.08534862936427702811598024995
2025-06-27 05:05:21,093 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.007325685317861485942009875024, Commission=0.10000000, Final PnL=-0.09267431468213851405799012498
2025-06-27 05:05:22,114 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01465222933669357792788172720, Commission=0.10000000, Final PnL=-0.08534777066330642207211827280
2025-06-27 05:05:22,116 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.007326114668346788963940863602, Commission=0.10000000, Final PnL=-0.09267388533165321103605913640
2025-06-27 05:05:22,767 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01465222933669357792788172720, Commission=0.10000000, Final PnL=-0.08534777066330642207211827280
2025-06-27 05:05:22,770 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.007326114668346788963940863602, Commission=0.10000000, Final PnL=-0.09267388533165321103605913640
2025-06-27 05:05:23,307 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89225, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.010000000000000000000000, PnL USD=-0.007326114668346788963940863602, Commission=0.10000000, Final PnL=-0.1073261146683467889639408636
2025-06-27 05:05:23,309 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89225, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.020000000000000000000000, PnL USD=-0.01465222933669357792788172720, Commission=0.10000000, Final PnL=-0.1146522293366935779278817272
2025-06-27 05:05:23,893 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89225, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.010000000000000000000000, PnL USD=-0.007324826767846940419859070333, Commission=0.10000000, Final PnL=-0.1073248267678469404198590703
2025-06-27 05:05:23,894 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89225, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.020000000000000000000000, PnL USD=-0.01464965353569388083971814067, Commission=0.10000000, Final PnL=-0.1146496535356938808397181407
2025-06-27 05:05:24,392 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89225, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.010000000000000000000000, PnL USD=-0.007324826767846940419859070333, Commission=0.10000000, Final PnL=-0.1073248267678469404198590703
2025-06-27 05:05:24,393 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89225, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.020000000000000000000000, PnL USD=-0.01464965353569388083971814067, Commission=0.10000000, Final PnL=-0.1146496535356938808397181407
2025-06-27 05:05:24,946 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89225, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.010000000000000000000000, PnL USD=-0.007324826767846940419859070333, Commission=0.10000000, Final PnL=-0.1073248267678469404198590703
2025-06-27 05:05:24,947 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89225, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.020000000000000000000000, PnL USD=-0.01464965353569388083971814067, Commission=0.10000000, Final PnL=-0.1146496535356938808397181407
2025-06-27 05:05:25,461 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89225, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.010000000000000000000000, PnL USD=-0.007324826767846940419859070333, Commission=0.10000000, Final PnL=-0.1073248267678469404198590703
2025-06-27 05:05:25,462 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89225, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.020000000000000000000000, PnL USD=-0.01464965353569388083971814067, Commission=0.10000000, Final PnL=-0.1146496535356938808397181407
2025-06-27 05:05:26,084 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89225, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.010000000000000000000000, PnL USD=-0.007325846318395932690124026578, Commission=0.10000000, Final PnL=-0.1073258463183959326901240266
2025-06-27 05:05:26,092 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89225, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.020000000000000000000000, PnL USD=-0.01465169263679186538024805316, Commission=0.10000000, Final PnL=-0.1146516926367918653802480532
2025-06-27 05:05:26,416 - INFO - app.main - Application shutdown event triggered.
2025-06-27 05:05:26,416 - INFO - app.main - APScheduler shut down gracefully.
2025-06-27 05:05:26,416 - INFO - app.main - Cancelling 5 other background tasks...
2025-06-27 05:05:26,421 - INFO - app.main - Background task 'Task-6' cancelled successfully.
2025-06-27 05:05:26,421 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-27 05:05:28,143 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-27 05:05:28,143 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-27 05:05:28,144 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-27 05:05:28,152 - INFO - app.main - Background task 'Task-7' cancelled successfully.
2025-06-27 05:05:28,162 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-27 05:05:28,165 - INFO - app.main - Redis client connection closed.
2025-06-27 05:05:28,165 - INFO - app.main - Application shutdown event finished.
2025-06-27 05:05:45,005 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-27 05:05:45,012 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-27 05:05:45,024 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-27 05:05:45,367 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5221200000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-359.9800000000000000000000000, PnL USD=-450.4648805576063969566904008, Commission=0.10000000, Final PnL=-450.5648805576063969566904008
2025-06-27 05:05:45,368 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-27 05:05:45,379 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-27 05:05:45,381 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-27 05:05:45,395 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-27 05:05:45,745 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.8922500000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.01000000000000000000000000, PnL USD=-0.007325363338021565869667135490, Commission=0.10000000, Final PnL=-0.1073253633380215658696671355
2025-06-27 05:05:45,746 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.8922500000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.02000000000000000000000000, PnL USD=-0.01465072667604313173933427098, Commission=0.10000000, Final PnL=-0.1146507266760431317393342710
2025-06-27 05:05:45,746 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-27 05:05:48,782 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-27 05:05:48,798 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-27 05:05:48,811 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-27 05:05:48,820 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-27 05:05:48,831 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-27 05:05:48,839 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-27 05:05:48,847 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-27 05:05:48,854 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-27 05:05:48,861 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-27 05:05:48,870 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-27 05:05:48,876 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-27 05:05:48,881 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-27 05:05:48,887 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-27 05:05:48,892 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-27 05:05:48,897 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-27 05:05:48,902 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-27 05:05:48,908 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-27 05:05:48,913 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-27 05:05:48,919 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-27 05:05:48,924 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-27 05:05:48,929 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-27 05:05:48,934 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-27 05:05:48,939 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-27 05:05:48,944 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-27 05:05:48,950 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-27 05:05:48,955 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-27 05:05:48,961 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-27 05:05:48,967 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-27 05:05:48,972 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-27 05:05:48,978 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-27 05:05:48,984 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-27 05:05:48,989 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-27 05:05:48,995 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-27 05:05:49,000 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-27 05:05:49,006 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-27 05:05:49,012 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-27 05:05:49,017 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-27 05:05:49,024 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-27 05:05:49,028 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-27 05:05:49,034 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-27 05:05:49,039 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-27 05:05:49,045 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-27 05:05:49,050 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-27 05:05:49,055 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-27 05:05:49,060 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-27 05:05:49,065 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-27 05:05:49,069 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-27 05:05:49,074 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-27 05:05:49,077 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-27 05:05:49,083 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-27 05:05:49,088 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-27 05:05:49,093 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-27 05:05:49,098 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-27 05:05:49,106 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-27 05:05:49,113 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-27 05:05:49,119 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-27 05:05:49,126 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-27 05:05:49,132 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-27 05:05:49,138 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-27 05:05:49,144 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-27 05:05:49,151 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-27 05:05:49,157 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-27 05:05:49,164 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-27 05:05:49,171 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-27 05:05:49,176 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-27 05:05:49,181 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-27 05:05:49,186 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-27 05:05:49,190 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-27 05:05:49,195 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-27 05:05:49,200 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-27 05:05:49,206 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-27 05:05:49,211 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-27 05:05:49,217 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-27 05:05:49,224 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-27 05:05:49,229 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-27 05:05:49,234 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-27 05:05:49,239 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-27 05:05:49,244 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-27 05:05:49,248 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-27 05:05:51,572 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:05:51,572 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:05:54,042 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:05:54,042 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:05:56,183 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:05:56,183 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:05:58,436 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:05:58,436 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:06:00,623 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:06:00,624 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:06:06,111 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-27 05:06:06,128 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-27 05:06:06,144 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-27 05:06:06,204 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-27 05:06:06,365 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-27 05:06:06,385 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-27 05:06:06,397 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-27 05:06:06,477 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-27 05:06:06,495 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-27 05:06:06,505 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-27 05:06:06,520 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-27 05:06:06,536 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-27 05:06:06,545 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-27 05:06:06,558 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-27 05:06:06,566 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-27 05:06:06,576 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-27 05:06:06,586 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-27 05:06:06,595 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-27 05:06:06,607 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-27 05:06:06,616 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-27 05:06:06,626 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-27 05:06:06,637 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-27 05:06:06,647 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-27 05:06:06,655 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-27 05:06:06,665 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-27 05:06:06,677 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-27 05:06:06,689 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-27 05:06:06,700 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-27 05:06:06,714 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-27 05:06:06,727 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-27 05:06:06,740 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-27 05:06:06,759 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-27 05:06:06,777 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-27 05:06:06,788 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-27 05:06:06,799 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-27 05:06:06,809 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-27 05:06:06,821 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-27 05:06:06,830 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-27 05:06:06,840 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-27 05:06:06,853 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-27 05:06:06,866 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-27 05:06:06,878 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-27 05:06:06,888 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-27 05:06:06,898 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-27 05:06:06,911 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-27 05:06:06,922 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-27 05:06:06,932 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-27 05:06:06,942 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-27 05:06:06,951 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-27 05:06:06,996 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-27 05:06:07,023 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-27 05:06:07,042 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-27 05:06:07,054 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-27 05:06:07,066 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-27 05:06:07,076 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-27 05:06:07,108 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-27 05:06:07,123 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-27 05:06:07,135 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-27 05:06:07,148 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-27 05:06:07,160 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-27 05:06:07,170 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-27 05:06:07,180 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-27 05:06:07,191 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-27 05:06:07,200 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-27 05:06:07,211 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-27 05:06:07,221 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-27 05:06:07,232 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-27 05:06:07,241 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-27 05:06:07,253 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-27 05:06:07,265 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-27 05:06:07,275 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-27 05:06:07,288 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-27 05:06:07,301 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-27 05:06:07,311 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-27 05:06:07,323 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-27 05:06:07,334 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-27 05:06:07,344 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-27 05:06:07,358 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-27 05:06:07,369 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-27 05:06:09,791 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89224, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0E-24, PnL USD=0E-14, Commission=0.10000000, Final PnL=-0.10000000000000
2025-06-27 05:06:09,794 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89224, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.010000000000000000000000, PnL USD=-0.007325416999362688721055446081, Commission=0.10000000, Final PnL=-0.1073254169993626887210554461
2025-06-27 05:06:12,259 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01465094132298000146509413230, Commission=0.10000000, Final PnL=-0.08534905867701999853490586770
2025-06-27 05:06:12,261 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89222, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.007325470661490000732547066149, Commission=0.10000000, Final PnL=-0.09267452933850999926745293385
2025-06-27 05:06:14,406 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02197609001406469760900140647, Commission=0.10000000, Final PnL=-0.07802390998593530239099859353
2025-06-27 05:06:14,415 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01465072667604313173933427098, Commission=0.10000000, Final PnL=-0.08534927332395686826066572902
2025-06-27 05:06:16,766 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:06:16,766 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:06:18,907 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:06:18,907 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:06:21,376 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:06:21,376 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:06:23,507 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.040000000000000000000000, PnL USD=0.02930188264596000293018826460, Commission=0.10000000, Final PnL=-0.07069811735403999706981173540
2025-06-27 05:06:23,509 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.8922, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02197641198447000219764119845, Commission=0.10000000, Final PnL=-0.07802358801552999780235880155
2025-06-27 05:06:25,963 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89224000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.02197592903239984470343483771, Commission=0.10000000, Final PnL=-0.07802407096760015529656516229
2025-06-27 05:06:25,965 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89223000, Current=0.89221, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.01465061935493322980228989181, Commission=0.10000000, Final PnL=-0.08534938064506677019771010819
2025-06-27 05:06:28,275 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:06:28,276 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:06:30,380 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:06:30,380 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:06:32,731 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:06:32,732 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:06:35,105 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-27 05:06:35,105 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD

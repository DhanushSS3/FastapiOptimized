2025-07-02 05:00:08,736 - INFO - app.core.config - .env file loaded successfully.
2025-07-02 05:00:08,745 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-02 05:00:08,745 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-02 05:00:09,202 - INFO - app.main - Application startup initiated
2025-07-02 05:00:09,233 - INFO - app.main - Firebase already initialized
2025-07-02 05:00:09,233 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-07-02 05:00:09,238 - INFO - app.main - Redis initialized
2025-07-02 05:00:09,242 - INFO - app.main - Scheduler initialized
2025-07-02 05:00:09,242 - INFO - app.main - Background tasks initialized
2025-07-02 05:00:12,300 - INFO - app.main - Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-07-02 05:00:12,300 - INFO - app.main - Application startup completed
2025-07-02 05:00:12,301 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-07-02 05:00:12,301 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-07-02 05:00:12,922 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-07-02 05:00:13,174 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'AUDCHF'.
2025-07-02 05:00:13,176 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'AUDJPY'.
2025-07-02 05:00:13,178 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'AUDNZD'.
2025-07-02 05:00:13,181 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'AUDSGD'.
2025-07-02 05:00:13,183 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'AUDUSD'.
2025-07-02 05:00:13,185 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'AUS200'.
2025-07-02 05:00:13,189 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'BTCUSD'.
2025-07-02 05:00:13,191 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'CADCHF'.
2025-07-02 05:00:13,193 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'CADJPY'.
2025-07-02 05:00:13,196 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'CHFJPY'.
2025-07-02 05:00:13,198 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'CHFSGD'.
2025-07-02 05:00:13,201 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'CN50U'.
2025-07-02 05:00:13,203 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'D30'.
2025-07-02 05:00:13,206 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'DE30'.
2025-07-02 05:00:13,208 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'EURAUD'.
2025-07-02 05:00:13,211 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'EURCAD'.
2025-07-02 05:00:13,214 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'EURCHF'.
2025-07-02 05:00:13,217 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'EURCZK'.
2025-07-02 05:00:13,219 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'EURGBP'.
2025-07-02 05:00:13,222 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'EURJPY'.
2025-07-02 05:00:13,225 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'EURNOK'.
2025-07-02 05:00:13,227 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'EURNZD'.
2025-07-02 05:00:13,230 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'EURPLN'.
2025-07-02 05:00:13,233 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'EURSEK'.
2025-07-02 05:00:13,235 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'EURSGD'.
2025-07-02 05:00:13,237 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'EURTRY'.
2025-07-02 05:00:13,240 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'EURUSD'.
2025-07-02 05:00:13,242 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'EURZAR'.
2025-07-02 05:00:13,244 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'FR40'.
2025-07-02 05:00:13,246 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'GBPAUD'.
2025-07-02 05:00:13,248 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'GBPCAD'.
2025-07-02 05:00:13,250 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'GBPCHF'.
2025-07-02 05:00:13,253 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'GBPJPY'.
2025-07-02 05:00:13,256 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'GBPNOK'.
2025-07-02 05:00:13,258 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'GBPNZD'.
2025-07-02 05:00:13,261 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'GBPSEK'.
2025-07-02 05:00:13,263 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'GBPSGD'.
2025-07-02 05:00:13,266 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'GBPTRY'.
2025-07-02 05:00:13,268 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'GBPUSD'.
2025-07-02 05:00:13,271 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'HKG50'.
2025-07-02 05:00:13,273 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'IND50'.
2025-07-02 05:00:13,276 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'JP225'.
2025-07-02 05:00:13,279 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'NGAS'.
2025-07-02 05:00:13,281 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'NOKJPY'.
2025-07-02 05:00:13,284 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'NOKSEK'.
2025-07-02 05:00:13,286 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'NZDCAD'.
2025-07-02 05:00:13,288 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'NZDCHF'.
2025-07-02 05:00:13,290 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'NZDJPY'.
2025-07-02 05:00:13,292 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'NZDUSD'.
2025-07-02 05:00:13,294 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'SEKJPY'.
2025-07-02 05:00:13,296 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'SGDJPY'.
2025-07-02 05:00:13,299 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'UK100'.
2025-07-02 05:00:13,300 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'UKOIL'.
2025-07-02 05:00:13,302 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'US100'.
2025-07-02 05:00:13,304 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'US2000'.
2025-07-02 05:00:13,306 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'US30'.
2025-07-02 05:00:13,307 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'US500'.
2025-07-02 05:00:13,309 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'USDCAD'.
2025-07-02 05:00:13,310 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'USDCHF'.
2025-07-02 05:00:13,312 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'USDCNH'.
2025-07-02 05:00:13,314 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'USDCZK'.
2025-07-02 05:00:13,315 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'USDJPY'.
2025-07-02 05:00:13,318 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'USDMXN'.
2025-07-02 05:00:13,320 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'USDNOK'.
2025-07-02 05:00:13,322 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'USDPLN'.
2025-07-02 05:00:13,324 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'USDSEK'.
2025-07-02 05:00:13,327 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'USDSGD'.
2025-07-02 05:00:13,330 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'USDTHB'.
2025-07-02 05:00:13,333 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'USDTRY'.
2025-07-02 05:00:13,335 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'USDTUSD'.
2025-07-02 05:00:13,339 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'USDZAR'.
2025-07-02 05:00:13,341 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'USOIL'.
2025-07-02 05:00:13,344 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'W20'.
2025-07-02 05:00:13,347 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'XAGUSD'.
2025-07-02 05:00:13,350 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'XAUUSD'.
2025-07-02 05:00:13,353 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'ZARJPY'.
2025-07-02 05:00:13,356 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Standard', symbol 'AUDCAD'.
2025-07-02 05:00:14,352 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89557000, Current=0.89402, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.550000000000000000000000, PnL USD=-1.135705859509521611383436280, Commission=0E-8, Final PnL=-1.135705859509521611383436280
2025-07-02 05:00:14,354 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89553000, Current=0.89402, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.510000000000000000000000, PnL USD=-1.106397321199598473025154053, Commission=0.10000000, Final PnL=-1.206397321199598473025154053
2025-07-02 05:00:14,354 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-07-02 05:00:16,709 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89557000, Current=0.89413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.440000000000000000000000, PnL USD=-1.055030075683754734813794518, Commission=0E-8, Final PnL=-1.055030075683754734813794518
2025-07-02 05:00:16,710 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89553000, Current=0.89413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.400000000000000000000000, PnL USD=-1.025723684692539325513411337, Commission=0.10000000, Final PnL=-1.125723684692539325513411337
2025-07-02 05:00:16,710 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.20500000, Current=94.473, Quantity=0.01000000, Contract Size=100000.00000000, PnL=268.000000000000000000000000, PnL USD=1.858684495242322523372263989, Commission=0.10000000, Final PnL=1.758684495242322523372263989
2025-07-02 05:00:17,628 - ERROR - app.services.portfolio_calculator - Error converting current_prices to Decimal for AUDCAD: {"b": "0.8942700000", "o": "0.8942300000"} ([<class 'decimal.ConversionSyntax'>])
2025-07-02 05:00:17,628 - ERROR - app.services.portfolio_calculator - Error converting current_prices to Decimal for AUDCAD: {"b": "0.8942700000", "o": "0.8942300000"} ([<class 'decimal.ConversionSyntax'>])
2025-07-02 05:00:17,628 - ERROR - app.services.portfolio_calculator - Error converting current_prices to Decimal for AUDJPY: {"b": "94.4930000000", "o": "94.4880000000"} ([<class 'decimal.ConversionSyntax'>])
2025-07-02 05:00:17,936 - ERROR - app.services.portfolio_calculator - Error converting current_prices to Decimal for AUDCAD: {"b": "0.8942700000", "o": "0.8942300000"} ([<class 'decimal.ConversionSyntax'>])
2025-07-02 05:00:17,936 - ERROR - app.services.portfolio_calculator - Error converting current_prices to Decimal for AUDCAD: {"b": "0.8942700000", "o": "0.8942300000"} ([<class 'decimal.ConversionSyntax'>])
2025-07-02 05:00:17,936 - ERROR - app.services.portfolio_calculator - Error converting current_prices to Decimal for AUDJPY: {"b": "94.4930000000", "o": "94.4880000000"} ([<class 'decimal.ConversionSyntax'>])
2025-07-02 05:00:17,936 - INFO - app.core.firebase - [FIREBASE] Payload being pushed to Firebase (all stringified): {'order_id': '6285484226', 'order_user_id': '4', 'order_company_name': 'AUDCAD', 'order_type': 'BUY', 'order_status': 'PROCESSING', 'order_price': '0.89437000', 'order_quantity': '0.01000000', 'contract_value': '1000.00000000', 'margin': '6.54997839', 'stop_loss': '', 'take_profit': '', 'close_price': '', 'net_profit': '', 'swap': '', 'commission': '', 'cancel_message': '', 'close_message': '', 'takeprofit_id': '', 'stoploss_id': '', 'cancel_id': '', 'close_id': '', 'modify_id': '', 'stoploss_cancel_id': '', 'takeprofit_cancel_id': '', 'status': '', 'timestamp': '2025-07-02T12:00:17.936950', 'account_type': 'live', 'action': ''}
2025-07-02 05:00:18,245 - INFO - app.core.firebase - Order data (ID: 6285484226) sent to Firebase successfully.
2025-07-02 05:00:18,964 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89557000, Current=0.8941, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.470000000000000000000000, PnL USD=-1.077144029544521953221173574, Commission=0E-8, Final PnL=-1.077144029544521953221173574
2025-07-02 05:00:18,966 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89553000, Current=0.8941, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.430000000000000000000000, PnL USD=-1.047833987924262852453250484, Commission=0.10000000, Final PnL=-1.147833987924262852453250484
2025-07-02 05:00:18,967 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.20500000, Current=94.473, Quantity=0.01000000, Contract Size=100000.00000000, PnL=268.000000000000000000000000, PnL USD=1.858607154250523600149798189, Commission=0.10000000, Final PnL=1.758607154250523600149798189
2025-07-02 05:00:21,143 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89557000, Current=0.8941, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.470000000000000000000000, PnL USD=-1.077128244207687911250494600, Commission=0E-8, Final PnL=-1.077128244207687911250494600
2025-07-02 05:00:21,145 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89553000, Current=0.8941, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.430000000000000000000000, PnL USD=-1.047818632120403886454562774, Commission=0.10000000, Final PnL=-1.147818632120403886454562774
2025-07-02 05:00:21,146 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.20500000, Current=94.467, Quantity=0.01000000, Contract Size=100000.00000000, PnL=262.000000000000000000000000, PnL USD=1.816983945351780574915912480, Commission=0.10000000, Final PnL=1.716983945351780574915912480
2025-07-02 05:00:23,874 - ERROR - app.services.portfolio_calculator - Error converting current_prices to Decimal for AUDCAD: {"b": "0.8942400000", "o": "0.8942000000"} ([<class 'decimal.ConversionSyntax'>])
2025-07-02 05:00:23,874 - ERROR - app.services.portfolio_calculator - Error converting current_prices to Decimal for AUDCAD: {"b": "0.8942400000", "o": "0.8942000000"} ([<class 'decimal.ConversionSyntax'>])
2025-07-02 05:00:23,875 - ERROR - app.services.portfolio_calculator - Error converting current_prices to Decimal for AUDJPY: {"b": "94.4840000000", "o": "94.4790000000"} ([<class 'decimal.ConversionSyntax'>])
2025-07-02 05:00:24,285 - ERROR - app.services.portfolio_calculator - Error converting current_prices to Decimal for AUDCAD: {"b": "0.8942500000", "o": "0.8941900000"} ([<class 'decimal.ConversionSyntax'>])
2025-07-02 05:00:24,285 - ERROR - app.services.portfolio_calculator - Error converting current_prices to Decimal for AUDCAD: {"b": "0.8942500000", "o": "0.8941900000"} ([<class 'decimal.ConversionSyntax'>])
2025-07-02 05:00:24,285 - ERROR - app.services.portfolio_calculator - Error converting current_prices to Decimal for AUDJPY: {"b": "94.4840000000", "o": "94.4790000000"} ([<class 'decimal.ConversionSyntax'>])
2025-07-02 05:00:24,286 - INFO - app.core.firebase - [FIREBASE] Payload being pushed to Firebase (all stringified): {'order_id': '4888211676', 'order_user_id': '4', 'order_company_name': 'AUDCAD', 'order_type': 'SELL', 'order_status': 'PROCESSING', 'order_price': '0.89410000', 'order_quantity': '0.01000000', 'contract_value': '1000.00000000', 'margin': '6.55069830', 'stop_loss': '', 'take_profit': '', 'close_price': '', 'net_profit': '', 'swap': '', 'commission': '', 'cancel_message': '', 'close_message': '', 'takeprofit_id': '', 'stoploss_id': '', 'cancel_id': '', 'close_id': '', 'modify_id': '', 'stoploss_cancel_id': '', 'takeprofit_cancel_id': '', 'status': '', 'timestamp': '2025-07-02T12:00:24.286340', 'account_type': 'live', 'action': ''}
2025-07-02 05:00:24,591 - INFO - app.core.firebase - Order data (ID: 4888211676) sent to Firebase successfully.
2025-07-02 05:00:25,000 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89557000, Current=0.89409, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.480000000000000000000000, PnL USD=-1.084193484583208187125934934, Commission=0E-8, Final PnL=-1.084193484583208187125934934
2025-07-02 05:00:25,000 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89553000, Current=0.89409, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.440000000000000000000000, PnL USD=-1.054890957972851209095504260, Commission=0.10000000, Final PnL=-1.154890957972851209095504260
2025-07-02 05:00:25,001 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.20500000, Current=94.464, Quantity=0.01000000, Contract Size=100000.00000000, PnL=259.000000000000000000000000, PnL USD=1.796153872826757838235192133, Commission=0.10000000, Final PnL=1.696153872826757838235192133
2025-07-02 05:00:25,822 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89557000, Current=0.89409, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.480000000000000000000000, PnL USD=-1.084241141090541461234716229, Commission=0E-8, Final PnL=-1.084241141090541461234716229
2025-07-02 05:00:25,825 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89553000, Current=0.89409, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.440000000000000000000000, PnL USD=-1.054937326466472773093237412, Commission=0.10000000, Final PnL=-1.154937326466472773093237412
2025-07-02 05:00:25,825 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-07-02 05:00:28,279 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89557000, Current=0.89403, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.540000000000000000000000, PnL USD=-1.128229924467204407422873763, Commission=0E-8, Final PnL=-1.128229924467204407422873763
2025-07-02 05:00:28,281 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89553000, Current=0.89403, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.500000000000000000000000, PnL USD=-1.098925251104419877359941977, Commission=0.10000000, Final PnL=-1.198925251104419877359941977
2025-07-02 05:00:28,283 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.20500000, Current=94.462, Quantity=0.01000000, Contract Size=100000.00000000, PnL=257.000000000000000000000000, PnL USD=1.782407567949953879337249544, Commission=0.10000000, Final PnL=1.682407567949953879337249544
2025-07-02 05:00:30,434 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89557000, Current=0.89402, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.550000000000000000000000, PnL USD=-1.135531135531135531135531136, Commission=0E-8, Final PnL=-1.135531135531135531135531136
2025-07-02 05:00:30,436 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89553000, Current=0.89402, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.510000000000000000000000, PnL USD=-1.106227106227106227106227106, Commission=0.10000000, Final PnL=-1.206227106227106227106227106
2025-07-02 05:00:30,437 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDJPY
2025-07-02 05:00:32,638 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89557000, Current=0.89413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.440000000000000000000000, PnL USD=-1.055030075683754734813794518, Commission=0E-8, Final PnL=-1.055030075683754734813794518
2025-07-02 05:00:32,641 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89553000, Current=0.89413, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.400000000000000000000000, PnL USD=-1.025723684692539325513411337, Commission=0.10000000, Final PnL=-1.125723684692539325513411337
2025-07-02 05:00:32,641 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=94.20500000, Current=94.473, Quantity=0.01000000, Contract Size=100000.00000000, PnL=268.000000000000000000000000, PnL USD=1.858620043968847308815268425, Commission=0.10000000, Final PnL=1.758620043968847308815268425
2025-07-02 05:00:33,823 - INFO - app.main - Application shutdown initiated
2025-07-02 05:00:33,824 - INFO - app.main - Scheduler shutdown completed
2025-07-02 05:00:33,826 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-07-02 05:00:34,730 - INFO - app.firebase_stream - Firebase listener closed.
2025-07-02 05:00:34,730 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-07-02 05:00:34,733 - INFO - app.main - Redis connection closed
2025-07-02 05:00:34,733 - INFO - app.main - Application shutdown completed

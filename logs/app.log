2025-06-23 11:20:29,373 - INFO - app.core.config - .env file loaded successfully.
2025-06-23 11:20:29,378 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-23 11:20:29,378 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-23 11:20:30,429 - INFO - app.main - Application startup event triggered.
2025-06-23 11:20:30,471 - INFO - app.main - Firebase Admin SDK already initialized
2025-06-23 11:20:30,471 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-23 11:20:30,484 - INFO - app.main - Redis connection pool initialized successfully
2025-06-23 11:20:30,490 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-23 11:20:30,490 - INFO - app.main - Firebase events processor background task started
2025-06-23 11:20:30,490 - INFO - app.main - Redis publisher background task started
2025-06-23 11:20:30,490 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-23 11:20:30,490 - INFO - app.main - Generating initial service account token...
2025-06-23 11:20:30,490 - INFO - app.main - APScheduler: Starting rotate_service_account_jwt job...
2025-06-23 11:20:31,741 - INFO - app.main - SUCCESS: Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-06-23 11:20:31,742 - INFO - app.main - APScheduler: Finished rotate_service_account_jwt job successfully.
2025-06-23 11:20:31,742 - INFO - app.main - Application startup event finished.
2025-06-23 11:20:31,743 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-23 11:20:31,743 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-23 11:20:32,477 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-23 11:20:34,107 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 93, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 371, in get_user_from_service_or_user_token
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 98, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 424, in get_user_from_service_or_user_token
    raise HTTPException(
    ...<3 lines>...
    )
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-23 11:20:34,160 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 93, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 371, in get_user_from_service_or_user_token
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 98, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 424, in get_user_from_service_or_user_token
    raise HTTPException(
    ...<3 lines>...
    )
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-23 11:20:34,173 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 93, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 281, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 98, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 326, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-23 11:20:34,191 - ERROR - app.database.session - Database session error: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 93, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 281, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 98, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 55, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 326, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-23 11:20:51,282 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-23 11:20:51,426 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-23 11:20:51,538 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-23 11:20:51,625 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-23 11:20:51,734 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-23 11:20:51,855 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-23 11:20:51,962 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-23 11:20:52,046 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-23 11:20:52,178 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-23 11:20:52,389 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-23 11:20:52,508 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-23 11:20:52,610 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-23 11:20:52,676 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-23 11:20:52,753 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-23 11:20:52,817 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-23 11:20:52,891 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-23 11:20:52,975 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-23 11:20:53,121 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-23 11:20:53,237 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-23 11:20:53,365 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-23 11:20:53,559 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-23 11:20:53,642 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-23 11:20:53,731 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-23 11:20:53,774 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-23 11:20:53,822 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-23 11:20:53,841 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-23 11:20:53,874 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-23 11:20:53,898 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-23 11:20:53,933 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-23 11:20:53,972 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-23 11:20:54,007 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-23 11:20:54,039 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-23 11:20:54,067 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-23 11:20:54,101 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-23 11:20:54,127 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-23 11:20:54,159 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-23 11:20:54,189 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-23 11:20:54,225 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-23 11:20:54,249 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-23 11:20:54,290 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-23 11:20:54,321 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-23 11:20:54,346 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-23 11:20:54,379 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-23 11:20:54,417 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-23 11:20:54,440 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-23 11:20:54,503 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-23 11:20:54,671 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-23 11:20:54,793 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-23 11:20:54,807 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-23 11:20:54,823 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-23 11:20:54,837 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-23 11:20:54,882 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-23 11:20:54,943 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-23 11:20:54,983 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-23 11:20:55,011 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-23 11:20:55,039 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-23 11:20:55,070 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-23 11:20:55,116 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-23 11:20:55,129 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-23 11:20:55,150 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-23 11:20:55,179 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-23 11:20:55,201 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-23 11:20:55,236 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-23 11:20:55,263 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-23 11:20:55,280 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-23 11:20:55,333 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-23 11:20:55,361 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-23 11:20:55,391 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-23 11:20:55,413 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-23 11:20:55,437 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-23 11:20:55,482 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-23 11:20:55,507 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-23 11:20:55,547 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-23 11:20:55,589 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-23 11:20:55,632 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-23 11:20:55,672 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-23 11:20:55,713 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-23 11:20:55,748 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-23 11:20:55,773 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-23 11:21:15,842 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDUSD: buy=0, sell=0
2025-06-23 11:21:17,760 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.340000000000000000000000, PnL USD=-0.340000000000000000000000, Commission=0.10000000, Final PnL=-0.440000000000000000000000
2025-06-23 11:21:20,573 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64532, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.250000000000000000000000, PnL USD=-0.250000000000000000000000, Commission=0.10000000, Final PnL=-0.350000000000000000000000
2025-06-23 11:21:21,074 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:21:23,903 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64515, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.420000000000000000000000, PnL USD=-0.420000000000000000000000, Commission=0.10000000, Final PnL=-0.520000000000000000000000
2025-06-23 11:21:26,766 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64529, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.280000000000000000000000, PnL USD=-0.280000000000000000000000, Commission=0.10000000, Final PnL=-0.380000000000000000000000
2025-06-23 11:21:29,057 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64525, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.320000000000000000000000, PnL USD=-0.320000000000000000000000, Commission=0.10000000, Final PnL=-0.420000000000000000000000
2025-06-23 11:21:30,493 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-23 11:21:30,543 - DEBUG - app.main - Found 8 active users to update portfolios
2025-06-23 11:21:30,702 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-23 11:21:30,726 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-23 11:21:32,200 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.340000000000000000000000, PnL USD=-0.340000000000000000000000, Commission=0.10000000, Final PnL=-0.440000000000000000000000
2025-06-23 11:21:32,638 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.6452300000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.34000000000000000000000000, PnL USD=-0.34000000000000000000000000, Commission=0.10000000, Final PnL=-0.44000000000000000000000000
2025-06-23 11:21:32,658 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-23 11:21:32,669 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-23 11:21:32,740 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-23 11:21:32,740 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-23 11:21:35,826 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64524, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.330000000000000000000000, PnL USD=-0.330000000000000000000000, Commission=0.10000000, Final PnL=-0.430000000000000000000000
2025-06-23 11:21:39,652 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64519, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.380000000000000000000000, PnL USD=-0.380000000000000000000000, Commission=0.10000000, Final PnL=-0.480000000000000000000000
2025-06-23 11:21:41,735 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64513, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.440000000000000000000000, PnL USD=-0.440000000000000000000000, Commission=0.10000000, Final PnL=-0.540000000000000000000000
2025-06-23 11:21:43,440 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64533, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.240000000000000000000000, PnL USD=-0.240000000000000000000000, Commission=0.10000000, Final PnL=-0.340000000000000000000000
2025-06-23 11:21:45,141 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64515, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.420000000000000000000000, PnL USD=-0.420000000000000000000000, Commission=0.10000000, Final PnL=-0.520000000000000000000000
2025-06-23 11:21:46,609 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:21:48,347 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64517, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.400000000000000000000000, PnL USD=-0.400000000000000000000000, Commission=0.10000000, Final PnL=-0.500000000000000000000000
2025-06-23 11:21:49,826 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64513, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.440000000000000000000000, PnL USD=-0.440000000000000000000000, Commission=0.10000000, Final PnL=-0.540000000000000000000000
2025-06-23 11:21:51,480 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.340000000000000000000000, PnL USD=-0.340000000000000000000000, Commission=0.10000000, Final PnL=-0.440000000000000000000000
2025-06-23 11:21:52,967 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64513, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.440000000000000000000000, PnL USD=-0.440000000000000000000000, Commission=0.10000000, Final PnL=-0.540000000000000000000000
2025-06-23 11:21:54,519 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64524, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.330000000000000000000000, PnL USD=-0.330000000000000000000000, Commission=0.10000000, Final PnL=-0.430000000000000000000000
2025-06-23 11:21:56,039 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64521, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.360000000000000000000000, PnL USD=-0.360000000000000000000000, Commission=0.10000000, Final PnL=-0.460000000000000000000000
2025-06-23 11:21:57,867 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64522, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.350000000000000000000000, PnL USD=-0.350000000000000000000000, Commission=0.10000000, Final PnL=-0.450000000000000000000000
2025-06-23 11:21:59,181 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64524, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.330000000000000000000000, PnL USD=-0.330000000000000000000000, Commission=0.10000000, Final PnL=-0.430000000000000000000000
2025-06-23 11:22:00,771 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64521, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.360000000000000000000000, PnL USD=-0.360000000000000000000000, Commission=0.10000000, Final PnL=-0.460000000000000000000000
2025-06-23 11:22:02,617 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64519, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.380000000000000000000000, PnL USD=-0.380000000000000000000000, Commission=0.10000000, Final PnL=-0.480000000000000000000000
2025-06-23 11:22:05,360 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:22:06,910 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:22:09,078 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:22:11,630 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:22:14,078 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64525, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.320000000000000000000000, PnL USD=-0.320000000000000000000000, Commission=0.10000000, Final PnL=-0.420000000000000000000000
2025-06-23 11:22:16,231 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.6453, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.270000000000000000000000, PnL USD=-0.270000000000000000000000, Commission=0.10000000, Final PnL=-0.370000000000000000000000
2025-06-23 11:22:18,646 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64525, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.320000000000000000000000, PnL USD=-0.320000000000000000000000, Commission=0.10000000, Final PnL=-0.420000000000000000000000
2025-06-23 11:22:20,776 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64529, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.280000000000000000000000, PnL USD=-0.280000000000000000000000, Commission=0.10000000, Final PnL=-0.380000000000000000000000
2025-06-23 11:22:23,785 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:22:26,564 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64529, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.280000000000000000000000, PnL USD=-0.280000000000000000000000, Commission=0.10000000, Final PnL=-0.380000000000000000000000
2025-06-23 11:22:28,725 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64533, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.240000000000000000000000, PnL USD=-0.240000000000000000000000, Commission=0.10000000, Final PnL=-0.340000000000000000000000
2025-06-23 11:22:30,491 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-23 11:22:30,512 - DEBUG - app.main - Found 8 active users to update portfolios
2025-06-23 11:22:30,647 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-23 11:22:30,670 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-23 11:22:31,173 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64532, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.250000000000000000000000, PnL USD=-0.250000000000000000000000, Commission=0.10000000, Final PnL=-0.350000000000000000000000
2025-06-23 11:22:32,391 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.6452200000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.35000000000000000000000000, PnL USD=-0.35000000000000000000000000, Commission=0.10000000, Final PnL=-0.45000000000000000000000000
2025-06-23 11:22:32,409 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-23 11:22:32,436 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-23 11:22:32,566 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-23 11:22:32,566 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-23 11:22:33,229 - WARNING - app.core.cache - No cached adjusted buy price found for key: adjusted_market_price:default:AUDUSD
2025-06-23 11:22:33,229 - WARNING - app.core.cache - Fallback: Using raw Firebase 'o' price for AUDUSD
2025-06-23 11:22:34,716 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64522, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.350000000000000000000000, PnL USD=-0.350000000000000000000000, Commission=0.10000000, Final PnL=-0.450000000000000000000000
2025-06-23 11:22:34,716 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64522, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.150000000000000000000000, PnL USD=-0.150000000000000000000000, Commission=0.10000000, Final PnL=-0.250000000000000000000000
2025-06-23 11:22:37,324 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64522, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.350000000000000000000000, PnL USD=-0.350000000000000000000000, Commission=0.10000000, Final PnL=-0.450000000000000000000000
2025-06-23 11:22:37,324 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64522, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.150000000000000000000000, PnL USD=-0.150000000000000000000000, Commission=0.10000000, Final PnL=-0.250000000000000000000000
2025-06-23 11:22:40,050 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.340000000000000000000000, PnL USD=-0.340000000000000000000000, Commission=0.10000000, Final PnL=-0.440000000000000000000000
2025-06-23 11:22:40,050 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.140000000000000000000000, PnL USD=-0.140000000000000000000000, Commission=0.10000000, Final PnL=-0.240000000000000000000000
2025-06-23 11:22:42,252 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.290000000000000000000000, PnL USD=-0.290000000000000000000000, Commission=0.10000000, Final PnL=-0.390000000000000000000000
2025-06-23 11:22:42,252 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.090000000000000000000000, PnL USD=-0.090000000000000000000000, Commission=0.10000000, Final PnL=-0.190000000000000000000000
2025-06-23 11:22:44,166 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.290000000000000000000000, PnL USD=-0.290000000000000000000000, Commission=0.10000000, Final PnL=-0.390000000000000000000000
2025-06-23 11:22:44,166 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.090000000000000000000000, PnL USD=-0.090000000000000000000000, Commission=0.10000000, Final PnL=-0.190000000000000000000000
2025-06-23 11:22:45,442 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.6453, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.270000000000000000000000, PnL USD=-0.270000000000000000000000, Commission=0.10000000, Final PnL=-0.370000000000000000000000
2025-06-23 11:22:45,442 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.6453, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.070000000000000000000000, PnL USD=-0.070000000000000000000000, Commission=0.10000000, Final PnL=-0.170000000000000000000000
2025-06-23 11:22:46,709 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.290000000000000000000000, PnL USD=-0.290000000000000000000000, Commission=0.10000000, Final PnL=-0.390000000000000000000000
2025-06-23 11:22:46,709 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.090000000000000000000000, PnL USD=-0.090000000000000000000000, Commission=0.10000000, Final PnL=-0.190000000000000000000000
2025-06-23 11:22:48,599 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64527, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.300000000000000000000000, PnL USD=-0.300000000000000000000000, Commission=0.10000000, Final PnL=-0.400000000000000000000000
2025-06-23 11:22:48,599 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64527, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.100000000000000000000000, PnL USD=-0.100000000000000000000000, Commission=0.10000000, Final PnL=-0.200000000000000000000000
2025-06-23 11:22:51,146 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64529, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.280000000000000000000000, PnL USD=-0.280000000000000000000000, Commission=0.10000000, Final PnL=-0.380000000000000000000000
2025-06-23 11:22:51,146 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64529, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.080000000000000000000000, PnL USD=-0.080000000000000000000000, Commission=0.10000000, Final PnL=-0.180000000000000000000000
2025-06-23 11:22:53,199 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64527, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.300000000000000000000000, PnL USD=-0.300000000000000000000000, Commission=0.10000000, Final PnL=-0.400000000000000000000000
2025-06-23 11:22:53,199 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64527, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.100000000000000000000000, PnL USD=-0.100000000000000000000000, Commission=0.10000000, Final PnL=-0.200000000000000000000000
2025-06-23 11:22:55,214 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.290000000000000000000000, PnL USD=-0.290000000000000000000000, Commission=0.10000000, Final PnL=-0.390000000000000000000000
2025-06-23 11:22:55,214 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.090000000000000000000000, PnL USD=-0.090000000000000000000000, Commission=0.10000000, Final PnL=-0.190000000000000000000000
2025-06-23 11:22:57,804 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.290000000000000000000000, PnL USD=-0.290000000000000000000000, Commission=0.10000000, Final PnL=-0.390000000000000000000000
2025-06-23 11:22:57,804 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.090000000000000000000000, PnL USD=-0.090000000000000000000000, Commission=0.10000000, Final PnL=-0.190000000000000000000000
2025-06-23 11:23:00,059 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:23:00,059 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:23:02,195 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64529, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.280000000000000000000000, PnL USD=-0.280000000000000000000000, Commission=0.10000000, Final PnL=-0.380000000000000000000000
2025-06-23 11:23:02,195 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64529, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.080000000000000000000000, PnL USD=-0.080000000000000000000000, Commission=0.10000000, Final PnL=-0.180000000000000000000000
2025-06-23 11:23:04,600 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.290000000000000000000000, PnL USD=-0.290000000000000000000000, Commission=0.10000000, Final PnL=-0.390000000000000000000000
2025-06-23 11:23:04,600 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.090000000000000000000000, PnL USD=-0.090000000000000000000000, Commission=0.10000000, Final PnL=-0.190000000000000000000000
2025-06-23 11:23:08,029 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64529, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.280000000000000000000000, PnL USD=-0.280000000000000000000000, Commission=0.10000000, Final PnL=-0.380000000000000000000000
2025-06-23 11:23:08,029 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64529, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.080000000000000000000000, PnL USD=-0.080000000000000000000000, Commission=0.10000000, Final PnL=-0.180000000000000000000000
2025-06-23 11:23:09,164 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.290000000000000000000000, PnL USD=-0.290000000000000000000000, Commission=0.10000000, Final PnL=-0.390000000000000000000000
2025-06-23 11:23:09,164 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.090000000000000000000000, PnL USD=-0.090000000000000000000000, Commission=0.10000000, Final PnL=-0.190000000000000000000000
2025-06-23 11:23:11,369 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64522, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.350000000000000000000000, PnL USD=-0.350000000000000000000000, Commission=0.10000000, Final PnL=-0.450000000000000000000000
2025-06-23 11:23:11,369 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64522, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.150000000000000000000000, PnL USD=-0.150000000000000000000000, Commission=0.10000000, Final PnL=-0.250000000000000000000000
2025-06-23 11:23:13,505 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64529, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.280000000000000000000000, PnL USD=-0.280000000000000000000000, Commission=0.10000000, Final PnL=-0.380000000000000000000000
2025-06-23 11:23:13,505 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64529, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.080000000000000000000000, PnL USD=-0.080000000000000000000000, Commission=0.10000000, Final PnL=-0.180000000000000000000000
2025-06-23 11:23:15,799 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.6452, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.370000000000000000000000, PnL USD=-0.370000000000000000000000, Commission=0.10000000, Final PnL=-0.470000000000000000000000
2025-06-23 11:23:15,799 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.6452, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.170000000000000000000000, PnL USD=-0.170000000000000000000000, Commission=0.10000000, Final PnL=-0.270000000000000000000000
2025-06-23 11:23:18,728 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.290000000000000000000000, PnL USD=-0.290000000000000000000000, Commission=0.10000000, Final PnL=-0.390000000000000000000000
2025-06-23 11:23:18,729 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.090000000000000000000000, PnL USD=-0.090000000000000000000000, Commission=0.10000000, Final PnL=-0.190000000000000000000000
2025-06-23 11:23:21,525 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.340000000000000000000000, PnL USD=-0.340000000000000000000000, Commission=0.10000000, Final PnL=-0.440000000000000000000000
2025-06-23 11:23:21,525 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.140000000000000000000000, PnL USD=-0.140000000000000000000000, Commission=0.10000000, Final PnL=-0.240000000000000000000000
2025-06-23 11:23:23,443 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.340000000000000000000000, PnL USD=-0.340000000000000000000000, Commission=0.10000000, Final PnL=-0.440000000000000000000000
2025-06-23 11:23:23,443 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.140000000000000000000000, PnL USD=-0.140000000000000000000000, Commission=0.10000000, Final PnL=-0.240000000000000000000000
2025-06-23 11:23:25,693 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.340000000000000000000000, PnL USD=-0.340000000000000000000000, Commission=0.10000000, Final PnL=-0.440000000000000000000000
2025-06-23 11:23:25,693 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.140000000000000000000000, PnL USD=-0.140000000000000000000000, Commission=0.10000000, Final PnL=-0.240000000000000000000000
2025-06-23 11:23:27,973 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64524, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.330000000000000000000000, PnL USD=-0.330000000000000000000000, Commission=0.10000000, Final PnL=-0.430000000000000000000000
2025-06-23 11:23:27,973 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64524, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.130000000000000000000000, PnL USD=-0.130000000000000000000000, Commission=0.10000000, Final PnL=-0.230000000000000000000000
2025-06-23 11:23:30,324 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.290000000000000000000000, PnL USD=-0.290000000000000000000000, Commission=0.10000000, Final PnL=-0.390000000000000000000000
2025-06-23 11:23:30,324 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.090000000000000000000000, PnL USD=-0.090000000000000000000000, Commission=0.10000000, Final PnL=-0.190000000000000000000000
2025-06-23 11:23:30,494 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-23 11:23:30,506 - DEBUG - app.main - Found 8 active users to update portfolios
2025-06-23 11:23:30,561 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-23 11:23:30,574 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-23 11:23:31,655 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.6452300000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.34000000000000000000000000, PnL USD=-0.34000000000000000000000000, Commission=0.10000000, Final PnL=-0.44000000000000000000000000
2025-06-23 11:23:31,655 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.6452300000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.14000000000000000000000000, PnL USD=-0.14000000000000000000000000, Commission=0.10000000, Final PnL=-0.24000000000000000000000000
2025-06-23 11:23:31,669 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-23 11:23:31,683 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-23 11:23:31,736 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-23 11:23:31,736 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-23 11:23:33,416 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.340000000000000000000000, PnL USD=-0.340000000000000000000000, Commission=0.10000000, Final PnL=-0.440000000000000000000000
2025-06-23 11:23:33,416 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.140000000000000000000000, PnL USD=-0.140000000000000000000000, Commission=0.10000000, Final PnL=-0.240000000000000000000000
2025-06-23 11:23:35,410 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:23:35,410 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:23:36,945 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:23:36,945 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:23:39,316 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64524, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.330000000000000000000000, PnL USD=-0.330000000000000000000000, Commission=0.10000000, Final PnL=-0.430000000000000000000000
2025-06-23 11:23:39,316 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64524, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.130000000000000000000000, PnL USD=-0.130000000000000000000000, Commission=0.10000000, Final PnL=-0.230000000000000000000000
2025-06-23 11:23:42,044 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.340000000000000000000000, PnL USD=-0.340000000000000000000000, Commission=0.10000000, Final PnL=-0.440000000000000000000000
2025-06-23 11:23:42,045 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.140000000000000000000000, PnL USD=-0.140000000000000000000000, Commission=0.10000000, Final PnL=-0.240000000000000000000000
2025-06-23 11:23:42,972 - INFO - app.main - Application shutdown event triggered.
2025-06-23 11:23:42,973 - INFO - app.main - APScheduler shut down gracefully.
2025-06-23 11:23:42,973 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-23 11:23:42,975 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-23 11:23:42,977 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-23 11:23:45,155 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-23 11:23:45,155 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-23 11:23:45,155 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-23 11:23:45,156 - INFO - app.main - Redis client connection closed.
2025-06-23 11:23:45,157 - INFO - app.main - Application shutdown event finished.
2025-06-23 11:23:47,141 - INFO - app.core.config - .env file loaded successfully.
2025-06-23 11:23:47,146 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-23 11:23:47,146 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-23 11:23:47,891 - INFO - app.main - Application startup event triggered.
2025-06-23 11:23:47,922 - INFO - app.main - Firebase Admin SDK already initialized
2025-06-23 11:23:47,922 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-23 11:23:47,933 - INFO - app.main - Redis connection pool initialized successfully
2025-06-23 11:23:47,938 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-23 11:23:47,938 - INFO - app.main - Firebase events processor background task started
2025-06-23 11:23:47,938 - INFO - app.main - Redis publisher background task started
2025-06-23 11:23:47,938 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-23 11:23:47,938 - INFO - app.main - Generating initial service account token...
2025-06-23 11:23:47,938 - INFO - app.main - APScheduler: Starting rotate_service_account_jwt job...
2025-06-23 11:23:49,066 - INFO - app.main - SUCCESS: Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-06-23 11:23:49,069 - INFO - app.main - APScheduler: Finished rotate_service_account_jwt job successfully.
2025-06-23 11:23:49,069 - INFO - app.main - Application startup event finished.
2025-06-23 11:23:49,069 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-23 11:23:49,070 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-23 11:23:49,804 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-23 11:24:04,211 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-23 11:24:04,223 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-23 11:24:04,235 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-23 11:24:04,248 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-23 11:24:04,259 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-23 11:24:04,272 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-23 11:24:04,283 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-23 11:24:04,294 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-23 11:24:04,304 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-23 11:24:04,314 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-23 11:24:04,324 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-23 11:24:04,335 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-23 11:24:04,348 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-23 11:24:04,362 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-23 11:24:04,378 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-23 11:24:04,390 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-23 11:24:04,403 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-23 11:24:04,413 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-23 11:24:04,422 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-23 11:24:04,431 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-23 11:24:04,441 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-23 11:24:04,455 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-23 11:24:04,465 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-23 11:24:04,478 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-23 11:24:04,489 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-23 11:24:04,499 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-23 11:24:04,508 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-23 11:24:04,517 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-23 11:24:04,530 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-23 11:24:04,540 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-23 11:24:04,550 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-23 11:24:04,561 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-23 11:24:04,575 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-23 11:24:04,585 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-23 11:24:04,595 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-23 11:24:04,608 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-23 11:24:04,624 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-23 11:24:04,640 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-23 11:24:04,660 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-23 11:24:04,676 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-23 11:24:04,690 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-23 11:24:04,704 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-23 11:24:04,714 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-23 11:24:04,726 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-23 11:24:04,737 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-23 11:24:04,748 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-23 11:24:04,761 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-23 11:24:04,774 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-23 11:24:04,791 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-23 11:24:04,811 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-23 11:24:04,826 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-23 11:24:04,841 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-23 11:24:04,859 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-23 11:24:04,869 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-23 11:24:04,881 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-23 11:24:04,890 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-23 11:24:04,899 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-23 11:24:04,918 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-23 11:24:04,931 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-23 11:24:04,944 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-23 11:24:04,957 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-23 11:24:04,969 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-23 11:24:04,979 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-23 11:24:04,993 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-23 11:24:05,005 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-23 11:24:05,013 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-23 11:24:05,022 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-23 11:24:05,036 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-23 11:24:05,047 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-23 11:24:05,056 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-23 11:24:05,067 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-23 11:24:05,083 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-23 11:24:05,097 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-23 11:24:05,111 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-23 11:24:05,136 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-23 11:24:05,153 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-23 11:24:05,169 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-23 11:24:05,186 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-23 11:24:05,203 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-23 11:24:07,080 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:24:07,080 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:24:10,422 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:24:10,422 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:24:12,471 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:24:12,471 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:24:15,875 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:24:15,875 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:24:17,941 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64524, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.330000000000000000000000, PnL USD=-0.330000000000000000000000, Commission=0.10000000, Final PnL=-0.430000000000000000000000
2025-06-23 11:24:17,942 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64524, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.130000000000000000000000, PnL USD=-0.130000000000000000000000, Commission=0.10000000, Final PnL=-0.230000000000000000000000
2025-06-23 11:24:20,488 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64533, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.240000000000000000000000, PnL USD=-0.240000000000000000000000, Commission=0.10000000, Final PnL=-0.340000000000000000000000
2025-06-23 11:24:20,488 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64533, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.040000000000000000000000, PnL USD=-0.040000000000000000000000, Commission=0.10000000, Final PnL=-0.140000000000000000000000
2025-06-23 11:24:22,905 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:24:22,905 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:24:24,602 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:24:24,602 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:24:26,121 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64533, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.240000000000000000000000, PnL USD=-0.240000000000000000000000, Commission=0.10000000, Final PnL=-0.340000000000000000000000
2025-06-23 11:24:26,121 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64533, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.040000000000000000000000, PnL USD=-0.040000000000000000000000, Commission=0.10000000, Final PnL=-0.140000000000000000000000
2025-06-23 11:24:28,258 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64527, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.300000000000000000000000, PnL USD=-0.300000000000000000000000, Commission=0.10000000, Final PnL=-0.400000000000000000000000
2025-06-23 11:24:28,258 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64527, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.100000000000000000000000, PnL USD=-0.100000000000000000000000, Commission=0.10000000, Final PnL=-0.200000000000000000000000
2025-06-23 11:24:30,382 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.290000000000000000000000, PnL USD=-0.290000000000000000000000, Commission=0.10000000, Final PnL=-0.390000000000000000000000
2025-06-23 11:24:30,382 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.090000000000000000000000, PnL USD=-0.090000000000000000000000, Commission=0.10000000, Final PnL=-0.190000000000000000000000
2025-06-23 11:24:32,797 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64531, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.260000000000000000000000, PnL USD=-0.260000000000000000000000, Commission=0.10000000, Final PnL=-0.360000000000000000000000
2025-06-23 11:24:32,797 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64531, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.060000000000000000000000, PnL USD=-0.060000000000000000000000, Commission=0.10000000, Final PnL=-0.160000000000000000000000
2025-06-23 11:24:35,410 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.290000000000000000000000, PnL USD=-0.290000000000000000000000, Commission=0.10000000, Final PnL=-0.390000000000000000000000
2025-06-23 11:24:35,411 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.090000000000000000000000, PnL USD=-0.090000000000000000000000, Commission=0.10000000, Final PnL=-0.190000000000000000000000
2025-06-23 11:24:37,719 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64527, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.300000000000000000000000, PnL USD=-0.300000000000000000000000, Commission=0.10000000, Final PnL=-0.400000000000000000000000
2025-06-23 11:24:37,719 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64527, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.100000000000000000000000, PnL USD=-0.100000000000000000000000, Commission=0.10000000, Final PnL=-0.200000000000000000000000
2025-06-23 11:24:39,580 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64531, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.260000000000000000000000, PnL USD=-0.260000000000000000000000, Commission=0.10000000, Final PnL=-0.360000000000000000000000
2025-06-23 11:24:39,580 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64531, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.060000000000000000000000, PnL USD=-0.060000000000000000000000, Commission=0.10000000, Final PnL=-0.160000000000000000000000
2025-06-23 11:24:41,850 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.290000000000000000000000, PnL USD=-0.290000000000000000000000, Commission=0.10000000, Final PnL=-0.390000000000000000000000
2025-06-23 11:24:41,851 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.090000000000000000000000, PnL USD=-0.090000000000000000000000, Commission=0.10000000, Final PnL=-0.190000000000000000000000
2025-06-23 11:24:44,341 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64531, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.260000000000000000000000, PnL USD=-0.260000000000000000000000, Commission=0.10000000, Final PnL=-0.360000000000000000000000
2025-06-23 11:24:44,341 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64531, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.060000000000000000000000, PnL USD=-0.060000000000000000000000, Commission=0.10000000, Final PnL=-0.160000000000000000000000
2025-06-23 11:24:46,506 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64524, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.330000000000000000000000, PnL USD=-0.330000000000000000000000, Commission=0.10000000, Final PnL=-0.430000000000000000000000
2025-06-23 11:24:46,507 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64524, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.130000000000000000000000, PnL USD=-0.130000000000000000000000, Commission=0.10000000, Final PnL=-0.230000000000000000000000
2025-06-23 11:24:47,939 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-23 11:24:47,979 - DEBUG - app.main - Found 8 active users to update portfolios
2025-06-23 11:24:48,034 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-23 11:24:48,053 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-23 11:24:48,937 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.6453100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.26000000000000000000000000, PnL USD=-0.26000000000000000000000000, Commission=0.10000000, Final PnL=-0.36000000000000000000000000
2025-06-23 11:24:48,937 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.6453100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.06000000000000000000000000, PnL USD=-0.06000000000000000000000000, Commission=0.10000000, Final PnL=-0.16000000000000000000000000
2025-06-23 11:24:48,943 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-23 11:24:48,956 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-23 11:24:49,020 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-23 11:24:49,020 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-23 11:24:49,359 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64531, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.260000000000000000000000, PnL USD=-0.260000000000000000000000, Commission=0.10000000, Final PnL=-0.360000000000000000000000
2025-06-23 11:24:49,359 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64531, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.060000000000000000000000, PnL USD=-0.060000000000000000000000, Commission=0.10000000, Final PnL=-0.160000000000000000000000
2025-06-23 11:24:51,359 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64525, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.320000000000000000000000, PnL USD=-0.320000000000000000000000, Commission=0.10000000, Final PnL=-0.420000000000000000000000
2025-06-23 11:24:51,359 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64525, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.120000000000000000000000, PnL USD=-0.120000000000000000000000, Commission=0.10000000, Final PnL=-0.220000000000000000000000
2025-06-23 11:24:53,750 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64524, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.330000000000000000000000, PnL USD=-0.330000000000000000000000, Commission=0.10000000, Final PnL=-0.430000000000000000000000
2025-06-23 11:24:53,751 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64524, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.130000000000000000000000, PnL USD=-0.130000000000000000000000, Commission=0.10000000, Final PnL=-0.230000000000000000000000
2025-06-23 11:24:55,562 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64524, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.330000000000000000000000, PnL USD=-0.330000000000000000000000, Commission=0.10000000, Final PnL=-0.430000000000000000000000
2025-06-23 11:24:55,562 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64524, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.130000000000000000000000, PnL USD=-0.130000000000000000000000, Commission=0.10000000, Final PnL=-0.230000000000000000000000
2025-06-23 11:24:57,969 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:24:57,969 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:25:01,406 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.340000000000000000000000, PnL USD=-0.340000000000000000000000, Commission=0.10000000, Final PnL=-0.440000000000000000000000
2025-06-23 11:25:01,406 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.140000000000000000000000, PnL USD=-0.140000000000000000000000, Commission=0.10000000, Final PnL=-0.240000000000000000000000
2025-06-23 11:25:04,067 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.340000000000000000000000, PnL USD=-0.340000000000000000000000, Commission=0.10000000, Final PnL=-0.440000000000000000000000
2025-06-23 11:25:04,067 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.140000000000000000000000, PnL USD=-0.140000000000000000000000, Commission=0.10000000, Final PnL=-0.240000000000000000000000
2025-06-23 11:25:05,984 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.340000000000000000000000, PnL USD=-0.340000000000000000000000, Commission=0.10000000, Final PnL=-0.440000000000000000000000
2025-06-23 11:25:05,984 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.140000000000000000000000, PnL USD=-0.140000000000000000000000, Commission=0.10000000, Final PnL=-0.240000000000000000000000
2025-06-23 11:25:07,452 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64524, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.330000000000000000000000, PnL USD=-0.330000000000000000000000, Commission=0.10000000, Final PnL=-0.430000000000000000000000
2025-06-23 11:25:07,452 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64524, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.130000000000000000000000, PnL USD=-0.130000000000000000000000, Commission=0.10000000, Final PnL=-0.230000000000000000000000
2025-06-23 11:25:09,532 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64524, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.330000000000000000000000, PnL USD=-0.330000000000000000000000, Commission=0.10000000, Final PnL=-0.430000000000000000000000
2025-06-23 11:25:09,532 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64524, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.130000000000000000000000, PnL USD=-0.130000000000000000000000, Commission=0.10000000, Final PnL=-0.230000000000000000000000
2025-06-23 11:25:12,083 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.340000000000000000000000, PnL USD=-0.340000000000000000000000, Commission=0.10000000, Final PnL=-0.440000000000000000000000
2025-06-23 11:25:12,083 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.140000000000000000000000, PnL USD=-0.140000000000000000000000, Commission=0.10000000, Final PnL=-0.240000000000000000000000
2025-06-23 11:25:14,022 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.340000000000000000000000, PnL USD=-0.340000000000000000000000, Commission=0.10000000, Final PnL=-0.440000000000000000000000
2025-06-23 11:25:14,022 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.140000000000000000000000, PnL USD=-0.140000000000000000000000, Commission=0.10000000, Final PnL=-0.240000000000000000000000
2025-06-23 11:25:16,633 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.340000000000000000000000, PnL USD=-0.340000000000000000000000, Commission=0.10000000, Final PnL=-0.440000000000000000000000
2025-06-23 11:25:16,633 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.140000000000000000000000, PnL USD=-0.140000000000000000000000, Commission=0.10000000, Final PnL=-0.240000000000000000000000
2025-06-23 11:25:18,828 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:25:18,828 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:25:20,914 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.340000000000000000000000, PnL USD=-0.340000000000000000000000, Commission=0.10000000, Final PnL=-0.440000000000000000000000
2025-06-23 11:25:20,914 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.140000000000000000000000, PnL USD=-0.140000000000000000000000, Commission=0.10000000, Final PnL=-0.240000000000000000000000
2025-06-23 11:25:23,440 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64521, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.360000000000000000000000, PnL USD=-0.360000000000000000000000, Commission=0.10000000, Final PnL=-0.460000000000000000000000
2025-06-23 11:25:23,440 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64521, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.160000000000000000000000, PnL USD=-0.160000000000000000000000, Commission=0.10000000, Final PnL=-0.260000000000000000000000
2025-06-23 11:25:25,547 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64524, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.330000000000000000000000, PnL USD=-0.330000000000000000000000, Commission=0.10000000, Final PnL=-0.430000000000000000000000
2025-06-23 11:25:25,547 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64524, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.130000000000000000000000, PnL USD=-0.130000000000000000000000, Commission=0.10000000, Final PnL=-0.230000000000000000000000
2025-06-23 11:25:28,161 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64521, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.360000000000000000000000, PnL USD=-0.360000000000000000000000, Commission=0.10000000, Final PnL=-0.460000000000000000000000
2025-06-23 11:25:28,161 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64521, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.160000000000000000000000, PnL USD=-0.160000000000000000000000, Commission=0.10000000, Final PnL=-0.260000000000000000000000
2025-06-23 11:25:30,172 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64518, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.390000000000000000000000, PnL USD=-0.390000000000000000000000, Commission=0.10000000, Final PnL=-0.490000000000000000000000
2025-06-23 11:25:30,172 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64518, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.190000000000000000000000, PnL USD=-0.190000000000000000000000, Commission=0.10000000, Final PnL=-0.290000000000000000000000
2025-06-23 11:25:32,596 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.340000000000000000000000, PnL USD=-0.340000000000000000000000, Commission=0.10000000, Final PnL=-0.440000000000000000000000
2025-06-23 11:25:32,596 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.140000000000000000000000, PnL USD=-0.140000000000000000000000, Commission=0.10000000, Final PnL=-0.240000000000000000000000
2025-06-23 11:25:34,986 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.290000000000000000000000, PnL USD=-0.290000000000000000000000, Commission=0.10000000, Final PnL=-0.390000000000000000000000
2025-06-23 11:25:34,987 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.090000000000000000000000, PnL USD=-0.090000000000000000000000, Commission=0.10000000, Final PnL=-0.190000000000000000000000
2025-06-23 11:25:36,983 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64522, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.350000000000000000000000, PnL USD=-0.350000000000000000000000, Commission=0.10000000, Final PnL=-0.450000000000000000000000
2025-06-23 11:25:36,983 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64522, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.150000000000000000000000, PnL USD=-0.150000000000000000000000, Commission=0.10000000, Final PnL=-0.250000000000000000000000
2025-06-23 11:25:39,408 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64521, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.360000000000000000000000, PnL USD=-0.360000000000000000000000, Commission=0.10000000, Final PnL=-0.460000000000000000000000
2025-06-23 11:25:39,408 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64521, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.160000000000000000000000, PnL USD=-0.160000000000000000000000, Commission=0.10000000, Final PnL=-0.260000000000000000000000
2025-06-23 11:25:41,724 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:25:41,724 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:25:44,075 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64522, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.350000000000000000000000, PnL USD=-0.350000000000000000000000, Commission=0.10000000, Final PnL=-0.450000000000000000000000
2025-06-23 11:25:44,075 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64522, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.150000000000000000000000, PnL USD=-0.150000000000000000000000, Commission=0.10000000, Final PnL=-0.250000000000000000000000
2025-06-23 11:25:46,267 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64526, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.310000000000000000000000, PnL USD=-0.310000000000000000000000, Commission=0.10000000, Final PnL=-0.410000000000000000000000
2025-06-23 11:25:46,267 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64526, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.110000000000000000000000, PnL USD=-0.110000000000000000000000, Commission=0.10000000, Final PnL=-0.210000000000000000000000
2025-06-23 11:25:47,941 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-23 11:25:47,955 - DEBUG - app.main - Found 8 active users to update portfolios
2025-06-23 11:25:48,004 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-23 11:25:48,021 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-23 11:25:48,676 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64525, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.320000000000000000000000, PnL USD=-0.320000000000000000000000, Commission=0.10000000, Final PnL=-0.420000000000000000000000
2025-06-23 11:25:48,676 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64525, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.120000000000000000000000, PnL USD=-0.120000000000000000000000, Commission=0.10000000, Final PnL=-0.220000000000000000000000
2025-06-23 11:25:49,306 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.6452500000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.32000000000000000000000000, PnL USD=-0.32000000000000000000000000, Commission=0.10000000, Final PnL=-0.42000000000000000000000000
2025-06-23 11:25:49,306 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.6452500000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.12000000000000000000000000, PnL USD=-0.12000000000000000000000000, Commission=0.10000000, Final PnL=-0.22000000000000000000000000
2025-06-23 11:25:49,310 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-23 11:25:49,316 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-23 11:25:49,338 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-23 11:25:49,338 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-23 11:25:50,961 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:25:50,961 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:25:53,132 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64518, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.390000000000000000000000, PnL USD=-0.390000000000000000000000, Commission=0.10000000, Final PnL=-0.490000000000000000000000
2025-06-23 11:25:53,132 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64518, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.190000000000000000000000, PnL USD=-0.190000000000000000000000, Commission=0.10000000, Final PnL=-0.290000000000000000000000
2025-06-23 11:25:55,813 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64529, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.280000000000000000000000, PnL USD=-0.280000000000000000000000, Commission=0.10000000, Final PnL=-0.380000000000000000000000
2025-06-23 11:25:55,813 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64529, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.080000000000000000000000, PnL USD=-0.080000000000000000000000, Commission=0.10000000, Final PnL=-0.180000000000000000000000
2025-06-23 11:25:58,187 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64532, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.250000000000000000000000, PnL USD=-0.250000000000000000000000, Commission=0.10000000, Final PnL=-0.350000000000000000000000
2025-06-23 11:25:58,187 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64532, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.050000000000000000000000, PnL USD=-0.050000000000000000000000, Commission=0.10000000, Final PnL=-0.150000000000000000000000
2025-06-23 11:26:00,207 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.290000000000000000000000, PnL USD=-0.290000000000000000000000, Commission=0.10000000, Final PnL=-0.390000000000000000000000
2025-06-23 11:26:00,207 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.090000000000000000000000, PnL USD=-0.090000000000000000000000, Commission=0.10000000, Final PnL=-0.190000000000000000000000
2025-06-23 11:26:02,744 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64532, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.250000000000000000000000, PnL USD=-0.250000000000000000000000, Commission=0.10000000, Final PnL=-0.350000000000000000000000
2025-06-23 11:26:02,744 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64532, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.050000000000000000000000, PnL USD=-0.050000000000000000000000, Commission=0.10000000, Final PnL=-0.150000000000000000000000
2025-06-23 11:26:04,981 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64531, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.260000000000000000000000, PnL USD=-0.260000000000000000000000, Commission=0.10000000, Final PnL=-0.360000000000000000000000
2025-06-23 11:26:04,981 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64531, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.060000000000000000000000, PnL USD=-0.060000000000000000000000, Commission=0.10000000, Final PnL=-0.160000000000000000000000
2025-06-23 11:26:06,995 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64526, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.310000000000000000000000, PnL USD=-0.310000000000000000000000, Commission=0.10000000, Final PnL=-0.410000000000000000000000
2025-06-23 11:26:06,995 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64526, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.110000000000000000000000, PnL USD=-0.110000000000000000000000, Commission=0.10000000, Final PnL=-0.210000000000000000000000
2025-06-23 11:26:09,322 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64524, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.330000000000000000000000, PnL USD=-0.330000000000000000000000, Commission=0.10000000, Final PnL=-0.430000000000000000000000
2025-06-23 11:26:09,322 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64524, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.130000000000000000000000, PnL USD=-0.130000000000000000000000, Commission=0.10000000, Final PnL=-0.230000000000000000000000
2025-06-23 11:26:12,155 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.340000000000000000000000, PnL USD=-0.340000000000000000000000, Commission=0.10000000, Final PnL=-0.440000000000000000000000
2025-06-23 11:26:12,155 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64523, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.140000000000000000000000, PnL USD=-0.140000000000000000000000, Commission=0.10000000, Final PnL=-0.240000000000000000000000
2025-06-23 11:26:13,833 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64531, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.260000000000000000000000, PnL USD=-0.260000000000000000000000, Commission=0.10000000, Final PnL=-0.360000000000000000000000
2025-06-23 11:26:13,833 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64531, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.060000000000000000000000, PnL USD=-0.060000000000000000000000, Commission=0.10000000, Final PnL=-0.160000000000000000000000
2025-06-23 11:26:15,996 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.290000000000000000000000, PnL USD=-0.290000000000000000000000, Commission=0.10000000, Final PnL=-0.390000000000000000000000
2025-06-23 11:26:15,996 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64528, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.090000000000000000000000, PnL USD=-0.090000000000000000000000, Commission=0.10000000, Final PnL=-0.190000000000000000000000
2025-06-23 11:26:18,574 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.6453, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.270000000000000000000000, PnL USD=-0.270000000000000000000000, Commission=0.10000000, Final PnL=-0.370000000000000000000000
2025-06-23 11:26:18,574 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.6453, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.070000000000000000000000, PnL USD=-0.070000000000000000000000, Commission=0.10000000, Final PnL=-0.170000000000000000000000
2025-06-23 11:26:20,643 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.6453, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.270000000000000000000000, PnL USD=-0.270000000000000000000000, Commission=0.10000000, Final PnL=-0.370000000000000000000000
2025-06-23 11:26:20,643 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.6453, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.070000000000000000000000, PnL USD=-0.070000000000000000000000, Commission=0.10000000, Final PnL=-0.170000000000000000000000
2025-06-23 11:26:24,227 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64531, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.260000000000000000000000, PnL USD=-0.260000000000000000000000, Commission=0.10000000, Final PnL=-0.360000000000000000000000
2025-06-23 11:26:24,227 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64531, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.060000000000000000000000, PnL USD=-0.060000000000000000000000, Commission=0.10000000, Final PnL=-0.160000000000000000000000
2025-06-23 11:26:25,839 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64529, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.280000000000000000000000, PnL USD=-0.280000000000000000000000, Commission=0.10000000, Final PnL=-0.380000000000000000000000
2025-06-23 11:26:25,839 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64529, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.080000000000000000000000, PnL USD=-0.080000000000000000000000, Commission=0.10000000, Final PnL=-0.180000000000000000000000
2025-06-23 11:26:27,948 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64532, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.250000000000000000000000, PnL USD=-0.250000000000000000000000, Commission=0.10000000, Final PnL=-0.350000000000000000000000
2025-06-23 11:26:27,948 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64532, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.050000000000000000000000, PnL USD=-0.050000000000000000000000, Commission=0.10000000, Final PnL=-0.150000000000000000000000
2025-06-23 11:26:30,611 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64531, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.260000000000000000000000, PnL USD=-0.260000000000000000000000, Commission=0.10000000, Final PnL=-0.360000000000000000000000
2025-06-23 11:26:30,611 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64531, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.060000000000000000000000, PnL USD=-0.060000000000000000000000, Commission=0.10000000, Final PnL=-0.160000000000000000000000
2025-06-23 11:26:32,736 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.6453, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.270000000000000000000000, PnL USD=-0.270000000000000000000000, Commission=0.10000000, Final PnL=-0.370000000000000000000000
2025-06-23 11:26:32,736 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.6453, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.070000000000000000000000, PnL USD=-0.070000000000000000000000, Commission=0.10000000, Final PnL=-0.170000000000000000000000
2025-06-23 11:26:36,259 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64534, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.230000000000000000000000, PnL USD=-0.230000000000000000000000, Commission=0.10000000, Final PnL=-0.330000000000000000000000
2025-06-23 11:26:36,259 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64534, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.030000000000000000000000, PnL USD=-0.030000000000000000000000, Commission=0.10000000, Final PnL=-0.130000000000000000000000
2025-06-23 11:26:37,801 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64535, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.220000000000000000000000, PnL USD=-0.220000000000000000000000, Commission=0.10000000, Final PnL=-0.320000000000000000000000
2025-06-23 11:26:37,801 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64535, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.020000000000000000000000, PnL USD=-0.020000000000000000000000, Commission=0.10000000, Final PnL=-0.120000000000000000000000
2025-06-23 11:26:39,508 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.6453, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.270000000000000000000000, PnL USD=-0.270000000000000000000000, Commission=0.10000000, Final PnL=-0.370000000000000000000000
2025-06-23 11:26:39,508 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.6453, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.070000000000000000000000, PnL USD=-0.070000000000000000000000, Commission=0.10000000, Final PnL=-0.170000000000000000000000
2025-06-23 11:26:42,050 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.6453, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.270000000000000000000000, PnL USD=-0.270000000000000000000000, Commission=0.10000000, Final PnL=-0.370000000000000000000000
2025-06-23 11:26:42,050 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.6453, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.070000000000000000000000, PnL USD=-0.070000000000000000000000, Commission=0.10000000, Final PnL=-0.170000000000000000000000
2025-06-23 11:26:44,311 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64529, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.280000000000000000000000, PnL USD=-0.280000000000000000000000, Commission=0.10000000, Final PnL=-0.380000000000000000000000
2025-06-23 11:26:44,311 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64529, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.080000000000000000000000, PnL USD=-0.080000000000000000000000, Commission=0.10000000, Final PnL=-0.180000000000000000000000
2025-06-23 11:26:46,545 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64535, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.220000000000000000000000, PnL USD=-0.220000000000000000000000, Commission=0.10000000, Final PnL=-0.320000000000000000000000
2025-06-23 11:26:46,546 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64535, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.020000000000000000000000, PnL USD=-0.020000000000000000000000, Commission=0.10000000, Final PnL=-0.120000000000000000000000
2025-06-23 11:26:47,945 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-23 11:26:47,956 - DEBUG - app.main - Found 8 active users to update portfolios
2025-06-23 11:26:48,003 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-23 11:26:48,013 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-23 11:26:49,033 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.6453500000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.22000000000000000000000000, PnL USD=-0.22000000000000000000000000, Commission=0.10000000, Final PnL=-0.32000000000000000000000000
2025-06-23 11:26:49,033 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.6453500000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.02000000000000000000000000, PnL USD=-0.02000000000000000000000000, Commission=0.10000000, Final PnL=-0.12000000000000000000000000
2025-06-23 11:26:49,043 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-23 11:26:49,051 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-23 11:26:49,074 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-23 11:26:49,074 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-23 11:27:39,158 - INFO - app.main - Application shutdown event triggered.
2025-06-23 11:27:39,159 - INFO - app.main - APScheduler shut down gracefully.
2025-06-23 11:27:39,159 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-23 11:27:39,160 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-23 11:27:40,135 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-23 11:27:40,135 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-23 11:27:40,135 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-23 11:27:40,136 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-23 11:27:40,137 - INFO - app.main - Redis client connection closed.
2025-06-23 11:27:40,137 - INFO - app.main - Application shutdown event finished.
2025-06-23 11:27:42,099 - INFO - app.core.config - .env file loaded successfully.
2025-06-23 11:27:42,105 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-23 11:27:42,105 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-23 11:27:42,962 - INFO - app.main - Application startup event triggered.
2025-06-23 11:27:42,998 - INFO - app.main - Firebase Admin SDK already initialized
2025-06-23 11:27:42,998 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-23 11:27:43,015 - INFO - app.main - Redis connection pool initialized successfully
2025-06-23 11:27:43,023 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-23 11:27:43,023 - INFO - app.main - Firebase events processor background task started
2025-06-23 11:27:43,023 - INFO - app.main - Redis publisher background task started
2025-06-23 11:27:43,023 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-23 11:27:43,023 - INFO - app.main - Generating initial service account token...
2025-06-23 11:27:43,023 - INFO - app.main - APScheduler: Starting rotate_service_account_jwt job...
2025-06-23 11:27:44,993 - INFO - app.main - SUCCESS: Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-06-23 11:27:44,995 - INFO - app.main - APScheduler: Finished rotate_service_account_jwt job successfully.
2025-06-23 11:27:44,995 - INFO - app.main - Application startup event finished.
2025-06-23 11:27:44,996 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-23 11:27:44,996 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-23 11:27:45,806 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-23 11:28:15,188 - INFO - app.main - Application shutdown event triggered.
2025-06-23 11:28:15,188 - INFO - app.main - APScheduler shut down gracefully.
2025-06-23 11:28:15,188 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-23 11:28:15,189 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-23 11:28:15,241 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-23 11:28:15,242 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-23 11:28:15,242 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-23 11:28:15,242 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-23 11:28:15,243 - INFO - app.main - Redis client connection closed.
2025-06-23 11:28:15,243 - INFO - app.main - Application shutdown event finished.
2025-06-23 11:28:17,310 - INFO - app.core.config - .env file loaded successfully.
2025-06-23 11:28:17,315 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-23 11:28:17,315 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-23 11:28:17,962 - INFO - app.main - Application startup event triggered.
2025-06-23 11:28:18,011 - INFO - app.main - Firebase Admin SDK already initialized
2025-06-23 11:28:18,011 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-23 11:28:18,023 - INFO - app.main - Redis connection pool initialized successfully
2025-06-23 11:28:18,032 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-23 11:28:18,033 - INFO - app.main - Firebase events processor background task started
2025-06-23 11:28:18,033 - INFO - app.main - Redis publisher background task started
2025-06-23 11:28:18,033 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-23 11:28:18,033 - INFO - app.main - Generating initial service account token...
2025-06-23 11:28:18,033 - INFO - app.main - APScheduler: Starting rotate_service_account_jwt job...
2025-06-23 11:28:19,514 - INFO - app.main - SUCCESS: Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-06-23 11:28:19,516 - INFO - app.main - APScheduler: Finished rotate_service_account_jwt job successfully.
2025-06-23 11:28:19,517 - INFO - app.main - Application startup event finished.
2025-06-23 11:28:19,517 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-23 11:28:19,517 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-23 11:28:20,188 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-23 11:28:47,300 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-23 11:28:47,335 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-23 11:28:47,389 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-23 11:28:47,409 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-23 11:28:47,466 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-23 11:28:47,493 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-23 11:28:47,539 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-23 11:28:47,595 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-23 11:28:47,657 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-23 11:28:47,695 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-23 11:28:47,707 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-23 11:28:47,718 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-23 11:28:47,770 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-23 11:28:47,812 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-23 11:28:47,911 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-23 11:28:47,996 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-23 11:28:48,133 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-23 11:28:48,214 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-23 11:28:48,229 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-23 11:28:48,242 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-23 11:28:48,294 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-23 11:28:48,346 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-23 11:28:48,402 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-23 11:28:48,438 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-23 11:28:48,487 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-23 11:28:48,520 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-23 11:28:48,566 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-23 11:28:48,622 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-23 11:28:48,686 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-23 11:28:48,761 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-23 11:28:48,810 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-23 11:28:48,913 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-23 11:28:49,013 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-23 11:28:49,108 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-23 11:28:49,228 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-23 11:28:49,309 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-23 11:28:49,458 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-23 11:28:49,604 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-23 11:28:49,688 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-23 11:28:49,822 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-23 11:28:49,923 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-23 11:28:49,987 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-23 11:28:50,094 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-23 11:28:50,174 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-23 11:28:50,290 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-23 11:28:50,422 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-23 11:28:50,520 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-23 11:28:50,615 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-23 11:28:50,757 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-23 11:28:50,857 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-23 11:28:50,903 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-23 11:28:50,984 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-23 11:28:51,067 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-23 11:28:51,191 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-23 11:28:51,419 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-23 11:28:51,483 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-23 11:28:51,583 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-23 11:28:51,627 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-23 11:28:51,673 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-23 11:28:51,725 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-23 11:28:51,747 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-23 11:28:51,848 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-23 11:28:51,913 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-23 11:28:51,971 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-23 11:28:52,067 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-23 11:28:52,140 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-23 11:28:52,222 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-23 11:28:52,284 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-23 11:28:52,355 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-23 11:28:52,429 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-23 11:28:52,479 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-23 11:28:52,541 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-23 11:28:52,604 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-23 11:28:52,667 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-23 11:28:52,726 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-23 11:28:52,775 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-23 11:28:52,839 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-23 11:28:52,907 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-23 11:28:52,963 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-23 11:28:53,526 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-23 11:28:53,555 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-23 11:28:53,584 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-23 11:28:53,610 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-23 11:28:53,632 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-23 11:28:53,655 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-23 11:28:53,681 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-23 11:28:53,712 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-23 11:28:53,736 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-23 11:28:53,755 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-23 11:28:53,779 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-23 11:28:53,814 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-23 11:28:53,837 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-23 11:28:53,866 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-23 11:28:53,898 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-23 11:28:53,917 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-23 11:28:53,941 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-23 11:28:53,975 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-23 11:28:53,997 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-23 11:28:54,023 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-23 11:28:54,046 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-23 11:28:54,069 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-23 11:28:54,133 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-23 11:28:54,172 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-23 11:28:54,227 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-23 11:28:54,254 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-23 11:28:54,383 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-23 11:28:54,394 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-23 11:28:54,418 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-23 11:28:54,482 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-23 11:28:54,502 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-23 11:28:54,524 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-23 11:28:54,546 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-23 11:28:54,565 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-23 11:28:54,586 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-23 11:28:54,616 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-23 11:28:54,636 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-23 11:28:54,659 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-23 11:28:54,679 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-23 11:28:54,706 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-23 11:28:54,722 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-23 11:28:54,746 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-23 11:28:54,774 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-23 11:28:54,797 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-23 11:28:54,828 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-23 11:28:54,853 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-23 11:28:54,876 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-23 11:28:54,895 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-23 11:28:54,914 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-23 11:28:54,943 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-23 11:28:54,964 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-23 11:28:54,987 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-23 11:28:55,006 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-23 11:28:55,033 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-23 11:28:55,060 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-23 11:28:55,095 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-23 11:28:55,128 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-23 11:28:55,158 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-23 11:28:55,179 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-23 11:28:55,199 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-23 11:28:55,221 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-23 11:28:55,246 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-23 11:28:55,276 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-23 11:28:55,309 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-23 11:28:55,335 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-23 11:28:55,366 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-23 11:28:55,402 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-23 11:28:55,442 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-23 11:28:55,472 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-23 11:28:55,505 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-23 11:28:55,529 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-23 11:28:55,555 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-23 11:28:55,598 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-23 11:28:55,646 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-23 11:28:55,667 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-23 11:28:55,727 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-23 11:28:55,770 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-23 11:28:55,794 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-23 11:28:55,816 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-23 11:28:59,597 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.6454, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.170000000000000000000000, PnL USD=-0.170000000000000000000000, Commission=0.10000000, Final PnL=-0.270000000000000000000000
2025-06-23 11:28:59,597 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.6454, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.030000000000000000000000, Commission=0.10000000, Final PnL=-0.070000000000000000000000
2025-06-23 11:29:03,858 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64538, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.190000000000000000000000, PnL USD=-0.190000000000000000000000, Commission=0.10000000, Final PnL=-0.290000000000000000000000
2025-06-23 11:29:03,859 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64538, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.010000000000000000000000, Commission=0.10000000, Final PnL=-0.090000000000000000000000
2025-06-23 11:29:06,702 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64539, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.180000000000000000000000, PnL USD=-0.180000000000000000000000, Commission=0.10000000, Final PnL=-0.280000000000000000000000
2025-06-23 11:29:06,702 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64539, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.020000000000000000000000, Commission=0.10000000, Final PnL=-0.080000000000000000000000
2025-06-23 11:29:09,654 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.6454, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.170000000000000000000000, PnL USD=-0.170000000000000000000000, Commission=0.10000000, Final PnL=-0.270000000000000000000000
2025-06-23 11:29:09,654 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.6454, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.030000000000000000000000, Commission=0.10000000, Final PnL=-0.070000000000000000000000
2025-06-23 11:29:12,529 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:29:12,529 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:29:14,190 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64538, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.190000000000000000000000, PnL USD=-0.190000000000000000000000, Commission=0.10000000, Final PnL=-0.290000000000000000000000
2025-06-23 11:29:14,190 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64538, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.010000000000000000000000, Commission=0.10000000, Final PnL=-0.090000000000000000000000
2025-06-23 11:29:15,974 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:29:15,974 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:29:17,859 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.6454, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.170000000000000000000000, PnL USD=-0.170000000000000000000000, Commission=0.10000000, Final PnL=-0.270000000000000000000000
2025-06-23 11:29:17,859 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.6454, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.030000000000000000000000, PnL USD=0.030000000000000000000000, Commission=0.10000000, Final PnL=-0.070000000000000000000000
2025-06-23 11:29:18,031 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-23 11:29:18,048 - DEBUG - app.main - Found 8 active users to update portfolios
2025-06-23 11:29:18,091 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-23 11:29:18,104 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-23 11:29:19,104 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.6453800000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.19000000000000000000000000, PnL USD=-0.19000000000000000000000000, Commission=0.10000000, Final PnL=-0.29000000000000000000000000
2025-06-23 11:29:19,104 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.6453800000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.01000000000000000000000000, PnL USD=0.01000000000000000000000000, Commission=0.10000000, Final PnL=-0.09000000000000000000000000
2025-06-23 11:29:19,110 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-23 11:29:19,118 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-23 11:29:19,153 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-23 11:29:19,153 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-23 11:29:20,202 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64538, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.190000000000000000000000, PnL USD=-0.190000000000000000000000, Commission=0.10000000, Final PnL=-0.290000000000000000000000
2025-06-23 11:29:20,202 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64538, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.010000000000000000000000, Commission=0.10000000, Final PnL=-0.090000000000000000000000
2025-06-23 11:29:23,118 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:29:23,118 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:29:25,151 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:29:25,151 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:29:27,301 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:29:27,301 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:29:29,686 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64537, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.200000000000000000000000, PnL USD=-0.200000000000000000000000, Commission=0.10000000, Final PnL=-0.300000000000000000000000
2025-06-23 11:29:29,686 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64537, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0E-24, PnL USD=0E-24, Commission=0.10000000, Final PnL=-0.100000000000000000000000
2025-06-23 11:29:31,241 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64537, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.200000000000000000000000, PnL USD=-0.200000000000000000000000, Commission=0.10000000, Final PnL=-0.300000000000000000000000
2025-06-23 11:29:31,241 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64537, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0E-24, PnL USD=0E-24, Commission=0.10000000, Final PnL=-0.100000000000000000000000
2025-06-23 11:29:32,756 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64538, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.190000000000000000000000, PnL USD=-0.190000000000000000000000, Commission=0.10000000, Final PnL=-0.290000000000000000000000
2025-06-23 11:29:32,756 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64538, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.010000000000000000000000, Commission=0.10000000, Final PnL=-0.090000000000000000000000
2025-06-23 11:29:34,497 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64532, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.250000000000000000000000, PnL USD=-0.250000000000000000000000, Commission=0.10000000, Final PnL=-0.350000000000000000000000
2025-06-23 11:29:34,497 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64532, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.050000000000000000000000, PnL USD=-0.050000000000000000000000, Commission=0.10000000, Final PnL=-0.150000000000000000000000
2025-06-23 11:29:36,442 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64533, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.240000000000000000000000, PnL USD=-0.240000000000000000000000, Commission=0.10000000, Final PnL=-0.340000000000000000000000
2025-06-23 11:29:36,442 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64533, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.040000000000000000000000, PnL USD=-0.040000000000000000000000, Commission=0.10000000, Final PnL=-0.140000000000000000000000
2025-06-23 11:29:37,978 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64533, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.240000000000000000000000, PnL USD=-0.240000000000000000000000, Commission=0.10000000, Final PnL=-0.340000000000000000000000
2025-06-23 11:29:37,979 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64533, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.040000000000000000000000, PnL USD=-0.040000000000000000000000, Commission=0.10000000, Final PnL=-0.140000000000000000000000
2025-06-23 11:29:39,719 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64539, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.180000000000000000000000, PnL USD=-0.180000000000000000000000, Commission=0.10000000, Final PnL=-0.280000000000000000000000
2025-06-23 11:29:39,720 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64539, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.020000000000000000000000, Commission=0.10000000, Final PnL=-0.080000000000000000000000
2025-06-23 11:29:42,075 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64533, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.240000000000000000000000, PnL USD=-0.240000000000000000000000, Commission=0.10000000, Final PnL=-0.340000000000000000000000
2025-06-23 11:29:42,075 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64533, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.040000000000000000000000, PnL USD=-0.040000000000000000000000, Commission=0.10000000, Final PnL=-0.140000000000000000000000
2025-06-23 11:29:44,123 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64533, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.240000000000000000000000, PnL USD=-0.240000000000000000000000, Commission=0.10000000, Final PnL=-0.340000000000000000000000
2025-06-23 11:29:44,123 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64533, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.040000000000000000000000, PnL USD=-0.040000000000000000000000, Commission=0.10000000, Final PnL=-0.140000000000000000000000
2025-06-23 11:29:46,580 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64534, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.230000000000000000000000, PnL USD=-0.230000000000000000000000, Commission=0.10000000, Final PnL=-0.330000000000000000000000
2025-06-23 11:29:46,581 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64534, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.030000000000000000000000, PnL USD=-0.030000000000000000000000, Commission=0.10000000, Final PnL=-0.130000000000000000000000
2025-06-23 11:29:48,892 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64533, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.240000000000000000000000, PnL USD=-0.240000000000000000000000, Commission=0.10000000, Final PnL=-0.340000000000000000000000
2025-06-23 11:29:48,892 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64533, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.040000000000000000000000, PnL USD=-0.040000000000000000000000, Commission=0.10000000, Final PnL=-0.140000000000000000000000
2025-06-23 11:29:51,210 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64538, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.190000000000000000000000, PnL USD=-0.190000000000000000000000, Commission=0.10000000, Final PnL=-0.290000000000000000000000
2025-06-23 11:29:51,210 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64538, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.010000000000000000000000, Commission=0.10000000, Final PnL=-0.090000000000000000000000
2025-06-23 11:29:53,753 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64533, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.240000000000000000000000, PnL USD=-0.240000000000000000000000, Commission=0.10000000, Final PnL=-0.340000000000000000000000
2025-06-23 11:29:53,753 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64533, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.040000000000000000000000, PnL USD=-0.040000000000000000000000, Commission=0.10000000, Final PnL=-0.140000000000000000000000
2025-06-23 11:29:55,497 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64538, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.190000000000000000000000, PnL USD=-0.190000000000000000000000, Commission=0.10000000, Final PnL=-0.290000000000000000000000
2025-06-23 11:29:55,497 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64538, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.010000000000000000000000, Commission=0.10000000, Final PnL=-0.090000000000000000000000
2025-06-23 11:29:59,274 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64541, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.160000000000000000000000, PnL USD=-0.160000000000000000000000, Commission=0.10000000, Final PnL=-0.260000000000000000000000
2025-06-23 11:29:59,274 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64541, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.040000000000000000000000, PnL USD=0.040000000000000000000000, Commission=0.10000000, Final PnL=-0.060000000000000000000000
2025-06-23 11:30:01,995 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:30:01,995 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:30:05,697 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64538, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.190000000000000000000000, PnL USD=-0.190000000000000000000000, Commission=0.10000000, Final PnL=-0.290000000000000000000000
2025-06-23 11:30:05,697 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64538, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.010000000000000000000000, Commission=0.10000000, Final PnL=-0.090000000000000000000000
2025-06-23 11:30:07,606 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64539, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.180000000000000000000000, PnL USD=-0.180000000000000000000000, Commission=0.10000000, Final PnL=-0.280000000000000000000000
2025-06-23 11:30:07,606 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64539, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.020000000000000000000000, PnL USD=0.020000000000000000000000, Commission=0.10000000, Final PnL=-0.080000000000000000000000
2025-06-23 11:30:10,832 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64538, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.190000000000000000000000, PnL USD=-0.190000000000000000000000, Commission=0.10000000, Final PnL=-0.290000000000000000000000
2025-06-23 11:30:10,832 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64538, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.010000000000000000000000, Commission=0.10000000, Final PnL=-0.090000000000000000000000
2025-06-23 11:30:14,020 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64537, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.200000000000000000000000, PnL USD=-0.200000000000000000000000, Commission=0.10000000, Final PnL=-0.300000000000000000000000
2025-06-23 11:30:14,020 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64537, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0E-24, PnL USD=0E-24, Commission=0.10000000, Final PnL=-0.100000000000000000000000
2025-06-23 11:30:17,399 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64535, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.220000000000000000000000, PnL USD=-0.220000000000000000000000, Commission=0.10000000, Final PnL=-0.320000000000000000000000
2025-06-23 11:30:17,399 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64535, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.020000000000000000000000, PnL USD=-0.020000000000000000000000, Commission=0.10000000, Final PnL=-0.120000000000000000000000
2025-06-23 11:30:18,033 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-23 11:30:18,067 - DEBUG - app.main - Found 8 active users to update portfolios
2025-06-23 11:30:18,198 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-23 11:30:18,218 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-23 11:30:19,777 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.6453500000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.22000000000000000000000000, PnL USD=-0.22000000000000000000000000, Commission=0.10000000, Final PnL=-0.32000000000000000000000000
2025-06-23 11:30:19,777 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.6453500000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.02000000000000000000000000, PnL USD=-0.02000000000000000000000000, Commission=0.10000000, Final PnL=-0.12000000000000000000000000
2025-06-23 11:30:19,789 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-23 11:30:19,859 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-23 11:30:19,964 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-23 11:30:19,964 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-23 11:30:20,984 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64535, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.220000000000000000000000, PnL USD=-0.220000000000000000000000, Commission=0.10000000, Final PnL=-0.320000000000000000000000
2025-06-23 11:30:20,984 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64535, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.020000000000000000000000, PnL USD=-0.020000000000000000000000, Commission=0.10000000, Final PnL=-0.120000000000000000000000
2025-06-23 11:30:23,827 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:30:23,828 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:30:26,516 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:30:26,516 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:30:28,973 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64535, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.220000000000000000000000, PnL USD=-0.220000000000000000000000, Commission=0.10000000, Final PnL=-0.320000000000000000000000
2025-06-23 11:30:28,973 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64535, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.020000000000000000000000, PnL USD=-0.020000000000000000000000, Commission=0.10000000, Final PnL=-0.120000000000000000000000
2025-06-23 11:30:31,635 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:30:31,636 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:30:34,602 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:30:34,602 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:30:37,384 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:30:37,384 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:30:40,238 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64535, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.220000000000000000000000, PnL USD=-0.220000000000000000000000, Commission=0.10000000, Final PnL=-0.320000000000000000000000
2025-06-23 11:30:40,238 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64535, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.020000000000000000000000, PnL USD=-0.020000000000000000000000, Commission=0.10000000, Final PnL=-0.120000000000000000000000
2025-06-23 11:30:44,241 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64535, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.220000000000000000000000, PnL USD=-0.220000000000000000000000, Commission=0.10000000, Final PnL=-0.320000000000000000000000
2025-06-23 11:30:44,241 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64535, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.020000000000000000000000, PnL USD=-0.020000000000000000000000, Commission=0.10000000, Final PnL=-0.120000000000000000000000
2025-06-23 11:30:47,920 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:30:47,920 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:30:50,780 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:30:50,780 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:30:52,368 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64532, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.250000000000000000000000, PnL USD=-0.250000000000000000000000, Commission=0.10000000, Final PnL=-0.350000000000000000000000
2025-06-23 11:30:52,369 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64532, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.050000000000000000000000, PnL USD=-0.050000000000000000000000, Commission=0.10000000, Final PnL=-0.150000000000000000000000
2025-06-23 11:30:53,758 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:30:53,758 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:30:55,367 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64531, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.260000000000000000000000, PnL USD=-0.260000000000000000000000, Commission=0.10000000, Final PnL=-0.360000000000000000000000
2025-06-23 11:30:55,367 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64531, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.060000000000000000000000, PnL USD=-0.060000000000000000000000, Commission=0.10000000, Final PnL=-0.160000000000000000000000
2025-06-23 11:30:56,728 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64531, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.260000000000000000000000, PnL USD=-0.260000000000000000000000, Commission=0.10000000, Final PnL=-0.360000000000000000000000
2025-06-23 11:30:56,728 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64531, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.060000000000000000000000, PnL USD=-0.060000000000000000000000, Commission=0.10000000, Final PnL=-0.160000000000000000000000
2025-06-23 11:30:58,363 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:30:58,363 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:00,000 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64532, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.250000000000000000000000, PnL USD=-0.250000000000000000000000, Commission=0.10000000, Final PnL=-0.350000000000000000000000
2025-06-23 11:31:00,000 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64532, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.050000000000000000000000, PnL USD=-0.050000000000000000000000, Commission=0.10000000, Final PnL=-0.150000000000000000000000
2025-06-23 11:31:01,638 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64505, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.520000000000000000000000, PnL USD=-0.520000000000000000000000, Commission=0.10000000, Final PnL=-0.620000000000000000000000
2025-06-23 11:31:01,638 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64505, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.320000000000000000000000, PnL USD=-0.320000000000000000000000, Commission=0.10000000, Final PnL=-0.420000000000000000000000
2025-06-23 11:31:03,330 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64507, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.500000000000000000000000, PnL USD=-0.500000000000000000000000, Commission=0.10000000, Final PnL=-0.600000000000000000000000
2025-06-23 11:31:03,330 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64507, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.300000000000000000000000, PnL USD=-0.300000000000000000000000, Commission=0.10000000, Final PnL=-0.400000000000000000000000
2025-06-23 11:31:05,196 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64503, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.540000000000000000000000, PnL USD=-0.540000000000000000000000, Commission=0.10000000, Final PnL=-0.640000000000000000000000
2025-06-23 11:31:05,196 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64503, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.340000000000000000000000, PnL USD=-0.340000000000000000000000, Commission=0.10000000, Final PnL=-0.440000000000000000000000
2025-06-23 11:31:06,788 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.645, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.570000000000000000000000, PnL USD=-0.570000000000000000000000, Commission=0.10000000, Final PnL=-0.670000000000000000000000
2025-06-23 11:31:06,788 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.645, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.370000000000000000000000, PnL USD=-0.370000000000000000000000, Commission=0.10000000, Final PnL=-0.470000000000000000000000
2025-06-23 11:31:08,444 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:08,444 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:10,132 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:10,132 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:11,365 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:11,365 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:12,594 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:12,594 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:14,548 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.645, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.570000000000000000000000, PnL USD=-0.570000000000000000000000, Commission=0.10000000, Final PnL=-0.670000000000000000000000
2025-06-23 11:31:14,548 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.645, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.370000000000000000000000, PnL USD=-0.370000000000000000000000, Commission=0.10000000, Final PnL=-0.470000000000000000000000
2025-06-23 11:31:16,121 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64501, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.560000000000000000000000, PnL USD=-0.560000000000000000000000, Commission=0.10000000, Final PnL=-0.660000000000000000000000
2025-06-23 11:31:16,121 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64501, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.360000000000000000000000, PnL USD=-0.360000000000000000000000, Commission=0.10000000, Final PnL=-0.460000000000000000000000
2025-06-23 11:31:17,613 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64499, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.580000000000000000000000, PnL USD=-0.580000000000000000000000, Commission=0.10000000, Final PnL=-0.680000000000000000000000
2025-06-23 11:31:17,613 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64499, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.380000000000000000000000, PnL USD=-0.380000000000000000000000, Commission=0.10000000, Final PnL=-0.480000000000000000000000
2025-06-23 11:31:18,036 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-23 11:31:18,049 - DEBUG - app.main - Found 8 active users to update portfolios
2025-06-23 11:31:18,120 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-23 11:31:18,138 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-23 11:31:18,856 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.6449900000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.58000000000000000000000000, PnL USD=-0.58000000000000000000000000, Commission=0.10000000, Final PnL=-0.68000000000000000000000000
2025-06-23 11:31:18,856 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.6449900000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.38000000000000000000000000, PnL USD=-0.38000000000000000000000000, Commission=0.10000000, Final PnL=-0.48000000000000000000000000
2025-06-23 11:31:18,871 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-23 11:31:18,881 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-23 11:31:18,922 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-23 11:31:18,922 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-23 11:31:19,379 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:19,379 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:21,089 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64504, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.530000000000000000000000, PnL USD=-0.530000000000000000000000, Commission=0.10000000, Final PnL=-0.630000000000000000000000
2025-06-23 11:31:21,089 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64504, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.330000000000000000000000, PnL USD=-0.330000000000000000000000, Commission=0.10000000, Final PnL=-0.430000000000000000000000
2025-06-23 11:31:22,841 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64503, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.540000000000000000000000, PnL USD=-0.540000000000000000000000, Commission=0.10000000, Final PnL=-0.640000000000000000000000
2025-06-23 11:31:22,841 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64503, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.340000000000000000000000, PnL USD=-0.340000000000000000000000, Commission=0.10000000, Final PnL=-0.440000000000000000000000
2025-06-23 11:31:25,670 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:25,670 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:28,061 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:28,061 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:30,113 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:30,113 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:33,102 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:33,103 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:35,862 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.645, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.570000000000000000000000, PnL USD=-0.570000000000000000000000, Commission=0.10000000, Final PnL=-0.670000000000000000000000
2025-06-23 11:31:35,862 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.645, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.370000000000000000000000, PnL USD=-0.370000000000000000000000, Commission=0.10000000, Final PnL=-0.470000000000000000000000
2025-06-23 11:31:38,795 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:38,795 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:40,829 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64498, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.590000000000000000000000, PnL USD=-0.590000000000000000000000, Commission=0.10000000, Final PnL=-0.690000000000000000000000
2025-06-23 11:31:40,829 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64498, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.390000000000000000000000, PnL USD=-0.390000000000000000000000, Commission=0.10000000, Final PnL=-0.490000000000000000000000
2025-06-23 11:31:42,977 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:42,977 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:44,616 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:44,616 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:31:47,275 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64499, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.580000000000000000000000, PnL USD=-0.580000000000000000000000, Commission=0.10000000, Final PnL=-0.680000000000000000000000
2025-06-23 11:31:47,275 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64499, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.380000000000000000000000, PnL USD=-0.380000000000000000000000, Commission=0.10000000, Final PnL=-0.480000000000000000000000
2025-06-23 11:31:49,952 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64502, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.550000000000000000000000, PnL USD=-0.550000000000000000000000, Commission=0.10000000, Final PnL=-0.650000000000000000000000
2025-06-23 11:31:49,952 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64502, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.350000000000000000000000, PnL USD=-0.350000000000000000000000, Commission=0.10000000, Final PnL=-0.450000000000000000000000
2025-06-23 11:31:52,837 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64503, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.540000000000000000000000, PnL USD=-0.540000000000000000000000, Commission=0.10000000, Final PnL=-0.640000000000000000000000
2025-06-23 11:31:52,837 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64503, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.340000000000000000000000, PnL USD=-0.340000000000000000000000, Commission=0.10000000, Final PnL=-0.440000000000000000000000
2025-06-23 11:31:55,299 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64503, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.540000000000000000000000, PnL USD=-0.540000000000000000000000, Commission=0.10000000, Final PnL=-0.640000000000000000000000
2025-06-23 11:31:55,299 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64503, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.340000000000000000000000, PnL USD=-0.340000000000000000000000, Commission=0.10000000, Final PnL=-0.440000000000000000000000
2025-06-23 11:31:57,850 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64503, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.540000000000000000000000, PnL USD=-0.540000000000000000000000, Commission=0.10000000, Final PnL=-0.640000000000000000000000
2025-06-23 11:31:57,851 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64503, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.340000000000000000000000, PnL USD=-0.340000000000000000000000, Commission=0.10000000, Final PnL=-0.440000000000000000000000
2025-06-23 11:32:01,094 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64501, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.560000000000000000000000, PnL USD=-0.560000000000000000000000, Commission=0.10000000, Final PnL=-0.660000000000000000000000
2025-06-23 11:32:01,094 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64501, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.360000000000000000000000, PnL USD=-0.360000000000000000000000, Commission=0.10000000, Final PnL=-0.460000000000000000000000
2025-06-23 11:32:05,768 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64498, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.590000000000000000000000, PnL USD=-0.590000000000000000000000, Commission=0.10000000, Final PnL=-0.690000000000000000000000
2025-06-23 11:32:05,768 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64498, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.390000000000000000000000, PnL USD=-0.390000000000000000000000, Commission=0.10000000, Final PnL=-0.490000000000000000000000
2025-06-23 11:32:07,237 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64498, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.590000000000000000000000, PnL USD=-0.590000000000000000000000, Commission=0.10000000, Final PnL=-0.690000000000000000000000
2025-06-23 11:32:07,237 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64498, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.390000000000000000000000, PnL USD=-0.390000000000000000000000, Commission=0.10000000, Final PnL=-0.490000000000000000000000
2025-06-23 11:32:08,939 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:32:08,939 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDUSD
2025-06-23 11:32:11,407 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64496, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.610000000000000000000000, PnL USD=-0.610000000000000000000000, Commission=0.10000000, Final PnL=-0.710000000000000000000000
2025-06-23 11:32:11,407 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64496, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.410000000000000000000000, PnL USD=-0.410000000000000000000000, Commission=0.10000000, Final PnL=-0.510000000000000000000000
2025-06-23 11:32:13,123 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64493, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.640000000000000000000000, PnL USD=-0.640000000000000000000000, Commission=0.10000000, Final PnL=-0.740000000000000000000000
2025-06-23 11:32:13,123 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64493, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.440000000000000000000000, PnL USD=-0.440000000000000000000000, Commission=0.10000000, Final PnL=-0.540000000000000000000000
2025-06-23 11:32:14,916 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64491, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.660000000000000000000000, PnL USD=-0.660000000000000000000000, Commission=0.10000000, Final PnL=-0.760000000000000000000000
2025-06-23 11:32:14,916 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64491, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.460000000000000000000000, PnL USD=-0.460000000000000000000000, Commission=0.10000000, Final PnL=-0.560000000000000000000000
2025-06-23 11:32:16,328 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.6449, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.670000000000000000000000, PnL USD=-0.670000000000000000000000, Commission=0.10000000, Final PnL=-0.770000000000000000000000
2025-06-23 11:32:16,328 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.6449, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.470000000000000000000000, PnL USD=-0.470000000000000000000000, Commission=0.10000000, Final PnL=-0.570000000000000000000000
2025-06-23 11:32:17,960 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64489, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.680000000000000000000000, PnL USD=-0.680000000000000000000000, Commission=0.10000000, Final PnL=-0.780000000000000000000000
2025-06-23 11:32:17,960 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64489, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.480000000000000000000000, PnL USD=-0.480000000000000000000000, Commission=0.10000000, Final PnL=-0.580000000000000000000000
2025-06-23 11:32:18,031 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-23 11:32:18,043 - DEBUG - app.main - Found 8 active users to update portfolios
2025-06-23 11:32:18,093 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-23 11:32:18,105 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-23 11:32:18,836 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.6449900000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.58000000000000000000000000, PnL USD=-0.58000000000000000000000000, Commission=0.10000000, Final PnL=-0.68000000000000000000000000
2025-06-23 11:32:18,836 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.6449900000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.38000000000000000000000000, PnL USD=-0.38000000000000000000000000, Commission=0.10000000, Final PnL=-0.48000000000000000000000000
2025-06-23 11:32:18,845 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-23 11:32:18,852 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-23 11:32:18,885 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-23 11:32:18,885 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-23 11:32:19,769 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64557000, Current=0.64499, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.580000000000000000000000, PnL USD=-0.580000000000000000000000, Commission=0.10000000, Final PnL=-0.680000000000000000000000
2025-06-23 11:32:19,769 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64537000, Current=0.64499, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.380000000000000000000000, PnL USD=-0.380000000000000000000000, Commission=0.10000000, Final PnL=-0.480000000000000000000000
2025-06-23 11:32:20,084 - INFO - app.main - Application shutdown event triggered.
2025-06-23 11:32:20,085 - INFO - app.main - APScheduler shut down gracefully.
2025-06-23 11:32:20,085 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-23 11:32:20,085 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-23 11:32:21,261 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-23 11:32:21,262 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-23 11:32:21,262 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-23 11:32:21,262 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-23 11:32:21,263 - INFO - app.main - Redis client connection closed.
2025-06-23 11:32:21,263 - INFO - app.main - Application shutdown event finished.
2025-06-23 11:34:51,242 - INFO - app.core.config - .env file loaded successfully.
2025-06-23 11:34:51,251 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-23 11:34:51,251 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-23 11:34:52,637 - INFO - app.main - Application startup event triggered.
2025-06-23 11:34:52,694 - INFO - app.main - Firebase Admin SDK already initialized
2025-06-23 11:34:52,694 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-23 11:34:52,703 - INFO - app.main - Redis connection pool initialized successfully
2025-06-23 11:34:52,713 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-23 11:34:52,713 - INFO - app.main - Firebase events processor background task started
2025-06-23 11:34:52,713 - INFO - app.main - Redis publisher background task started
2025-06-23 11:34:52,713 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-23 11:34:52,713 - INFO - app.main - Generating initial service account token...
2025-06-23 11:34:52,713 - INFO - app.main - APScheduler: Starting rotate_service_account_jwt job...
2025-06-23 11:34:53,960 - INFO - app.main - SUCCESS: Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-06-23 11:34:53,963 - INFO - app.main - APScheduler: Finished rotate_service_account_jwt job successfully.
2025-06-23 11:34:53,963 - INFO - app.main - Application startup event finished.
2025-06-23 11:34:53,964 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-23 11:34:53,965 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-23 11:34:54,675 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-23 11:35:44,673 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-23 11:35:44,745 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-23 11:35:44,824 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-23 11:35:44,876 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-23 11:35:44,937 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-23 11:35:45,002 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-23 11:35:45,066 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-23 11:35:45,140 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-23 11:35:45,196 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-23 11:35:45,266 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-23 11:35:45,366 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-23 11:35:45,481 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-23 11:35:45,643 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-23 11:35:45,816 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-23 11:35:46,052 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-23 11:35:46,320 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-23 11:35:46,402 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-23 11:35:46,469 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-23 11:35:46,556 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-23 11:35:46,641 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-23 11:35:46,738 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-23 11:35:46,781 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-23 11:35:46,921 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-23 11:35:46,954 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-23 11:35:46,981 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-23 11:35:47,014 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-23 11:35:47,055 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-23 11:35:47,096 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-23 11:35:47,148 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-23 11:35:47,171 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-23 11:35:47,201 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-23 11:35:47,238 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-23 11:35:47,260 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-23 11:35:47,339 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-23 11:35:47,434 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-23 11:35:47,534 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-23 11:35:47,622 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-23 11:35:47,665 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-23 11:35:47,774 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-23 11:35:47,814 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-23 11:35:47,839 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-23 11:35:47,870 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-23 11:35:47,913 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-23 11:35:47,999 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-23 11:35:48,045 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-23 11:35:48,081 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-23 11:35:48,145 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-23 11:35:48,200 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-23 11:35:48,244 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-23 11:35:48,280 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-23 11:35:48,325 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-23 11:35:48,345 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-23 11:35:48,385 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-23 11:35:48,421 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-23 11:35:48,465 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-23 11:35:48,495 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-23 11:35:48,529 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-23 11:35:48,569 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-23 11:35:48,592 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-23 11:35:48,625 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-23 11:35:48,658 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-23 11:35:48,697 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-23 11:35:48,753 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-23 11:35:48,773 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-23 11:35:48,796 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-23 11:35:48,821 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-23 11:35:48,846 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-23 11:35:48,883 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-23 11:35:48,916 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-23 11:35:48,953 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-23 11:35:48,973 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-23 11:35:48,990 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-23 11:35:49,029 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-23 11:35:49,066 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-23 11:35:49,096 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-23 11:35:49,121 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-23 11:35:49,146 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-23 11:35:49,175 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-23 11:35:49,200 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-23 11:35:52,713 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-23 11:35:52,781 - DEBUG - app.main - Found 8 active users to update portfolios
2025-06-23 11:35:52,949 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-23 11:35:52,973 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-23 11:35:53,112 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-23 11:35:53,134 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-23 11:35:53,226 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-23 11:35:53,226 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-23 11:36:52,716 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-23 11:36:52,724 - DEBUG - app.main - Found 8 active users to update portfolios
2025-06-23 11:36:52,778 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-23 11:36:52,790 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-23 11:36:52,822 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-23 11:36:52,835 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-23 11:36:52,865 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-23 11:36:52,865 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-23 11:37:04,430 - INFO - app.main - Application shutdown event triggered.
2025-06-23 11:37:04,431 - INFO - app.main - APScheduler shut down gracefully.
2025-06-23 11:37:04,431 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-23 11:37:04,434 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-23 11:37:06,124 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-23 11:37:06,124 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-23 11:37:06,124 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-23 11:37:06,124 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-23 11:37:06,125 - INFO - app.main - Redis client connection closed.
2025-06-23 11:37:06,125 - INFO - app.main - Application shutdown event finished.
2025-06-23 11:37:08,662 - INFO - app.core.config - .env file loaded successfully.
2025-06-23 11:37:08,667 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-23 11:37:08,667 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-23 11:37:09,387 - INFO - app.main - Application startup event triggered.
2025-06-23 11:37:09,429 - INFO - app.main - Firebase Admin SDK already initialized
2025-06-23 11:37:09,430 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-23 11:37:09,444 - INFO - app.main - Redis connection pool initialized successfully
2025-06-23 11:37:09,450 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-23 11:37:09,450 - INFO - app.main - Firebase events processor background task started
2025-06-23 11:37:09,450 - INFO - app.main - Redis publisher background task started
2025-06-23 11:37:09,450 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-23 11:37:09,450 - INFO - app.main - Generating initial service account token...
2025-06-23 11:37:09,450 - INFO - app.main - APScheduler: Starting rotate_service_account_jwt job...
2025-06-23 11:37:17,955 - INFO - app.main - SUCCESS: Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-06-23 11:37:17,958 - INFO - app.main - APScheduler: Finished rotate_service_account_jwt job successfully.
2025-06-23 11:37:17,958 - INFO - app.main - Application startup event finished.
2025-06-23 11:37:17,958 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-23 11:37:17,958 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-23 11:37:25,061 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-23 11:37:25,314 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-23 11:37:25,327 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-23 11:37:25,337 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-23 11:37:25,346 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-23 11:37:25,355 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-23 11:37:25,365 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-23 11:37:25,376 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-23 11:37:25,391 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-23 11:37:25,405 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-23 11:37:25,417 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-23 11:37:25,428 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-23 11:37:25,447 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-23 11:37:25,458 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-23 11:37:25,470 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-23 11:37:25,481 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-23 11:37:25,492 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-23 11:37:25,501 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-23 11:37:25,511 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-23 11:37:25,521 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-23 11:37:25,532 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-23 11:37:25,543 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-23 11:37:25,554 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-23 11:37:25,567 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-23 11:37:25,577 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-23 11:37:25,591 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-23 11:37:25,607 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-23 11:37:25,624 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-23 11:37:25,636 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-23 11:37:25,647 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-23 11:37:25,657 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-23 11:37:25,667 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-23 11:37:25,675 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-23 11:37:25,685 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-23 11:37:25,696 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-23 11:37:25,706 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-23 11:37:25,714 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-23 11:37:25,727 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-23 11:37:25,738 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-23 11:37:25,750 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-23 11:37:25,763 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-23 11:37:25,776 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-23 11:37:25,786 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-23 11:37:25,797 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-23 11:37:25,807 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-23 11:37:25,817 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-23 11:37:25,827 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-23 11:37:25,835 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-23 11:37:25,844 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-23 11:37:25,855 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-23 11:37:25,863 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-23 11:37:25,873 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-23 11:37:25,883 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-23 11:37:25,893 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-23 11:37:25,905 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-23 11:37:25,918 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-23 11:37:25,929 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-23 11:37:25,939 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-23 11:37:25,952 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-23 11:37:25,961 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-23 11:37:25,974 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-23 11:37:25,986 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-23 11:37:25,994 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-23 11:37:26,003 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-23 11:37:26,012 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-23 11:37:26,020 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-23 11:37:26,029 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-23 11:37:26,037 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-23 11:37:26,049 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-23 11:37:26,060 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-23 11:37:26,069 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-23 11:37:26,077 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-23 11:37:26,086 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-23 11:37:26,097 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-23 11:37:26,107 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-23 11:37:26,116 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-23 11:37:26,126 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-23 11:37:26,137 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-23 11:37:26,151 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-23 11:37:26,162 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-23 11:37:49,327 - INFO - app.main - Application shutdown event triggered.
2025-06-23 11:37:49,327 - INFO - app.main - APScheduler shut down gracefully.
2025-06-23 11:37:49,327 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-23 11:37:49,328 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-23 11:37:49,660 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-23 11:37:49,660 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-23 11:37:49,660 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-23 11:37:49,660 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-23 11:37:49,662 - INFO - app.main - Redis client connection closed.
2025-06-23 11:37:49,663 - INFO - app.main - Application shutdown event finished.
2025-06-23 11:37:51,554 - INFO - app.core.config - .env file loaded successfully.
2025-06-23 11:37:51,561 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-23 11:37:51,561 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-23 11:37:52,170 - INFO - app.main - Application startup event triggered.
2025-06-23 11:37:52,212 - INFO - app.main - Firebase Admin SDK already initialized
2025-06-23 11:37:52,212 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-23 11:37:52,226 - INFO - app.main - Redis connection pool initialized successfully
2025-06-23 11:37:52,232 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-23 11:37:52,232 - INFO - app.main - Firebase events processor background task started
2025-06-23 11:37:52,232 - INFO - app.main - Redis publisher background task started
2025-06-23 11:37:52,232 - INFO - app.main - Stop loss/take profit checker background task started
2025-06-23 11:37:52,232 - INFO - app.main - Generating initial service account token...
2025-06-23 11:37:52,232 - INFO - app.main - APScheduler: Starting rotate_service_account_jwt job...
2025-06-23 11:37:53,335 - INFO - app.main - SUCCESS: Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-06-23 11:37:53,339 - INFO - app.main - APScheduler: Finished rotate_service_account_jwt job successfully.
2025-06-23 11:37:53,339 - INFO - app.main - Application startup event finished.
2025-06-23 11:37:53,339 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-23 11:37:53,340 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-23 11:37:54,095 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-23 11:37:56,632 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-23 11:37:56,687 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-23 11:37:56,726 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-23 11:37:56,749 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-23 11:37:56,770 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-23 11:37:56,789 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-23 11:37:56,808 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-23 11:37:56,830 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-23 11:37:56,851 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-23 11:37:56,870 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-23 11:37:56,890 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-23 11:37:56,911 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-23 11:37:56,934 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-23 11:37:56,955 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-23 11:37:56,978 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-23 11:37:57,053 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-23 11:37:57,094 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-23 11:37:57,155 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-23 11:37:57,206 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-23 11:37:57,316 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-23 11:37:57,375 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-23 11:37:57,391 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-23 11:37:57,404 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-23 11:37:57,451 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-23 11:37:57,488 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-23 11:37:57,544 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-23 11:37:57,610 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-23 11:37:57,663 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-23 11:37:57,794 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-23 11:37:57,965 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-23 11:37:58,064 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-23 11:37:58,143 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-23 11:37:58,210 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-23 11:37:58,336 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-23 11:37:58,399 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-23 11:37:58,442 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-23 11:37:58,494 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-23 11:37:58,545 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-23 11:37:58,599 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-23 11:37:58,688 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-23 11:37:58,764 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-23 11:37:58,803 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-23 11:37:58,890 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-23 11:37:58,925 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-23 11:37:58,971 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-23 11:37:59,041 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-23 11:37:59,120 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-23 11:37:59,192 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-23 11:37:59,239 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-23 11:37:59,296 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-23 11:37:59,357 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-23 11:37:59,402 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-23 11:37:59,464 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-23 11:37:59,513 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-23 11:37:59,576 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-23 11:37:59,629 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-23 11:37:59,678 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-23 11:37:59,730 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-23 11:37:59,801 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-23 11:37:59,882 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-23 11:37:59,968 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-23 11:38:00,010 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-23 11:38:00,051 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-23 11:38:00,213 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-23 11:38:00,343 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-23 11:38:00,506 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-23 11:38:00,509 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-23 11:38:00,576 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-23 11:38:00,592 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-23 11:38:00,642 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-23 11:38:00,680 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-23 11:38:00,690 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-23 11:38:00,748 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-23 11:38:00,777 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-23 11:38:00,807 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-23 11:38:00,836 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-23 11:38:00,866 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-23 11:38:00,896 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-23 11:38:00,927 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-23 11:38:00,961 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-23 11:38:01,004 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-23 11:38:01,040 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-23 11:38:01,074 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-23 11:38:01,128 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-23 11:38:01,139 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-23 11:38:01,230 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-23 11:38:01,257 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-23 11:38:01,277 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-23 11:38:01,326 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-23 11:38:01,344 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-23 11:38:01,391 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-23 11:38:01,410 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-23 11:38:01,460 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-23 11:38:01,477 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-23 11:38:01,534 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-23 11:38:01,550 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-23 11:38:01,624 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-23 11:38:01,670 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-23 11:38:01,718 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-23 11:38:01,768 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-23 11:38:01,820 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-23 11:38:01,863 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-23 11:38:01,906 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-23 11:38:01,954 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-23 11:38:02,000 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-23 11:38:02,061 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-23 11:38:02,160 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-23 11:38:02,215 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-23 11:38:02,265 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-23 11:38:02,291 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-23 11:38:02,320 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-23 11:38:02,342 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-23 11:38:02,360 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-23 11:38:02,377 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-23 11:38:02,402 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-23 11:38:02,426 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-23 11:38:02,453 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-23 11:38:02,474 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-23 11:38:02,494 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-23 11:38:02,516 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-23 11:38:02,537 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-23 11:38:02,564 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-23 11:38:02,586 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-23 11:38:02,616 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-23 11:38:02,640 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-23 11:38:02,670 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-23 11:38:02,699 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-23 11:38:02,738 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-23 11:38:02,758 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-23 11:38:02,778 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-23 11:38:02,803 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-23 11:38:02,831 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-23 11:38:02,853 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-23 11:38:02,874 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-23 11:38:02,900 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-23 11:38:02,924 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-23 11:38:02,944 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-23 11:38:02,964 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-23 11:38:02,987 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-23 11:38:03,012 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-23 11:38:03,168 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-23 11:38:03,199 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-23 11:38:03,279 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-23 11:38:03,320 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-23 11:38:03,333 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-23 11:38:03,344 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-23 11:38:03,365 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-23 11:38:03,398 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-23 11:38:03,418 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-23 11:38:03,430 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-23 11:38:03,463 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-23 11:38:03,509 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-23 11:38:03,538 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-23 11:38:03,557 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-23 11:38:03,580 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-23 11:38:03,609 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-23 11:38:03,630 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-23 11:38:03,650 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-23 11:38:24,777 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDCHF: buy=0, sell=0
2025-06-23 11:38:26,661 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.52426000, Current=0.52376, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.500000000000000000000000, PnL USD=-0.6154603643525356967011324471, Commission=0.10000000, Final PnL=-0.7154603643525356967011324471
2025-06-23 11:38:29,646 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.52426000, Current=0.52376, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.500000000000000000000000, PnL USD=-0.6153846153846153846153846154, Commission=0.10000000, Final PnL=-0.7153846153846153846153846154
2025-06-23 11:38:30,233 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCHF
2025-06-23 11:38:32,092 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.52426000, Current=0.52377, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.490000000000000000000000, PnL USD=-0.6031660060562790812181491420, Commission=0.10000000, Final PnL=-0.7031660060562790812181491420
2025-06-23 11:38:33,781 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.52426000, Current=0.52376, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.500000000000000000000000, PnL USD=-0.6154755163839582461409685123, Commission=0.10000000, Final PnL=-0.7154755163839582461409685123
2025-06-23 11:38:35,739 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.52426000, Current=0.52379, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.470000000000000000000000, PnL USD=-0.5785327424913835548990645002, Commission=0.10000000, Final PnL=-0.6785327424913835548990645002
2025-06-23 11:38:37,607 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.52426000, Current=0.52377, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.490000000000000000000000, PnL USD=-0.6031660060562790812181491420, Commission=0.10000000, Final PnL=-0.7031660060562790812181491420
2025-06-23 11:38:39,454 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.52426000, Current=0.52378, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.480000000000000000000000, PnL USD=-0.5908419497784342688330871492, Commission=0.10000000, Final PnL=-0.6908419497784342688330871492
2025-06-23 11:38:41,302 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.52426000, Current=0.52379, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.470000000000000000000000, PnL USD=-0.5785398638584916111719740519, Commission=0.10000000, Final PnL=-0.6785398638584916111719740519
2025-06-23 11:38:42,668 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCHF
2025-06-23 11:38:44,989 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCHF
2025-06-23 11:38:46,875 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.52426000, Current=0.52378, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.480000000000000000000000, PnL USD=-0.5908419497784342688330871492, Commission=0.10000000, Final PnL=-0.6908419497784342688330871492
2025-06-23 11:38:49,086 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.52426000, Current=0.52377, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.490000000000000000000000, PnL USD=-0.6031511570654849827671097981, Commission=0.10000000, Final PnL=-0.7031511570654849827671097981
2025-06-23 11:38:51,548 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.52426000, Current=0.52379, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.470000000000000000000000, PnL USD=-0.5785327424913835548990645002, Commission=0.10000000, Final PnL=-0.6785327424913835548990645002
2025-06-23 11:38:52,243 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-23 11:38:52,265 - DEBUG - app.main - Found 8 active users to update portfolios
2025-06-23 11:38:52,325 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-23 11:38:52,332 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-23 11:38:52,883 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.52426000, Current=0.5237900000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.47000000000000000000000000, PnL USD=-0.5785327424913835548990645002, Commission=0.10000000, Final PnL=-0.6785327424913835548990645002
2025-06-23 11:38:52,893 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-23 11:38:52,899 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-23 11:38:52,911 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-23 11:38:52,911 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-23 11:38:54,108 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.52426000, Current=0.52378, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.480000000000000000000000, PnL USD=-0.5908419497784342688330871492, Commission=0.10000000, Final PnL=-0.6908419497784342688330871492
2025-06-23 11:38:56,155 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.52426000, Current=0.52377, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.490000000000000000000000, PnL USD=-0.6032254093315277606795518897, Commission=0.10000000, Final PnL=-0.7032254093315277606795518897
2025-06-23 11:39:27,402 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.88684000, Current=0.88675, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.090000000000000000000000, PnL USD=-0.06548311990686845168800931315, Commission=0.10000000, Final PnL=-0.1654831199068684516880093132
2025-06-23 11:39:27,944 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDCAD: buy=0, sell=0
2025-06-23 11:39:30,841 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.88684000, Current=0.88675, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.090000000000000000000000, PnL USD=-0.06548264346155805036342867121, Commission=0.10000000, Final PnL=-0.1654826434615580503634286712
2025-06-23 11:39:33,902 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.88684000, Current=0.88675, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.090000000000000000000000, PnL USD=-0.06547787938974616408756575070, Commission=0.10000000, Final PnL=-0.1654778793897461640875657507
2025-06-23 11:39:36,705 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.88684000, Current=0.88677, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.070000000000000000000000, PnL USD=-0.05093576272666414413365544139, Commission=0.10000000, Final PnL=-0.1509357627266641441336554414
2025-06-23 11:39:37,291 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-23 11:39:41,108 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.88684000, Current=0.88679, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.050000000000000000000000, PnL USD=-0.03638295240382166532049742773, Commission=0.10000000, Final PnL=-0.1363829524038216653204974277
2025-06-23 11:39:44,317 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.88684000, Current=0.8868, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.040000000000000000000000, PnL USD=-0.02910572655169904678745543186, Commission=0.10000000, Final PnL=-0.1291057265516990467874554319
2025-06-23 11:39:47,354 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.88684000, Current=0.88683, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.010000000000000000000000, PnL USD=-0.007276378691852638778732600359, Commission=0.10000000, Final PnL=-0.1072763786918526387787326004
2025-06-23 11:39:49,706 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-23 11:39:52,374 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-23 11:39:52,381 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.88684000, Current=0.88683, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.010000000000000000000000, PnL USD=-0.007276378691852638778732600359, Commission=0.10000000, Final PnL=-0.1072763786918526387787326004
2025-06-23 11:39:52,440 - DEBUG - app.main - Found 8 active users to update portfolios
2025-06-23 11:39:52,537 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-23 11:39:52,557 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-23 11:39:54,006 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.88684000, Current=0.8868500000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.01000000000000000000000000, PnL USD=0.007276484584767407170247909830, Commission=0.10000000, Final PnL=-0.09272351541523259282975209017
2025-06-23 11:39:54,033 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-23 11:39:54,161 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-23 11:39:54,271 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-23 11:39:54,272 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-23 11:39:55,442 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.88684000, Current=0.88685, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.007276431637924761696863857964, Commission=0.10000000, Final PnL=-0.09272356836207523830313614204
2025-06-23 11:39:57,498 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.88684000, Current=0.88684, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0E-24, PnL USD=0E-14, Commission=0.10000000, Final PnL=-0.10000000000000
2025-06-23 11:39:59,643 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.88684000, Current=0.88683, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.010000000000000000000000, PnL USD=-0.007276325746551021596134815763, Commission=0.10000000, Final PnL=-0.1072763257465510215961348158
2025-06-23 11:40:02,506 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-23 11:40:04,890 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.88684000, Current=0.88684, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0E-24, PnL USD=0E-14, Commission=0.10000000, Final PnL=-0.10000000000000
2025-06-23 11:40:07,000 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.88684000, Current=0.88689, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.050000000000000000000000, PnL USD=0.03638189345926319389366300180, Commission=0.10000000, Final PnL=-0.06361810654073680610633699820
2025-06-23 11:40:08,616 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.88684000, Current=0.88685, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.010000000000000000000000, PnL USD=0.007276325746551021596134815763, Commission=0.10000000, Final PnL=-0.09272367425344897840386518424
2025-06-23 11:40:10,301 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.88684000, Current=0.88689, Quantity=0.01000000, Contract Size=100000.00000000, PnL=0.050000000000000000000000, PnL USD=0.03638162873275510798067407882, Commission=0.10000000, Final PnL=-0.06361837126724489201932592118
2025-06-23 11:40:52,235 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-23 11:40:52,261 - DEBUG - app.main - Found 8 active users to update portfolios
2025-06-23 11:40:52,358 - WARNING - app.main - No group settings found for group Admin. Skipping portfolio update for user 5.
2025-06-23 11:40:52,385 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-23 11:40:52,471 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-23 11:40:52,492 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-23 11:40:52,577 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-23 11:40:52,577 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-23 11:40:59,811 - INFO - app.main - Application shutdown event triggered.
2025-06-23 11:40:59,812 - INFO - app.main - APScheduler shut down gracefully.
2025-06-23 11:40:59,812 - INFO - app.main - Cancelling 3 other background tasks...
2025-06-23 11:40:59,812 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-23 11:41:01,281 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-23 11:41:01,281 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-23 11:41:01,281 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-23 11:41:01,282 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-23 11:41:01,286 - INFO - app.main - Redis client connection closed.
2025-06-23 11:41:01,286 - INFO - app.main - Application shutdown event finished.

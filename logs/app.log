2025-06-28 04:34:37,116 - INFO - app.core.config - .env file loaded successfully.
2025-06-28 04:34:37,125 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-28 04:34:37,126 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-28 04:34:37,993 - INFO - app.main - Application startup event triggered.
2025-06-28 04:34:38,028 - INFO - app.main - Firebase Admin SDK already initialized
2025-06-28 04:34:38,028 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-28 04:34:38,053 - INFO - app.main - Redis connection pool initialized successfully
2025-06-28 04:34:38,066 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-28 04:34:38,066 - INFO - app.main - Firebase events processor background task started
2025-06-28 04:34:38,066 - INFO - app.main - Redis publisher background task started
2025-06-28 04:34:38,066 - INFO - app.main - Pending order checker background task started
2025-06-28 04:34:38,066 - INFO - app.main - SL/TP checker background task started
2025-06-28 04:34:38,067 - INFO - app.main - Redis cleanup background task started
2025-06-28 04:34:38,067 - INFO - app.main - Generating initial service account token...
2025-06-28 04:34:38,067 - INFO - app.main - APScheduler: Starting rotate_service_account_jwt job...
2025-06-28 04:34:40,756 - INFO - app.main - SUCCESS: Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-06-28 04:34:40,760 - INFO - app.main - APScheduler: Finished rotate_service_account_jwt job successfully.
2025-06-28 04:34:40,760 - INFO - app.main - Application startup event finished.
2025-06-28 04:34:40,760 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-28 04:34:40,761 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-28 04:34:41,632 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-28 04:35:38,065 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-28 04:35:38,172 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-28 04:35:38,250 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-28 04:35:39,386 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5218400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-360.2600000000000000000000000, PnL USD=-450.5784503783378150209492840, Commission=0.10000000, Final PnL=-450.6784503783378150209492840
2025-06-28 04:35:39,439 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-28 04:35:39,558 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-28 04:35:39,577 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-28 04:35:39,630 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-28 04:35:39,835 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-28 04:36:38,066 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-28 04:36:38,127 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-28 04:36:38,197 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-28 04:36:39,318 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5218400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-360.2600000000000000000000000, PnL USD=-450.5784503783378150209492840, Commission=0.10000000, Final PnL=-450.6784503783378150209492840
2025-06-28 04:36:39,331 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-28 04:36:39,396 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-28 04:36:39,413 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-28 04:36:39,473 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-28 04:36:39,517 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-28 04:37:32,136 - WARNING - app.api.v1.endpoints.users - JWTError during refresh token validation.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 93, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 289, in refresh_access_token
    payload = decode_token(refresh_token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 98, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-28 04:37:32,238 - WARNING - app.api.v1.endpoints.users - JWTError during refresh token validation.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 93, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 289, in refresh_access_token
    payload = decode_token(refresh_token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 98, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-28 04:37:38,081 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-28 04:37:38,141 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-28 04:37:38,257 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-28 04:37:40,788 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5218400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-360.2600000000000000000000000, PnL USD=-450.5784503783378150209492840, Commission=0.10000000, Final PnL=-450.6784503783378150209492840
2025-06-28 04:37:40,911 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-28 04:37:41,533 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-28 04:37:41,705 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-28 04:37:42,020 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-28 04:37:42,274 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-28 04:37:45,481 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-28 04:37:45,562 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-28 04:37:45,679 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-28 04:37:45,822 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-28 04:37:45,953 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-28 04:37:46,085 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-28 04:37:46,236 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-28 04:37:46,383 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-28 04:37:46,555 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-28 04:37:46,700 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-28 04:37:46,825 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-28 04:37:46,891 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-28 04:37:47,030 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-28 04:37:47,139 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-28 04:37:47,373 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-28 04:37:47,617 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-28 04:37:47,762 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-28 04:37:47,921 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-28 04:37:48,098 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-28 04:37:48,263 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-28 04:37:48,463 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-28 04:37:48,634 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-28 04:37:48,737 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-28 04:37:48,856 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-28 04:37:48,965 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-28 04:37:49,084 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-28 04:37:49,231 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-28 04:37:49,343 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-28 04:37:49,473 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-28 04:37:49,593 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-28 04:37:49,670 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-28 04:37:49,747 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-28 04:37:49,827 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-28 04:37:49,902 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-28 04:37:49,972 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-28 04:37:50,017 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-28 04:37:50,054 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-28 04:37:50,136 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-28 04:37:50,203 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-28 04:37:50,268 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-28 04:37:50,355 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-28 04:37:50,604 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-28 04:37:50,705 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-28 04:37:50,806 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-28 04:37:50,859 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-28 04:37:50,938 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-28 04:37:51,000 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-28 04:37:51,097 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-28 04:37:51,172 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-28 04:37:51,237 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-28 04:37:51,346 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-28 04:37:51,480 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-28 04:37:51,549 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-28 04:37:51,654 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-28 04:37:51,772 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-28 04:37:51,849 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-28 04:37:51,966 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-28 04:37:52,068 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-28 04:37:52,181 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-28 04:37:52,256 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-28 04:37:52,333 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-28 04:37:52,445 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-28 04:37:52,576 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-28 04:37:52,679 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-28 04:37:52,772 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-28 04:37:52,855 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-28 04:37:52,943 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-28 04:37:53,062 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-28 04:37:53,160 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-28 04:37:53,228 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-28 04:37:53,314 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-28 04:37:53,395 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-28 04:37:53,500 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-28 04:37:53,569 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-28 04:37:53,769 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-28 04:37:53,908 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-28 04:37:54,034 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-28 04:37:54,130 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-28 04:37:54,234 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-28 04:38:38,075 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-28 04:38:38,147 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-28 04:38:38,238 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-28 04:38:39,466 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5218400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-360.2600000000000000000000000, PnL USD=-450.5784503783378150209492840, Commission=0.10000000, Final PnL=-450.6784503783378150209492840
2025-06-28 04:38:39,482 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-28 04:38:39,557 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-28 04:38:39,573 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-28 04:38:39,733 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-28 04:38:39,870 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-28 04:38:40,892 - INFO - app.api.v1.endpoints.users - Refresh token decoded. User ID from token payload: 10
2025-06-28 04:38:40,899 - WARNING - app.api.v1.endpoints.users - Refresh token validation failed for user ID 10. Data found: False, User ID match: False
2025-06-28 04:38:40,900 - ERROR - app.api.v1.endpoints.users - Unexpected error during refresh token process for token: eyJhbGciOiJIUzI1NiIs... : 401: Invalid or expired refresh token
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 310, in refresh_access_token
     raise HTTPException(
    ...<3 lines>...
    )
fastapi.exceptions.HTTPException: 401: Invalid or expired refresh token
2025-06-28 04:39:34,263 - INFO - app.api.v1.endpoints.users - Logout successful for user ID 10 by invalidating refresh token.
2025-06-28 04:39:38,073 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-28 04:39:38,139 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-28 04:39:38,209 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-28 04:39:39,941 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5218400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-360.2600000000000000000000000, PnL USD=-450.5784503783378150209492840, Commission=0.10000000, Final PnL=-450.6784503783378150209492840
2025-06-28 04:39:39,957 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-28 04:39:40,033 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-28 04:39:40,050 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-28 04:39:40,124 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-28 04:39:40,198 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-28 04:39:45,189 - INFO - app.main - Application shutdown event triggered.
2025-06-28 04:39:45,190 - INFO - app.main - APScheduler shut down gracefully.
2025-06-28 04:39:45,190 - INFO - app.main - Cancelling 5 other background tasks...
2025-06-28 04:39:45,192 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-28 04:40:11,566 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-28 04:40:11,566 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-28 04:40:11,567 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-28 04:40:11,570 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-28 04:40:11,572 - INFO - app.main - Background task 'Task-6' cancelled successfully.
2025-06-28 04:40:11,572 - INFO - app.main - Background task 'Task-7' cancelled successfully.
2025-06-28 04:40:11,573 - INFO - app.main - Redis client connection closed.
2025-06-28 04:40:11,573 - INFO - app.main - Application shutdown event finished.
2025-06-28 23:31:16,526 - INFO - app.core.config - .env file loaded successfully.
2025-06-28 23:31:16,533 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-06-28 23:31:16,533 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-06-28 23:31:17,594 - INFO - app.main - Application startup event triggered.
2025-06-28 23:31:17,632 - INFO - app.main - Firebase Admin SDK already initialized
2025-06-28 23:31:17,633 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-06-28 23:31:17,657 - INFO - app.main - Redis connection pool initialized successfully
2025-06-28 23:31:17,664 - INFO - app.main - APScheduler started successfully with jobs configured
2025-06-28 23:31:17,665 - INFO - app.main - Firebase events processor background task started
2025-06-28 23:31:17,665 - INFO - app.main - Redis publisher background task started
2025-06-28 23:31:17,665 - INFO - app.main - Pending order checker background task started
2025-06-28 23:31:17,665 - INFO - app.main - SL/TP checker background task started
2025-06-28 23:31:17,665 - INFO - app.main - Redis cleanup background task started
2025-06-28 23:31:17,665 - INFO - app.main - Generating initial service account token...
2025-06-28 23:31:17,665 - INFO - app.main - APScheduler: Starting rotate_service_account_jwt job...
2025-06-28 23:31:19,517 - INFO - app.main - SUCCESS: Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-06-28 23:31:19,519 - INFO - app.main - APScheduler: Finished rotate_service_account_jwt job successfully.
2025-06-28 23:31:19,519 - INFO - app.main - Application startup event finished.
2025-06-28 23:31:19,520 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-28 23:31:19,520 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-06-28 23:31:20,304 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-06-28 23:31:50,848 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-28 23:31:50,906 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-28 23:31:51,001 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-28 23:31:51,103 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-28 23:31:51,171 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-28 23:31:51,351 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-28 23:31:51,647 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-28 23:31:51,829 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-28 23:31:51,904 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-28 23:31:51,982 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-28 23:31:52,033 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-28 23:31:52,108 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-28 23:31:52,158 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-28 23:31:52,213 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-28 23:31:52,318 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-28 23:31:52,427 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-28 23:31:52,502 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-28 23:31:52,611 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-28 23:31:52,676 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-28 23:31:52,764 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-28 23:31:52,824 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-28 23:31:52,865 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-28 23:31:52,943 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-28 23:31:53,035 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-28 23:31:53,107 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-28 23:31:53,205 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-28 23:31:53,275 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-28 23:31:53,340 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-28 23:31:53,405 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-28 23:31:53,505 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-28 23:31:53,548 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-28 23:31:53,627 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-28 23:31:53,722 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-28 23:31:53,739 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-28 23:31:53,786 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-28 23:31:53,808 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-28 23:31:53,834 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-28 23:31:53,871 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-28 23:31:53,898 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-28 23:31:53,939 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-28 23:31:53,976 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-28 23:31:54,019 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-28 23:31:54,051 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-28 23:31:54,077 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-28 23:31:54,095 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-28 23:31:54,131 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-28 23:31:54,165 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-28 23:31:54,199 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-28 23:31:54,223 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-28 23:31:54,242 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-28 23:31:54,291 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-28 23:31:54,332 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-28 23:31:54,380 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-28 23:31:54,424 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-28 23:31:54,478 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-28 23:31:54,508 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-28 23:31:54,543 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-28 23:31:54,578 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-28 23:31:54,615 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-28 23:31:54,651 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-28 23:31:54,686 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-28 23:31:54,713 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-28 23:31:54,744 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-28 23:31:54,787 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-28 23:31:54,827 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-28 23:31:54,864 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-28 23:31:54,908 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-28 23:31:54,944 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-28 23:31:54,977 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-28 23:31:55,011 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-28 23:31:55,063 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-28 23:31:55,097 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-28 23:31:55,118 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-28 23:31:55,159 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-28 23:31:55,208 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-28 23:31:55,256 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-28 23:31:55,307 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-28 23:31:55,364 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-28 23:31:55,422 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-28 23:32:01,791 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDCAD: buy=0, sell=0
2025-06-28 23:32:02,791 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:32:04,005 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:32:17,663 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-28 23:32:17,674 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-28 23:32:17,720 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-28 23:32:18,118 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5210900000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-361.0100000000000000000000000, PnL USD=-451.5164780188856231630292039, Commission=0.10000000, Final PnL=-451.6164780188856231630292039
2025-06-28 23:32:18,127 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-28 23:32:18,151 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-28 23:32:18,160 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-28 23:32:18,183 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-28 23:32:18,659 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8927500000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.57000000000000000000000000, PnL USD=-1.147006823594733996697789272, Commission=0.10000000, Final PnL=-1.247006823594733996697789272
2025-06-28 23:32:18,661 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-28 23:32:49,627 - INFO - app.api.v1.endpoints.users - Refresh token decoded. User ID from token payload: 10
2025-06-28 23:32:49,628 - WARNING - app.api.v1.endpoints.users - Refresh token validation failed for user ID 10. Data found: False, User ID match: False
2025-06-28 23:32:49,628 - ERROR - app.api.v1.endpoints.users - Unexpected error during refresh token process for token: eyJhbGciOiJIUzI1NiIs... : 401: Invalid or expired refresh token
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 310, in refresh_access_token
     raise HTTPException(
    ...<3 lines>...
    )
fastapi.exceptions.HTTPException: 401: Invalid or expired refresh token
2025-06-28 23:32:54,320 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCAD'.
2025-06-28 23:32:54,330 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDCHF'.
2025-06-28 23:32:54,338 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDJPY'.
2025-06-28 23:32:54,349 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDNZD'.
2025-06-28 23:32:54,357 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDSGD'.
2025-06-28 23:32:54,366 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUDUSD'.
2025-06-28 23:32:54,391 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADCHF'.
2025-06-28 23:32:54,412 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CADJPY'.
2025-06-28 23:32:54,431 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFJPY'.
2025-06-28 23:32:54,464 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CHFSGD'.
2025-06-28 23:32:54,505 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURAUD'.
2025-06-28 23:32:54,568 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCAD'.
2025-06-28 23:32:54,601 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCHF'.
2025-06-28 23:32:54,628 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURCZK'.
2025-06-28 23:32:54,637 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURGBP'.
2025-06-28 23:32:54,646 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURJPY'.
2025-06-28 23:32:54,658 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNOK'.
2025-06-28 23:32:54,667 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURNZD'.
2025-06-28 23:32:54,676 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURPLN'.
2025-06-28 23:32:54,707 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSEK'.
2025-06-28 23:32:54,734 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURSGD'.
2025-06-28 23:32:54,744 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURTRY'.
2025-06-28 23:32:54,758 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURUSD'.
2025-06-28 23:32:54,774 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'EURZAR'.
2025-06-28 23:32:54,797 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPAUD'.
2025-06-28 23:32:54,810 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCAD'.
2025-06-28 23:32:54,828 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPCHF'.
2025-06-28 23:32:54,845 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPJPY'.
2025-06-28 23:32:54,861 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNOK'.
2025-06-28 23:32:54,877 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPNZD'.
2025-06-28 23:32:54,894 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSEK'.
2025-06-28 23:32:54,916 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPSGD'.
2025-06-28 23:32:54,933 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPTRY'.
2025-06-28 23:32:54,965 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GBPUSD'.
2025-06-28 23:32:54,988 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKJPY'.
2025-06-28 23:32:55,007 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NOKSEK'.
2025-06-28 23:32:55,031 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCAD'.
2025-06-28 23:32:55,051 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDCHF'.
2025-06-28 23:32:55,080 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDJPY'.
2025-06-28 23:32:55,113 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NZDUSD'.
2025-06-28 23:32:55,132 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SEKJPY'.
2025-06-28 23:32:55,169 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'SGDJPY'.
2025-06-28 23:32:55,253 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCAD'.
2025-06-28 23:32:55,284 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCHF'.
2025-06-28 23:32:55,323 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCNH'.
2025-06-28 23:32:55,369 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDCZK'.
2025-06-28 23:32:55,404 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDJPY'.
2025-06-28 23:32:55,423 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDMXN'.
2025-06-28 23:32:55,462 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDNOK'.
2025-06-28 23:32:55,494 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDPLN'.
2025-06-28 23:32:55,523 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSEK'.
2025-06-28 23:32:55,545 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDSGD'.
2025-06-28 23:32:55,594 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTHB'.
2025-06-28 23:32:55,691 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTRY'.
2025-06-28 23:32:55,791 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDZAR'.
2025-06-28 23:32:55,842 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'ZARJPY'.
2025-06-28 23:32:55,890 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAUUSD'.
2025-06-28 23:32:55,922 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'XAGUSD'.
2025-06-28 23:32:55,936 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'BTCUSD'.
2025-06-28 23:32:55,955 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UK100'.
2025-06-28 23:32:56,071 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'DE30'.
2025-06-28 23:32:56,164 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'AUS200'.
2025-06-28 23:32:56,193 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'FR40'.
2025-06-28 23:32:56,309 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US100'.
2025-06-28 23:32:56,428 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US500'.
2025-06-28 23:32:56,459 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000'.
2025-06-28 23:32:56,506 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US30'.
2025-06-28 23:32:56,589 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'JP225'.
2025-06-28 23:32:56,684 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'IND50'.
2025-06-28 23:32:56,741 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'CN50U'.
2025-06-28 23:32:56,803 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'HKG50'.
2025-06-28 23:32:56,875 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USOIL'.
2025-06-28 23:32:56,961 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'UKOIL'.
2025-06-28 23:32:57,049 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'NGAS'.
2025-06-28 23:32:57,126 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'USDTUSD'.
2025-06-28 23:32:57,195 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'US2000-1'.
2025-06-28 23:32:57,271 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'GER30-1'.
2025-06-28 23:32:57,313 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'W20'.
2025-06-28 23:32:57,363 - DEBUG - app.core.cache - Group-symbol settings cached for group 'Group B', symbol 'D30'.
2025-06-28 23:33:15,100 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDCAD: buy=0, sell=0
2025-06-28 23:33:15,683 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:33:17,664 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-28 23:33:17,695 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-28 23:33:17,739 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-28 23:33:18,606 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5210900000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-361.0100000000000000000000000, PnL USD=-451.5164780188856231630292039, Commission=0.10000000, Final PnL=-451.6164780188856231630292039
2025-06-28 23:33:18,933 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-28 23:33:19,008 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-28 23:33:19,014 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-28 23:33:19,037 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-28 23:33:19,765 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDCAD: buy=0, sell=0
2025-06-28 23:33:19,765 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDCAD: buy=0, sell=0
2025-06-28 23:33:20,257 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8927500000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.57000000000000000000000000, PnL USD=-1.147006823594733996697789272, Commission=0.10000000, Final PnL=-1.247006823594733996697789272
2025-06-28 23:33:20,263 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-28 23:33:20,597 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:33:20,597 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:33:23,954 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDCAD: buy=0, sell=0
2025-06-28 23:33:23,954 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDCAD: buy=0, sell=0
2025-06-28 23:33:23,954 - WARNING - app.services.portfolio_calculator - Invalid current prices for AUDCAD: buy=0, sell=0
2025-06-28 23:33:24,752 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:33:24,752 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:33:24,752 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:34:17,664 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-28 23:34:17,714 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-28 23:34:17,766 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-28 23:34:18,436 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5218400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-360.2600000000000000000000000, PnL USD=-450.5784503783378150209492840, Commission=0.10000000, Final PnL=-450.6784503783378150209492840
2025-06-28 23:34:18,441 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-28 23:34:18,468 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-28 23:34:18,484 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-28 23:34:18,521 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-28 23:34:19,205 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:34:19,206 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89275000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.36000000000000000000000000, PnL USD=-0.2630079340726778591154166484, Commission=0.10000000, Final PnL=-0.3630079340726778591154166484
2025-06-28 23:34:19,207 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:34:19,209 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-28 23:34:23,130 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:34:23,130 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:34:23,130 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:34:25,277 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:34:25,277 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:34:25,277 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:34:28,953 - INFO - app.api.v1.endpoints.users - Refresh token decoded. User ID from token payload: 10
2025-06-28 23:34:28,954 - WARNING - app.api.v1.endpoints.users - Refresh token validation failed for user ID 10. Data found: False, User ID match: False
2025-06-28 23:34:28,955 - ERROR - app.api.v1.endpoints.users - Unexpected error during refresh token process for token: eyJhbGciOiJIUzI1NiIs... : 401: Invalid or expired refresh token
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 310, in refresh_access_token
     raise HTTPException(
    ...<3 lines>...
    )
fastapi.exceptions.HTTPException: 401: Invalid or expired refresh token
2025-06-28 23:34:29,792 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:34:29,792 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:34:29,793 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:35:17,663 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-28 23:35:17,674 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-28 23:35:17,716 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-28 23:35:18,304 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5218400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-360.2600000000000000000000000, PnL USD=-450.5784503783378150209492840, Commission=0.10000000, Final PnL=-450.6784503783378150209492840
2025-06-28 23:35:18,311 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-28 23:35:18,335 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-28 23:35:18,340 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-28 23:35:18,376 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-28 23:35:18,932 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:35:18,934 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89275000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.36000000000000000000000000, PnL USD=-0.2630079340726778591154166484, Commission=0.10000000, Final PnL=-0.3630079340726778591154166484
2025-06-28 23:35:18,936 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:35:18,939 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-28 23:35:56,150 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:35:56,150 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:35:56,150 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:36:17,664 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-28 23:36:17,682 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-28 23:36:17,706 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-28 23:36:18,443 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5218400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-360.2600000000000000000000000, PnL USD=-450.5784503783378150209492840, Commission=0.10000000, Final PnL=-450.6784503783378150209492840
2025-06-28 23:36:18,447 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-28 23:36:18,465 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-28 23:36:18,473 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-28 23:36:18,501 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-28 23:36:19,061 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:36:19,064 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89275000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.36000000000000000000000000, PnL USD=-0.2630079340726778591154166484, Commission=0.10000000, Final PnL=-0.3630079340726778591154166484
2025-06-28 23:36:19,065 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:36:19,069 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-28 23:37:17,663 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-28 23:37:17,679 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-28 23:37:17,713 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-28 23:37:18,198 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5218400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-360.2600000000000000000000000, PnL USD=-450.5784503783378150209492840, Commission=0.10000000, Final PnL=-450.6784503783378150209492840
2025-06-28 23:37:18,204 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-28 23:37:18,225 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-28 23:37:18,228 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-28 23:37:18,266 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-28 23:37:18,839 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:37:18,840 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89275000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.36000000000000000000000000, PnL USD=-0.2630079340726778591154166484, Commission=0.10000000, Final PnL=-0.3630079340726778591154166484
2025-06-28 23:37:18,842 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:37:18,844 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-28 23:38:17,663 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-28 23:38:17,675 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-28 23:38:17,733 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-28 23:38:18,281 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5218400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-360.2600000000000000000000000, PnL USD=-450.5784503783378150209492840, Commission=0.10000000, Final PnL=-450.6784503783378150209492840
2025-06-28 23:38:18,285 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-28 23:38:18,301 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-28 23:38:18,314 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-28 23:38:18,342 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-28 23:38:18,954 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:38:18,954 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89275000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.36000000000000000000000000, PnL USD=-0.2630079340726778591154166484, Commission=0.10000000, Final PnL=-0.3630079340726778591154166484
2025-06-28 23:38:18,955 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:38:18,957 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-28 23:39:17,666 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-28 23:39:17,699 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-28 23:39:17,808 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-28 23:39:18,570 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5218400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-360.2600000000000000000000000, PnL USD=-450.5784503783378150209492840, Commission=0.10000000, Final PnL=-450.6784503783378150209492840
2025-06-28 23:39:18,574 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-28 23:39:18,599 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-28 23:39:18,605 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-28 23:39:18,644 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-28 23:39:19,275 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:39:19,276 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89275000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.36000000000000000000000000, PnL USD=-0.2630079340726778591154166484, Commission=0.10000000, Final PnL=-0.3630079340726778591154166484
2025-06-28 23:39:19,277 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:39:19,279 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-28 23:40:17,665 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-28 23:40:17,689 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-28 23:40:17,721 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-28 23:40:18,233 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5218400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-360.2600000000000000000000000, PnL USD=-450.5784503783378150209492840, Commission=0.10000000, Final PnL=-450.6784503783378150209492840
2025-06-28 23:40:18,238 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-28 23:40:18,257 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-28 23:40:18,265 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-28 23:40:18,292 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-28 23:40:18,861 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:40:18,861 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89275000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.36000000000000000000000000, PnL USD=-0.2630079340726778591154166484, Commission=0.10000000, Final PnL=-0.3630079340726778591154166484
2025-06-28 23:40:18,862 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:40:18,862 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-28 23:41:17,665 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-28 23:41:17,684 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-28 23:41:17,748 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-28 23:41:18,254 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5218400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-360.2600000000000000000000000, PnL USD=-450.5784503783378150209492840, Commission=0.10000000, Final PnL=-450.6784503783378150209492840
2025-06-28 23:41:18,337 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-28 23:41:18,376 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-28 23:41:18,384 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-28 23:41:18,421 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-28 23:41:18,987 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:41:18,991 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89275000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.36000000000000000000000000, PnL USD=-0.2630079340726778591154166484, Commission=0.10000000, Final PnL=-0.3630079340726778591154166484
2025-06-28 23:41:18,992 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:41:18,994 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-28 23:42:17,664 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-28 23:42:17,692 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-28 23:42:17,744 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-28 23:42:18,360 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5218400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-360.2600000000000000000000000, PnL USD=-450.5784503783378150209492840, Commission=0.10000000, Final PnL=-450.6784503783378150209492840
2025-06-28 23:42:18,364 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-28 23:42:18,395 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-28 23:42:18,418 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-28 23:42:18,454 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-28 23:42:18,997 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:42:18,998 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89275000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.36000000000000000000000000, PnL USD=-0.2630079340726778591154166484, Commission=0.10000000, Final PnL=-0.3630079340726778591154166484
2025-06-28 23:42:19,000 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:42:19,001 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-28 23:43:17,663 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-28 23:43:17,675 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-28 23:43:17,729 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-28 23:43:18,271 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5218400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-360.2600000000000000000000000, PnL USD=-450.5784503783378150209492840, Commission=0.10000000, Final PnL=-450.6784503783378150209492840
2025-06-28 23:43:18,276 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-28 23:43:18,294 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-28 23:43:18,300 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-28 23:43:18,336 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-28 23:43:18,883 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:43:18,884 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89275000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.36000000000000000000000000, PnL USD=-0.2630079340726778591154166484, Commission=0.10000000, Final PnL=-0.3630079340726778591154166484
2025-06-28 23:43:18,885 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:43:18,887 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-28 23:43:21,801 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:43:21,801 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:43:21,801 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:43:56,024 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:43:56,024 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:43:56,024 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol AUDCAD
2025-06-28 23:44:17,665 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-28 23:44:17,678 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-28 23:44:17,733 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-28 23:44:18,281 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5218400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-360.2600000000000000000000000, PnL USD=-450.5784503783378150209492840, Commission=0.10000000, Final PnL=-450.6784503783378150209492840
2025-06-28 23:44:18,313 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-28 23:44:18,386 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-28 23:44:18,395 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-28 23:44:18,427 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-28 23:44:18,993 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:44:18,994 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89275000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.36000000000000000000000000, PnL USD=-0.2630079340726778591154166484, Commission=0.10000000, Final PnL=-0.3630079340726778591154166484
2025-06-28 23:44:18,995 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:44:18,996 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-28 23:45:17,668 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-28 23:45:17,701 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-28 23:45:17,750 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-28 23:45:18,384 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5218400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-360.2600000000000000000000000, PnL USD=-450.5784503783378150209492840, Commission=0.10000000, Final PnL=-450.6784503783378150209492840
2025-06-28 23:45:18,389 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-28 23:45:18,434 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-28 23:45:18,444 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-28 23:45:18,494 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-28 23:45:19,102 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:45:19,102 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89275000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.36000000000000000000000000, PnL USD=-0.2630079340726778591154166484, Commission=0.10000000, Final PnL=-0.3630079340726778591154166484
2025-06-28 23:45:19,103 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:45:19,104 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-28 23:46:17,663 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-28 23:46:17,673 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-28 23:46:17,717 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-28 23:46:18,290 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5218400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-360.2600000000000000000000000, PnL USD=-450.5784503783378150209492840, Commission=0.10000000, Final PnL=-450.6784503783378150209492840
2025-06-28 23:46:18,295 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-28 23:46:18,325 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-28 23:46:18,333 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-28 23:46:18,371 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-28 23:46:18,985 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:46:18,986 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89275000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.36000000000000000000000000, PnL USD=-0.2630079340726778591154166484, Commission=0.10000000, Final PnL=-0.3630079340726778591154166484
2025-06-28 23:46:18,987 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:46:18,989 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-28 23:47:17,671 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-28 23:47:17,684 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-28 23:47:17,715 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-28 23:47:18,202 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5218400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-360.2600000000000000000000000, PnL USD=-450.5784503783378150209492840, Commission=0.10000000, Final PnL=-450.6784503783378150209492840
2025-06-28 23:47:18,234 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-28 23:47:18,258 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-28 23:47:18,263 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-28 23:47:18,299 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-28 23:47:18,822 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:47:18,830 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89275000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.36000000000000000000000000, PnL USD=-0.2630079340726778591154166484, Commission=0.10000000, Final PnL=-0.3630079340726778591154166484
2025-06-28 23:47:18,833 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:47:18,841 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-28 23:48:17,664 - DEBUG - app.main - Starting update_all_users_dynamic_portfolio job
2025-06-28 23:48:17,682 - DEBUG - app.main - Found 10 active users to update portfolios
2025-06-28 23:48:17,733 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 8.
2025-06-28 23:48:18,403 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCHF: Type=BUY, Entry=0.88210000, Current=0.5218400000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-360.2600000000000000000000000, PnL USD=-450.5784503783378150209492840, Commission=0.10000000, Final PnL=-450.6784503783378150209492840
2025-06-28 23:48:18,413 - WARNING - app.main - No group settings found for group default. Skipping portfolio update for user 10.
2025-06-28 23:48:18,441 - WARNING - app.main - User 2 has no group_name set. Skipping portfolio update.
2025-06-28 23:48:18,446 - WARNING - app.main - No group settings found for group string. Skipping portfolio update for user 3.
2025-06-28 23:48:18,489 - WARNING - app.main - User 5 has no group_name set. Skipping portfolio update.
2025-06-28 23:48:19,047 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:48:19,048 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=SELL, Entry=0.89275000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-0.36000000000000000000000000, PnL USD=-0.2630079340726778591154166484, Commission=0.10000000, Final PnL=-0.3630079340726778591154166484
2025-06-28 23:48:19,049 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89432000, Current=0.8931100000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-1.21000000000000000000000000, PnL USD=-0.8839988895220561375823726238, Commission=0.10000000, Final PnL=-0.9839988895220561375823726238
2025-06-28 23:48:19,050 - DEBUG - app.main - Finished update_all_users_dynamic_portfolio job
2025-06-28 23:48:45,967 - INFO - app.api.v1.endpoints.users - Refresh token decoded. User ID from token payload: 10
2025-06-28 23:48:45,970 - WARNING - app.api.v1.endpoints.users - Refresh token validation failed for user ID 10. Data found: False, User ID match: False
2025-06-28 23:48:45,971 - ERROR - app.api.v1.endpoints.users - Unexpected error during refresh token process for token: eyJhbGciOiJIUzI1NiIs... : 401: Invalid or expired refresh token
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 310, in refresh_access_token
     raise HTTPException(
    ...<3 lines>...
    )
fastapi.exceptions.HTTPException: 401: Invalid or expired refresh token
2025-06-28 23:48:52,581 - INFO - app.main - Application shutdown event triggered.
2025-06-28 23:48:52,582 - INFO - app.main - APScheduler shut down gracefully.
2025-06-28 23:48:52,582 - INFO - app.main - Cancelling 5 other background tasks...
2025-06-28 23:48:52,583 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-06-28 23:48:55,546 - INFO - app.firebase_stream - Firebase listener closed.
2025-06-28 23:48:55,546 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-06-28 23:48:55,547 - INFO - app.main - Background task 'Task-3' cancelled successfully.
2025-06-28 23:48:55,551 - INFO - app.main - Background task 'Task-5' cancelled successfully.
2025-06-28 23:48:55,554 - INFO - app.main - Background task 'Task-6' cancelled successfully.
2025-06-28 23:48:55,555 - INFO - app.main - Background task 'Task-7' cancelled successfully.
2025-06-28 23:48:55,556 - INFO - app.main - Redis client connection closed.
2025-06-28 23:48:55,556 - INFO - app.main - Application shutdown event finished.

2025-06-28 04:34:37,941 - INFO - orders - Application starting up - Orders logging initialized
2025-06-28 04:34:37,941 - INFO - orders - SL/TP Epsilon accuracy configured: 0.00001
2025-06-28 04:35:39,421 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=9, user_type=live, group_name=Group B, free_margin=7987.831549621662184979050716, margin_level=123179.0685611966438363490095, balance=8445.00000000, equity=7994.321549621662184979050716
2025-06-28 04:36:39,320 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=9, user_type=live, group_name=Group B, free_margin=7987.831549621662184979050716, margin_level=123179.0685611966438363490095, balance=8445.00000000, equity=7994.321549621662184979050716
2025-06-28 04:37:40,819 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=9, user_type=live, group_name=Group B, free_margin=7987.831549621662184979050716, margin_level=123179.0685611966438363490095, balance=8445.00000000, equity=7994.321549621662184979050716
2025-06-28 04:37:49,509 - app.api.v1.endpoints.orders - INFO - [get_rejected_orders] user_type: demo
2025-06-28 04:38:14,606 - app.api.v1.endpoints.orders - INFO - [get_closed_orders] user_type: demo
2025-06-28 04:38:39,470 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=9, user_type=live, group_name=Group B, free_margin=7987.831549621662184979050716, margin_level=123179.0685611966438363490095, balance=8445.00000000, equity=7994.321549621662184979050716
2025-06-28 04:39:19,636 - app.api.v1.endpoints.orders - INFO - [get_rejected_orders] user_type: demo
2025-06-28 04:39:20,791 - app.api.v1.endpoints.orders - INFO - [get_closed_orders] user_type: demo
2025-06-28 04:39:39,944 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=9, user_type=live, group_name=Group B, free_margin=7987.831549621662184979050716, margin_level=123179.0685611966438363490095, balance=8445.00000000, equity=7994.321549621662184979050716
2025-06-28 23:31:17,491 - INFO - orders - Application starting up - Orders logging initialized
2025-06-28 23:31:17,491 - INFO - orders - SL/TP Epsilon accuracy configured: 0.00001
2025-06-28 23:31:53,464 - app.api.v1.endpoints.orders - INFO - [get_rejected_orders] user_type: demo
2025-06-28 23:31:59,942 - INFO - orders - Order placement request received - User ID: 10, Symbol: AUDCAD, Type: BUY, Quantity: 0.01
2025-06-28 23:31:59,983 - INFO - orders - [DEBUG] db_group_result fetched from DB: [<app.database.models.Group object at 0x00000208BD8D2030>, <app.database.models.Group object at 0x00000208BD8D2360>, <app.database.models.Group object at 0x00000208BD8D2BE0>, <app.database.models.Group object at 0x00000208BD8D1BF0>, <app.database.models.Group object at 0x00000208BD8D39B0>, <app.database.models.Group object at 0x00000208BD8D38A0>, <app.database.models.Group object at 0x00000208BD8D3AC0>, <app.database.models.Group object at 0x00000208BD8D3BD0>, <app.database.models.Group object at 0x00000208BD8D3CE0>, <app.database.models.Group object at 0x00000208BD8D3DF0>, <app.database.models.Group object at 0x00000208BD8D3F00>, <app.database.models.Group object at 0x00000208BD8D05A0>, <app.database.models.Group object at 0x00000208BD8D0F30>, <app.database.models.Group object at 0x00000208BD8D07C0>, <app.database.models.Group object at 0x00000208BD8D0380>, <app.database.models.Group object at 0x00000208BD8D19D0>, <app.database.models.Group object at 0x00000208BD8D2E00>, <app.database.models.Group object at 0x00000208BD8D2F10>, <app.database.models.Group object at 0x00000208BD8D3020>, <app.database.models.Group object at 0x00000208BD8D3790>, <app.database.models.Group object at 0x00000208BD8D1F20>, <app.database.models.Group object at 0x00000208BDAD9D00>, <app.database.models.Group object at 0x00000208BDAD9480>, <app.database.models.Group object at 0x00000208BDAD9F20>, <app.database.models.Group object at 0x00000208BDADA030>, <app.database.models.Group object at 0x00000208BDADA140>, <app.database.models.Group object at 0x00000208BDADA250>, <app.database.models.Group object at 0x00000208BDADA360>, <app.database.models.Group object at 0x00000208BDADA470>, <app.database.models.Group object at 0x00000208BDADA580>, <app.database.models.Group object at 0x00000208BDADA690>, <app.database.models.Group object at 0x00000208BDADA7A0>, <app.database.models.Group object at 0x00000208BDADA8B0>, <app.database.models.Group object at 0x00000208BDADA9C0>, <app.database.models.Group object at 0x00000208BDADAAD0>, <app.database.models.Group object at 0x00000208BDADABE0>, <app.database.models.Group object at 0x00000208BDADACF0>, <app.database.models.Group object at 0x00000208BDADAE00>, <app.database.models.Group object at 0x00000208BDADAF10>, <app.database.models.Group object at 0x00000208BDADB020>, <app.database.models.Group object at 0x00000208BDADB130>, <app.database.models.Group object at 0x00000208BDADB240>, <app.database.models.Group object at 0x00000208BDADB350>, <app.database.models.Group object at 0x00000208BDADB460>, <app.database.models.Group object at 0x00000208BDADB570>, <app.database.models.Group object at 0x00000208BDADB680>, <app.database.models.Group object at 0x00000208BDADB790>, <app.database.models.Group object at 0x00000208BDADB8A0>, <app.database.models.Group object at 0x00000208BDADB9B0>, <app.database.models.Group object at 0x00000208BDADBAC0>, <app.database.models.Group object at 0x00000208BDADBBD0>, <app.database.models.Group object at 0x00000208BDADBCE0>, <app.database.models.Group object at 0x00000208BDADBDF0>, <app.database.models.Group object at 0x00000208BDADBF00>, <app.database.models.Group object at 0x00000208BDAD9260>, <app.database.models.Group object at 0x00000208BDAD99D0>, <app.database.models.Group object at 0x00000208BDAD8E20>, <app.database.models.Group object at 0x00000208BDAD9BF0>, <app.database.models.Group object at 0x00000208BDAD8D10>, <app.database.models.Group object at 0x00000208BDAD9370>, <app.database.models.Group object at 0x00000208BDAD89E0>, <app.database.models.Group object at 0x00000208BDAD8AF0>, <app.database.models.Group object at 0x00000208BDAD8C00>, <app.database.models.Group object at 0x00000208BDA7C7C0>, <app.database.models.Group object at 0x00000208BDA7C6B0>, <app.database.models.Group object at 0x00000208BDA7C8D0>, <app.database.models.Group object at 0x00000208BDA7EF10>, <app.database.models.Group object at 0x00000208BDA7C490>, <app.database.models.Group object at 0x00000208BDA7CAF0>, <app.database.models.Group object at 0x00000208BDA7CC00>, <app.database.models.Group object at 0x00000208BDA7CD10>, <app.database.models.Group object at 0x00000208BDA7CE20>, <app.database.models.Group object at 0x00000208BDA7CF30>, <app.database.models.Group object at 0x00000208BDA7D040>, <app.database.models.Group object at 0x00000208BDA7D150>, <app.database.models.Group object at 0x00000208BDA7D260>, <app.database.models.Group object at 0x00000208BDA7D370>, <app.database.models.Group object at 0x00000208BDA7D480>, <app.database.models.Group object at 0x00000208BDA7D590>]
2025-06-28 23:31:59,984 - INFO - orders - [DEBUG] Number of group records found: 79
2025-06-28 23:31:59,984 - INFO - orders - [DEBUG] sending_orders_cache extracted from DB: barclays
2025-06-28 23:31:59,984 - INFO - orders - [DEBUG] group_settings_cache: None
2025-06-28 23:31:59,984 - INFO - orders - [DEBUG] sending_orders_cache value: barclays (type: <class 'str'>)
2025-06-28 23:31:59,987 - INFO - orders - Order placement: user_id=10, is_barclays_live_user=False, user_type=demo, group_name=Group B, sending_orders_setting=barclays
2025-06-28 23:32:00,435 - INFO - orders - [ORDER_MARGIN_CALC] Calculating margin for AUDCAD BUY order, quantity: 0.01
2025-06-28 23:32:00,436 - INFO - orders - [ORDER_MARGIN_CALC] Contract size for AUDCAD: 100000.00000000 (raw: 100000.00000000, type: <class 'decimal.Decimal'>)
2025-06-28 23:32:00,438 - INFO - orders - [ORDER_MARGIN_CALC] Got BUY price for AUDCAD from cache: 0.8943200000
2025-06-28 23:32:00,438 - INFO - orders - [ORDER_MARGIN_CALC] Contract value calculation for AUDCAD:
2025-06-28 23:32:00,438 - INFO - orders - [ORDER_MARGIN_CALC] Contract value = quantity * contract_size = 0.01 * 100000.00000000 = 1000.0000000000
2025-06-28 23:32:00,438 - INFO - orders - [ORDER_MARGIN_CALC] Margin calculation: (contract_value * price) / leverage = (1000.0000000000 * 0.8943200000) / 100.00 = 8.943200000000000000 (rounded to 8.94)
2025-06-28 23:32:00,438 - INFO - orders - [ORDER_MARGIN_CALC] Commission settings for AUDCAD: type=0, value_type=0, rate=10.0000
2025-06-28 23:32:00,439 - INFO - orders - [ORDER_MARGIN_CALC] Per lot commission: 0.01 * 10.0000 = 0.100000
2025-06-28 23:32:00,439 - INFO - orders - [ORDER_MARGIN_CALC] Profit currency for AUDCAD: CAD
2025-06-28 23:32:00,439 - INFO - orders - [ORDER_MARGIN_CALC] Converting margin from CAD to USD: 8.94 CAD
2025-06-28 23:32:00,439 - INFO - orders - [CURRENCY_CONVERT] Starting conversion of 8.94 CAD to USD for margin for AUDCAD BUY order (user_id: 10, position: )
2025-06-28 23:32:00,439 - INFO - orders - [CURRENCY_CONVERT] Trying direct conversion with symbol: CADUSD
2025-06-28 23:32:00,444 - INFO - orders - [CURRENCY_CONVERT] Direct conversion prices from cache: None
2025-06-28 23:32:00,444 - INFO - orders - [CURRENCY_CONVERT] No direct conversion rate found for CADUSD, trying inverse
2025-06-28 23:32:00,445 - INFO - orders - [CURRENCY_CONVERT] Trying inverse conversion with symbol: USDCAD
2025-06-28 23:32:00,445 - INFO - orders - [CURRENCY_CONVERT] Inverse conversion prices from cache: {'b': Decimal('1.3655100000'), 'o': Decimal('1.3654900000')}
2025-06-28 23:32:00,446 - INFO - orders - [CURRENCY_CONVERT] Found inverse conversion rate (bid): 1.3655100000
2025-06-28 23:32:00,446 - INFO - orders - [CURRENCY_CONVERT] Inverse conversion successful: 8.94 CAD / 1.3655100000 = 6.547004415932508733000856823 USD
2025-06-28 23:32:00,446 - INFO - orders - [ORDER_MARGIN_CALC] Margin after USD conversion: 8.94 CAD -> 6.547004415932508733000856823 USD
2025-06-28 23:32:00,446 - INFO - orders - [ORDER_MARGIN_CALC] Final results for AUDCAD BUY: margin=6.547004415932508733000856823, price=0.8943200000, contract_value=1000.0000000000, commission=0.10
2025-06-28 23:32:00,446 - app.services.order_processing - INFO - [COMMISSION_CALC] User 10 Symbol AUDCAD: Calculated commission=0.10
2025-06-28 23:32:00,467 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_ENTRY] User 10, Symbol AUDCAD, Positions count: 0
2025-06-28 23:32:00,467 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB] No open positions for User 10, Symbol AUDCAD. Returning zero margin.
2025-06-28 23:32:00,468 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_ENTRY] User 10, Symbol AUDCAD, Positions count: 1
2025-06-28 23:32:00,468 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_POS_DETAIL] User 10, Symbol AUDCAD, Pos 1 (ID: None): Type=BUY, Qty=0.01, StoredMargin=6.547004415932508733000856823
2025-06-28 23:32:00,468 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_POS_DETAIL] User 10, Symbol AUDCAD, Pos 1: MarginPerLot=654.7004415932508733000856823
2025-06-28 23:32:00,468 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_CALC] User 10, Symbol AUDCAD: TotalBuyQty=0.01, TotalSellQty=0, NetQty=0.01
2025-06-28 23:32:00,469 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_CALC] User 10, Symbol AUDCAD: AllMarginsPerLot=[Decimal('654.7004415932508733000856823')], HighestMarginPerLot=654.7004415932508733000856823
2025-06-28 23:32:00,469 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_EXIT] User 10, Symbol AUDCAD: CalculatedTotalMargin=6.55, ContributingOrders=1 (based on individual stored margins)
2025-06-28 23:32:00,469 - app.services.order_processing - INFO - [MARGIN_PROCESS] User 10 Symbol AUDCAD: MarginBefore=0.00, MarginAfter=6.55, AdditionalMargin=6.55
2025-06-28 23:32:00,470 - app.services.order_processing - INFO - [MARGIN_PROCESS_DEBUG] User 10 Symbol AUDCAD
2025-06-28 23:32:00,470 - app.services.order_processing - INFO - [MARGIN_PROCESS_DEBUG] Full margin for this order: 6.547004415932508733000856823
2025-06-28 23:32:00,470 - app.services.order_processing - INFO - [MARGIN_PROCESS_DEBUG] Existing open orders count: 0
2025-06-28 23:32:00,471 - app.services.order_processing - INFO - [MARGIN_PROCESS_DEBUG] Total margin before: 0.0
2025-06-28 23:32:00,471 - app.services.order_processing - INFO - [MARGIN_PROCESS_DEBUG] Total margin after: 6.55
2025-06-28 23:32:00,471 - app.services.order_processing - INFO - [MARGIN_PROCESS_DEBUG] Additional margin needed: 6.55
2025-06-28 23:32:00,503 - app.services.order_processing - INFO - [MARGIN_PROCESS] User 10: OriginalMarginDB=0E-8, CalculatedNewMargin=6.55
2025-06-28 23:32:00,613 - INFO - orders - [PRE-CRUD] About to call create_order with: {'order_id': '5363180045', 'order_status': 'OPEN', 'order_user_id': 10, 'order_company_name': 'AUDCAD', 'order_type': 'BUY', 'order_price': Decimal('0.8943200000'), 'order_quantity': Decimal('0.01'), 'contract_value': Decimal('1000.0000000000'), 'margin': Decimal('6.547004415932508733000856823'), 'commission': Decimal('0.10'), 'stop_loss': None, 'take_profit': None, 'stoploss_id': None, 'takeprofit_id': None, 'status': 'OPEN'}
2025-06-28 23:32:00,762 - INFO - orders - [MARGIN_COMMIT_CHECK] User 10 margin in session BEFORE commit: 6.55000000
2025-06-28 23:32:00,847 - INFO - orders - User data cache updated for user 10 after placing order
2025-06-28 23:32:01,794 - INFO - orders - Portfolio cache updated and websocket event published for user 10 after placing order.
2025-06-28 23:32:01,834 - INFO - orders - Starting update_user_static_orders for user 10, user_type demo
2025-06-28 23:32:01,834 - INFO - orders - Using order model: DemoUserOrder
2025-06-28 23:32:01,898 - INFO - orders - Fetched 1 open orders for user 10
2025-06-28 23:32:01,989 - INFO - orders - Fetched 0 pending orders for user 10
2025-06-28 23:32:02,004 - INFO - orders - Updated static orders cache for user 10 with 1 open orders and 0 pending orders
2025-06-28 23:32:18,120 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=9, user_type=live, group_name=Group B, free_margin=7986.893521981114376836970796, margin_level=123164.6151306797284566559445, balance=8445.00000000, equity=7993.383521981114376836970796
2025-06-28 23:32:18,661 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=10, user_type=demo, group_name=Group B, free_margin=75.69299317640526600330221073, margin_level=1255.618216433668183256522301, balance=83.49000000, equity=82.24299317640526600330221073
2025-06-28 23:32:54,309 - app.api.v1.endpoints.orders - INFO - [get_rejected_orders] user_type: demo
2025-06-28 23:33:09,287 - INFO - orders - Order close request received - Order ID: 5363180045, User ID: 10, Close Price: 0.89275
2025-06-28 23:33:09,287 - INFO - orders - user_to_operate_on: <app.database.models.DemoUser object at 0x00000208BDA52650>, type: <class 'app.database.models.DemoUser'>, attrs: ['__abstract__', '__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__firstlineno__', '__format__', '__ge__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__mapper__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__static_attributes__', '__str__', '__subclasshook__', '__table__', '__table_args__', '__tablename__', '__weakref__', '_sa_class_manager', '_sa_instance_state', '_sa_registry', 'account_number', 'city', 'country', 'created_at', 'demo_user_favorites', 'email', 'group_name', 'hashed_password', 'id', 'isActive', 'is_service_account', 'leverage', 'margin', 'metadata', 'name', 'net_profit', 'orders', 'otps', 'phone_number', 'pincode', 'referred_by_id', 'reffered_code', 'registry', 'security_answer', 'security_question', 'state', 'status', 'updated_at', 'user_type', 'wallet_balance', 'wallet_transactions']
2025-06-28 23:33:09,287 - INFO - orders - Using order model: demo_user_orders for user 10 (DemoUser)
2025-06-28 23:33:09,287 - INFO - orders - Request to close order 5363180045 for user 10 (DemoUser) with price 0.89275. Frontend provided type: BUY, company: AUDCAD, status: CLOSED, frontend_status: CLOSED.
2025-06-28 23:33:09,351 - INFO - orders - Demo user 10 from group 'default' ('sending_orders' is NOT 'barclays'). Processing close locally.
2025-06-28 23:33:09,508 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_ENTRY] User 10, Symbol AUDCAD, Positions count: 1
2025-06-28 23:33:09,508 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_POS_DETAIL] User 10, Symbol AUDCAD, Pos 1 (ID: 395): Type=BUY, Qty=0.01000000, StoredMargin=6.54700442
2025-06-28 23:33:09,508 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_POS_DETAIL] User 10, Symbol AUDCAD, Pos 1: MarginPerLot=654.700442
2025-06-28 23:33:09,509 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_CALC] User 10, Symbol AUDCAD: TotalBuyQty=0.01000000, TotalSellQty=0, NetQty=0.01000000
2025-06-28 23:33:09,509 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_CALC] User 10, Symbol AUDCAD: AllMarginsPerLot=[Decimal('654.700442')], HighestMarginPerLot=654.700442
2025-06-28 23:33:09,509 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_EXIT] User 10, Symbol AUDCAD: CalculatedTotalMargin=6.55, ContributingOrders=1 (based on individual stored margins)
2025-06-28 23:33:09,509 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_ENTRY] User 10, Symbol AUDCAD, Positions count: 0
2025-06-28 23:33:09,509 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB] No open positions for User 10, Symbol AUDCAD. Returning zero margin.
2025-06-28 23:33:09,520 - INFO - orders - Existing entry commission for order 5363180045: 0.10000000
2025-06-28 23:33:09,520 - INFO - orders - Commission calculation for order 5363180045: entry=0.10000000, exit=0.100000000000, total=0.20
2025-06-28 23:33:09,520 - INFO - orders - [CURRENCY_CONVERT] Starting conversion of -1.570000000000000000000000 CAD to USD for PnL on Close (user_id: 10, position: 5363180045)
2025-06-28 23:33:09,520 - INFO - orders - [CURRENCY_CONVERT] Trying direct conversion with symbol: CADUSD
2025-06-28 23:33:09,521 - INFO - orders - [CURRENCY_CONVERT] Direct conversion prices from cache: None
2025-06-28 23:33:09,521 - INFO - orders - [CURRENCY_CONVERT] No direct conversion rate found for CADUSD, trying inverse
2025-06-28 23:33:09,521 - INFO - orders - [CURRENCY_CONVERT] Trying inverse conversion with symbol: USDCAD
2025-06-28 23:33:09,524 - INFO - orders - [CURRENCY_CONVERT] Inverse conversion prices from cache: {'b': Decimal('1.3655100000'), 'o': Decimal('1.3654900000')}
2025-06-28 23:33:09,525 - INFO - orders - [CURRENCY_CONVERT] Found inverse conversion rate (bid): 1.3655100000
2025-06-28 23:33:09,525 - INFO - orders - [CURRENCY_CONVERT] Inverse conversion successful: -1.570000000000000000000000 CAD / 1.3655100000 = -1.149753571925507685773081120 USD
2025-06-28 23:33:09,694 - INFO - orders - AFTER COMMIT: User 10 wallet_balance=82.14000000, margin=0
2025-06-28 23:33:09,695 - INFO - orders - Setting user data cache for user 10 with wallet_balance=82.14000000, margin=0
2025-06-28 23:33:09,701 - INFO - orders - User data cache updated for user 10
2025-06-28 23:33:09,701 - INFO - orders - Starting update_user_static_orders for user 10, user_type demo
2025-06-28 23:33:09,701 - INFO - orders - Using order model: DemoUserOrder
2025-06-28 23:33:09,713 - INFO - orders - Fetched 0 open orders for user 10
2025-06-28 23:33:09,727 - INFO - orders - Fetched 0 pending orders for user 10
2025-06-28 23:33:09,733 - INFO - orders - Updated static orders cache for user 10 with 0 open orders and 0 pending orders
2025-06-28 23:33:09,734 - INFO - orders - Publishing order update for user 10
2025-06-28 23:33:09,738 - INFO - orders - Publishing user data update for user 10
2025-06-28 23:33:09,779 - INFO - orders - Publishing market data trigger
2025-06-28 23:33:13,472 - INFO - orders - Order placement request received - User ID: 10, Symbol: AUDCAD, Type: BUY, Quantity: 0.01
2025-06-28 23:33:13,494 - INFO - orders - [DEBUG] db_group_result fetched from DB: [<app.database.models.Group object at 0x00000208BDADA690>, <app.database.models.Group object at 0x00000208BDAD8490>, <app.database.models.Group object at 0x00000208BDAD8380>, <app.database.models.Group object at 0x00000208BDADA580>, <app.database.models.Group object at 0x00000208BDADA250>, <app.database.models.Group object at 0x00000208BDAD8160>, <app.database.models.Group object at 0x00000208BDADA470>, <app.database.models.Group object at 0x00000208BDADA030>, <app.database.models.Group object at 0x00000208BDADAAD0>, <app.database.models.Group object at 0x00000208BDADB240>, <app.database.models.Group object at 0x00000208BDADB350>, <app.database.models.Group object at 0x00000208BDADB460>, <app.database.models.Group object at 0x00000208BDADB570>, <app.database.models.Group object at 0x00000208BDADB680>, <app.database.models.Group object at 0x00000208BDADB790>, <app.database.models.Group object at 0x00000208BDADB8A0>, <app.database.models.Group object at 0x00000208BDADB9B0>, <app.database.models.Group object at 0x00000208BDADBAC0>, <app.database.models.Group object at 0x00000208BDADBBD0>, <app.database.models.Group object at 0x00000208BDADBCE0>, <app.database.models.Group object at 0x00000208BDADBDF0>, <app.database.models.Group object at 0x00000208BDADBF00>, <app.database.models.Group object at 0x00000208BDAD9260>, <app.database.models.Group object at 0x00000208BDAD99D0>, <app.database.models.Group object at 0x00000208BDAD8E20>, <app.database.models.Group object at 0x00000208BDAD9BF0>, <app.database.models.Group object at 0x00000208BDAD8D10>, <app.database.models.Group object at 0x00000208BDAD9370>, <app.database.models.Group object at 0x00000208BDAD89E0>, <app.database.models.Group object at 0x00000208BDAD8AF0>, <app.database.models.Group object at 0x00000208BDAD8C00>, <app.database.models.Group object at 0x00000208BDADA7A0>, <app.database.models.Group object at 0x00000208BDADB020>, <app.database.models.Group object at 0x00000208BDAD9480>, <app.database.models.Group object at 0x00000208BDADA9C0>, <app.database.models.Group object at 0x00000208BDAD87C0>, <app.database.models.Group object at 0x00000208BD8D3020>, <app.database.models.Group object at 0x00000208BD8D06B0>, <app.database.models.Group object at 0x00000208BD8D2140>, <app.database.models.Group object at 0x00000208BD8D29C0>, <app.database.models.Group object at 0x00000208BD8D3570>, <app.database.models.Group object at 0x00000208BD8D27A0>, <app.database.models.Group object at 0x00000208BD8D2E00>, <app.database.models.Group object at 0x00000208BD8D1F20>, <app.database.models.Group object at 0x00000208BD8D28B0>, <app.database.models.Group object at 0x00000208BD8D2580>, <app.database.models.Group object at 0x00000208BD8D2690>, <app.database.models.Group object at 0x00000208BD8D3680>, <app.database.models.Group object at 0x00000208BD8D3130>, <app.database.models.Group object at 0x00000208BD8D2030>, <app.database.models.Group object at 0x00000208BD8D2360>, <app.database.models.Group object at 0x00000208BD8D2BE0>, <app.database.models.Group object at 0x00000208BD8D1BF0>, <app.database.models.Group object at 0x00000208BD8D39B0>, <app.database.models.Group object at 0x00000208BD8D38A0>, <app.database.models.Group object at 0x00000208BD8D3AC0>, <app.database.models.Group object at 0x00000208BD8D3BD0>, <app.database.models.Group object at 0x00000208BD8D3CE0>, <app.database.models.Group object at 0x00000208BD8D3DF0>, <app.database.models.Group object at 0x00000208BD8D3F00>, <app.database.models.Group object at 0x00000208BD8D05A0>, <app.database.models.Group object at 0x00000208BD8D0F30>, <app.database.models.Group object at 0x00000208BD8D07C0>, <app.database.models.Group object at 0x00000208BD8D0380>, <app.database.models.Group object at 0x00000208BD8D19D0>, <app.database.models.Group object at 0x00000208BD8D2F10>, <app.database.models.Group object at 0x00000208BD8D3790>, <app.database.models.Group object at 0x00000208BD8D2AD0>, <app.database.models.Group object at 0x00000208BDA7D590>, <app.database.models.Group object at 0x00000208BDA7D370>, <app.database.models.Group object at 0x00000208BDA7F8A0>, <app.database.models.Group object at 0x00000208BDA7D150>, <app.database.models.Group object at 0x00000208BDA7CAF0>, <app.database.models.Group object at 0x00000208BDA7D260>, <app.database.models.Group object at 0x00000208BDA7F570>, <app.database.models.Group object at 0x00000208BDA7FCE0>, <app.database.models.Group object at 0x00000208BDA7E690>, <app.database.models.Group object at 0x00000208BDCEF9B0>, <app.database.models.Group object at 0x00000208BDCED370>]
2025-06-28 23:33:13,494 - INFO - orders - [DEBUG] Number of group records found: 79
2025-06-28 23:33:13,494 - INFO - orders - [DEBUG] sending_orders_cache extracted from DB: barclays
2025-06-28 23:33:13,495 - INFO - orders - [DEBUG] group_settings_cache: None
2025-06-28 23:33:13,495 - INFO - orders - [DEBUG] sending_orders_cache value: barclays (type: <class 'str'>)
2025-06-28 23:33:13,495 - INFO - orders - Order placement: user_id=10, is_barclays_live_user=False, user_type=demo, group_name=Group B, sending_orders_setting=barclays
2025-06-28 23:33:13,971 - INFO - orders - [ORDER_MARGIN_CALC] Calculating margin for AUDCAD BUY order, quantity: 0.01
2025-06-28 23:33:13,972 - INFO - orders - [ORDER_MARGIN_CALC] Contract size for AUDCAD: 100000.00000000 (raw: 100000.00000000, type: <class 'decimal.Decimal'>)
2025-06-28 23:33:13,974 - INFO - orders - [ORDER_MARGIN_CALC] Got BUY price for AUDCAD from cache: 0.8943200000
2025-06-28 23:33:13,974 - INFO - orders - [ORDER_MARGIN_CALC] Contract value calculation for AUDCAD:
2025-06-28 23:33:13,974 - INFO - orders - [ORDER_MARGIN_CALC] Contract value = quantity * contract_size = 0.01 * 100000.00000000 = 1000.0000000000
2025-06-28 23:33:13,974 - INFO - orders - [ORDER_MARGIN_CALC] Margin calculation: (contract_value * price) / leverage = (1000.0000000000 * 0.8943200000) / 100.00 = 8.943200000000000000 (rounded to 8.94)
2025-06-28 23:33:13,974 - INFO - orders - [ORDER_MARGIN_CALC] Commission settings for AUDCAD: type=0, value_type=0, rate=10.0000
2025-06-28 23:33:13,975 - INFO - orders - [ORDER_MARGIN_CALC] Per lot commission: 0.01 * 10.0000 = 0.100000
2025-06-28 23:33:13,975 - INFO - orders - [ORDER_MARGIN_CALC] Profit currency for AUDCAD: CAD
2025-06-28 23:33:13,975 - INFO - orders - [ORDER_MARGIN_CALC] Converting margin from CAD to USD: 8.94 CAD
2025-06-28 23:33:13,975 - INFO - orders - [CURRENCY_CONVERT] Starting conversion of 8.94 CAD to USD for margin for AUDCAD BUY order (user_id: 10, position: )
2025-06-28 23:33:13,975 - INFO - orders - [CURRENCY_CONVERT] Trying direct conversion with symbol: CADUSD
2025-06-28 23:33:13,977 - INFO - orders - [CURRENCY_CONVERT] Direct conversion prices from cache: None
2025-06-28 23:33:13,978 - INFO - orders - [CURRENCY_CONVERT] No direct conversion rate found for CADUSD, trying inverse
2025-06-28 23:33:13,978 - INFO - orders - [CURRENCY_CONVERT] Trying inverse conversion with symbol: USDCAD
2025-06-28 23:33:13,979 - INFO - orders - [CURRENCY_CONVERT] Inverse conversion prices from cache: {'b': Decimal('1.3655100000'), 'o': Decimal('1.3654900000')}
2025-06-28 23:33:13,979 - INFO - orders - [CURRENCY_CONVERT] Found inverse conversion rate (bid): 1.3655100000
2025-06-28 23:33:13,979 - INFO - orders - [CURRENCY_CONVERT] Inverse conversion successful: 8.94 CAD / 1.3655100000 = 6.547004415932508733000856823 USD
2025-06-28 23:33:13,980 - INFO - orders - [ORDER_MARGIN_CALC] Margin after USD conversion: 8.94 CAD -> 6.547004415932508733000856823 USD
2025-06-28 23:33:13,980 - INFO - orders - [ORDER_MARGIN_CALC] Final results for AUDCAD BUY: margin=6.547004415932508733000856823, price=0.8943200000, contract_value=1000.0000000000, commission=0.10
2025-06-28 23:33:13,980 - app.services.order_processing - INFO - [COMMISSION_CALC] User 10 Symbol AUDCAD: Calculated commission=0.10
2025-06-28 23:33:13,994 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_ENTRY] User 10, Symbol AUDCAD, Positions count: 0
2025-06-28 23:33:13,994 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB] No open positions for User 10, Symbol AUDCAD. Returning zero margin.
2025-06-28 23:33:13,994 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_ENTRY] User 10, Symbol AUDCAD, Positions count: 1
2025-06-28 23:33:13,995 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_POS_DETAIL] User 10, Symbol AUDCAD, Pos 1 (ID: None): Type=BUY, Qty=0.01, StoredMargin=6.547004415932508733000856823
2025-06-28 23:33:13,995 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_POS_DETAIL] User 10, Symbol AUDCAD, Pos 1: MarginPerLot=654.7004415932508733000856823
2025-06-28 23:33:13,996 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_CALC] User 10, Symbol AUDCAD: TotalBuyQty=0.01, TotalSellQty=0, NetQty=0.01
2025-06-28 23:33:13,996 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_CALC] User 10, Symbol AUDCAD: AllMarginsPerLot=[Decimal('654.7004415932508733000856823')], HighestMarginPerLot=654.7004415932508733000856823
2025-06-28 23:33:14,000 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_EXIT] User 10, Symbol AUDCAD: CalculatedTotalMargin=6.55, ContributingOrders=1 (based on individual stored margins)
2025-06-28 23:33:14,004 - app.services.order_processing - INFO - [MARGIN_PROCESS] User 10 Symbol AUDCAD: MarginBefore=0.00, MarginAfter=6.55, AdditionalMargin=6.55
2025-06-28 23:33:14,004 - app.services.order_processing - INFO - [MARGIN_PROCESS_DEBUG] User 10 Symbol AUDCAD
2025-06-28 23:33:14,005 - app.services.order_processing - INFO - [MARGIN_PROCESS_DEBUG] Full margin for this order: 6.547004415932508733000856823
2025-06-28 23:33:14,006 - app.services.order_processing - INFO - [MARGIN_PROCESS_DEBUG] Existing open orders count: 0
2025-06-28 23:33:14,008 - app.services.order_processing - INFO - [MARGIN_PROCESS_DEBUG] Total margin before: 0.0
2025-06-28 23:33:14,011 - app.services.order_processing - INFO - [MARGIN_PROCESS_DEBUG] Total margin after: 6.55
2025-06-28 23:33:14,013 - app.services.order_processing - INFO - [MARGIN_PROCESS_DEBUG] Additional margin needed: 6.55
2025-06-28 23:33:14,030 - app.services.order_processing - INFO - [MARGIN_PROCESS] User 10: OriginalMarginDB=0E-8, CalculatedNewMargin=6.55
2025-06-28 23:33:14,129 - INFO - orders - [PRE-CRUD] About to call create_order with: {'order_id': '8909351175', 'order_status': 'OPEN', 'order_user_id': 10, 'order_company_name': 'AUDCAD', 'order_type': 'BUY', 'order_price': Decimal('0.8943200000'), 'order_quantity': Decimal('0.01'), 'contract_value': Decimal('1000.0000000000'), 'margin': Decimal('6.547004415932508733000856823'), 'commission': Decimal('0.10'), 'stop_loss': None, 'take_profit': None, 'stoploss_id': None, 'takeprofit_id': None, 'status': 'OPEN'}
2025-06-28 23:33:14,187 - INFO - orders - [MARGIN_COMMIT_CHECK] User 10 margin in session BEFORE commit: 6.55000000
2025-06-28 23:33:14,386 - INFO - orders - User data cache updated for user 10 after placing order
2025-06-28 23:33:15,105 - INFO - orders - Portfolio cache updated and websocket event published for user 10 after placing order.
2025-06-28 23:33:15,115 - INFO - orders - Starting update_user_static_orders for user 10, user_type demo
2025-06-28 23:33:15,115 - INFO - orders - Using order model: DemoUserOrder
2025-06-28 23:33:15,156 - INFO - orders - Fetched 1 open orders for user 10
2025-06-28 23:33:15,198 - INFO - orders - Fetched 0 pending orders for user 10
2025-06-28 23:33:15,215 - INFO - orders - Updated static orders cache for user 10 with 1 open orders and 0 pending orders
2025-06-28 23:33:18,100 - INFO - orders - Order placement request received - User ID: 10, Symbol: AUDCAD, Type: SELL, Quantity: 0.01
2025-06-28 23:33:18,138 - INFO - orders - [DEBUG] db_group_result fetched from DB: [<app.database.models.Group object at 0x00000208BD8D29C0>, <app.database.models.Group object at 0x00000208BD8D3CE0>, <app.database.models.Group object at 0x00000208BD8D3DF0>, <app.database.models.Group object at 0x00000208BD8D3F00>, <app.database.models.Group object at 0x00000208BD8D05A0>, <app.database.models.Group object at 0x00000208BD8D0F30>, <app.database.models.Group object at 0x00000208BD8D07C0>, <app.database.models.Group object at 0x00000208BD8D0380>, <app.database.models.Group object at 0x00000208BD8D19D0>, <app.database.models.Group object at 0x00000208BD8D2F10>, <app.database.models.Group object at 0x00000208BD8D3790>, <app.database.models.Group object at 0x00000208BD8D2AD0>, <app.database.models.Group object at 0x00000208BDA7D590>, <app.database.models.Group object at 0x00000208BDA7D370>, <app.database.models.Group object at 0x00000208BDA7F8A0>, <app.database.models.Group object at 0x00000208BDA7D150>, <app.database.models.Group object at 0x00000208BDA7CAF0>, <app.database.models.Group object at 0x00000208BDA7D260>, <app.database.models.Group object at 0x00000208BDA7F570>, <app.database.models.Group object at 0x00000208BDA7FCE0>, <app.database.models.Group object at 0x00000208BDA7E690>, <app.database.models.Group object at 0x00000208BDAD9D00>, <app.database.models.Group object at 0x00000208BDADB130>, <app.database.models.Group object at 0x00000208BDADABE0>, <app.database.models.Group object at 0x00000208BDADAE00>, <app.database.models.Group object at 0x00000208BDADA360>, <app.database.models.Group object at 0x00000208BDAD8050>, <app.database.models.Group object at 0x00000208BDAD97B0>, <app.database.models.Group object at 0x00000208BDAD88D0>, <app.database.models.Group object at 0x00000208BDAD9F20>, <app.database.models.Group object at 0x00000208BDAD86B0>, <app.database.models.Group object at 0x00000208BDADA8B0>, <app.database.models.Group object at 0x00000208BDADA690>, <app.database.models.Group object at 0x00000208BDAD8490>, <app.database.models.Group object at 0x00000208BDAD8380>, <app.database.models.Group object at 0x00000208BDADA580>, <app.database.models.Group object at 0x00000208BDADA250>, <app.database.models.Group object at 0x00000208BDAD8160>, <app.database.models.Group object at 0x00000208BDADA470>, <app.database.models.Group object at 0x00000208BDADA030>, <app.database.models.Group object at 0x00000208BDADAAD0>, <app.database.models.Group object at 0x00000208BDADB240>, <app.database.models.Group object at 0x00000208BDADB350>, <app.database.models.Group object at 0x00000208BDADB460>, <app.database.models.Group object at 0x00000208BDADB570>, <app.database.models.Group object at 0x00000208BDADB680>, <app.database.models.Group object at 0x00000208BDADB790>, <app.database.models.Group object at 0x00000208BDADB8A0>, <app.database.models.Group object at 0x00000208BDADB9B0>, <app.database.models.Group object at 0x00000208BDADBAC0>, <app.database.models.Group object at 0x00000208BDADBBD0>, <app.database.models.Group object at 0x00000208BDADBCE0>, <app.database.models.Group object at 0x00000208BDADBDF0>, <app.database.models.Group object at 0x00000208BDADBF00>, <app.database.models.Group object at 0x00000208BDAD9260>, <app.database.models.Group object at 0x00000208BDAD99D0>, <app.database.models.Group object at 0x00000208BDAD8E20>, <app.database.models.Group object at 0x00000208BDAD9BF0>, <app.database.models.Group object at 0x00000208BDAD8D10>, <app.database.models.Group object at 0x00000208BDAD9370>, <app.database.models.Group object at 0x00000208BDAD89E0>, <app.database.models.Group object at 0x00000208BDAD8AF0>, <app.database.models.Group object at 0x00000208BDAD8C00>, <app.database.models.Group object at 0x00000208BDADA7A0>, <app.database.models.Group object at 0x00000208BDADB020>, <app.database.models.Group object at 0x00000208BDAD9480>, <app.database.models.Group object at 0x00000208BDADA9C0>, <app.database.models.Group object at 0x00000208BDAD87C0>, <app.database.models.Group object at 0x00000208BDADAF10>, <app.database.models.Group object at 0x00000208BDADA140>, <app.database.models.Group object at 0x00000208BDAD85A0>, <app.database.models.Group object at 0x00000208BDCEFAC0>, <app.database.models.Group object at 0x00000208BDCEF790>, <app.database.models.Group object at 0x00000208BDCEC270>, <app.database.models.Group object at 0x00000208BDCEF9B0>, <app.database.models.Group object at 0x00000208BDCED370>, <app.database.models.Group object at 0x00000208BDCEC490>, <app.database.models.Group object at 0x00000208BDCEF8A0>, <app.database.models.Group object at 0x00000208BDCECE20>]
2025-06-28 23:33:18,139 - INFO - orders - [DEBUG] Number of group records found: 79
2025-06-28 23:33:18,139 - INFO - orders - [DEBUG] sending_orders_cache extracted from DB: barclays
2025-06-28 23:33:18,139 - INFO - orders - [DEBUG] group_settings_cache: None
2025-06-28 23:33:18,139 - INFO - orders - [DEBUG] sending_orders_cache value: barclays (type: <class 'str'>)
2025-06-28 23:33:18,140 - INFO - orders - Order placement: user_id=10, is_barclays_live_user=False, user_type=demo, group_name=Group B, sending_orders_setting=barclays
2025-06-28 23:33:18,920 - INFO - orders - [ORDER_MARGIN_CALC] Calculating margin for AUDCAD SELL order, quantity: 0.01
2025-06-28 23:33:18,921 - INFO - orders - [ORDER_MARGIN_CALC] Contract size for AUDCAD: 100000.00000000 (raw: 100000.00000000, type: <class 'decimal.Decimal'>)
2025-06-28 23:33:18,922 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=9, user_type=live, group_name=Group B, free_margin=7986.893521981114376836970796, margin_level=123164.6151306797284566559445, balance=8445.00000000, equity=7993.383521981114376836970796
2025-06-28 23:33:18,923 - INFO - orders - [ORDER_MARGIN_CALC] Got SELL price for AUDCAD from cache: 0.8927500000
2025-06-28 23:33:18,923 - INFO - orders - [ORDER_MARGIN_CALC] Contract value calculation for AUDCAD:
2025-06-28 23:33:18,923 - INFO - orders - [ORDER_MARGIN_CALC] Contract value = quantity * contract_size = 0.01 * 100000.00000000 = 1000.0000000000
2025-06-28 23:33:18,923 - INFO - orders - [ORDER_MARGIN_CALC] Margin calculation: (contract_value * price) / leverage = (1000.0000000000 * 0.8927500000) / 100.00 = 8.927500000000000000 (rounded to 8.93)
2025-06-28 23:33:18,923 - INFO - orders - [ORDER_MARGIN_CALC] Commission settings for AUDCAD: type=0, value_type=0, rate=10.0000
2025-06-28 23:33:18,923 - INFO - orders - [ORDER_MARGIN_CALC] Per lot commission: 0.01 * 10.0000 = 0.100000
2025-06-28 23:33:18,923 - INFO - orders - [ORDER_MARGIN_CALC] Profit currency for AUDCAD: CAD
2025-06-28 23:33:18,923 - INFO - orders - [ORDER_MARGIN_CALC] Converting margin from CAD to USD: 8.93 CAD
2025-06-28 23:33:18,924 - INFO - orders - [CURRENCY_CONVERT] Starting conversion of 8.93 CAD to USD for margin for AUDCAD SELL order (user_id: 10, position: )
2025-06-28 23:33:18,924 - INFO - orders - [CURRENCY_CONVERT] Trying direct conversion with symbol: CADUSD
2025-06-28 23:33:18,926 - INFO - orders - [CURRENCY_CONVERT] Direct conversion prices from cache: None
2025-06-28 23:33:18,926 - INFO - orders - [CURRENCY_CONVERT] No direct conversion rate found for CADUSD, trying inverse
2025-06-28 23:33:18,926 - INFO - orders - [CURRENCY_CONVERT] Trying inverse conversion with symbol: USDCAD
2025-06-28 23:33:18,928 - INFO - orders - [CURRENCY_CONVERT] Inverse conversion prices from cache: {'b': Decimal('1.3655100000'), 'o': Decimal('1.3654900000')}
2025-06-28 23:33:18,928 - INFO - orders - [CURRENCY_CONVERT] Found inverse conversion rate (bid): 1.3655100000
2025-06-28 23:33:18,928 - INFO - orders - [CURRENCY_CONVERT] Inverse conversion successful: 8.93 CAD / 1.3655100000 = 6.539681144773747537550072867 USD
2025-06-28 23:33:18,928 - INFO - orders - [ORDER_MARGIN_CALC] Margin after USD conversion: 8.93 CAD -> 6.539681144773747537550072867 USD
2025-06-28 23:33:18,928 - INFO - orders - [ORDER_MARGIN_CALC] Final results for AUDCAD SELL: margin=6.539681144773747537550072867, price=0.8927500000, contract_value=1000.0000000000, commission=0.10
2025-06-28 23:33:18,928 - app.services.order_processing - INFO - [COMMISSION_CALC] User 10 Symbol AUDCAD: Calculated commission=0.10
2025-06-28 23:33:18,936 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_ENTRY] User 10, Symbol AUDCAD, Positions count: 1
2025-06-28 23:33:18,936 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_POS_DETAIL] User 10, Symbol AUDCAD, Pos 1 (ID: 396): Type=BUY, Qty=0.01000000, StoredMargin=6.54700442
2025-06-28 23:33:18,936 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_POS_DETAIL] User 10, Symbol AUDCAD, Pos 1: MarginPerLot=654.700442
2025-06-28 23:33:18,936 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_CALC] User 10, Symbol AUDCAD: TotalBuyQty=0.01000000, TotalSellQty=0, NetQty=0.01000000
2025-06-28 23:33:18,936 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_CALC] User 10, Symbol AUDCAD: AllMarginsPerLot=[Decimal('654.700442')], HighestMarginPerLot=654.700442
2025-06-28 23:33:18,936 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_EXIT] User 10, Symbol AUDCAD: CalculatedTotalMargin=6.55, ContributingOrders=1 (based on individual stored margins)
2025-06-28 23:33:18,936 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_ENTRY] User 10, Symbol AUDCAD, Positions count: 2
2025-06-28 23:33:18,937 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_POS_DETAIL] User 10, Symbol AUDCAD, Pos 1 (ID: 396): Type=BUY, Qty=0.01000000, StoredMargin=6.54700442
2025-06-28 23:33:18,937 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_POS_DETAIL] User 10, Symbol AUDCAD, Pos 1: MarginPerLot=654.700442
2025-06-28 23:33:18,937 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_POS_DETAIL] User 10, Symbol AUDCAD, Pos 2 (ID: None): Type=SELL, Qty=0.01, StoredMargin=6.539681144773747537550072867
2025-06-28 23:33:18,937 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_POS_DETAIL] User 10, Symbol AUDCAD, Pos 2: MarginPerLot=653.9681144773747537550072867
2025-06-28 23:33:18,937 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_CALC] User 10, Symbol AUDCAD: TotalBuyQty=0.01000000, TotalSellQty=0.01, NetQty=0.01000000
2025-06-28 23:33:18,937 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_CALC] User 10, Symbol AUDCAD: AllMarginsPerLot=[Decimal('654.700442'), Decimal('653.9681144773747537550072867')], HighestMarginPerLot=654.700442
2025-06-28 23:33:18,937 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_EXIT] User 10, Symbol AUDCAD: CalculatedTotalMargin=6.55, ContributingOrders=2 (based on individual stored margins)
2025-06-28 23:33:18,937 - app.services.order_processing - INFO - [MARGIN_PROCESS] User 10 Symbol AUDCAD: MarginBefore=6.55, MarginAfter=6.55, AdditionalMargin=0.00
2025-06-28 23:33:18,937 - app.services.order_processing - INFO - [MARGIN_PROCESS_DEBUG] User 10 Symbol AUDCAD
2025-06-28 23:33:18,937 - app.services.order_processing - INFO - [MARGIN_PROCESS_DEBUG] Full margin for this order: 6.539681144773747537550072867
2025-06-28 23:33:18,937 - app.services.order_processing - INFO - [MARGIN_PROCESS_DEBUG] Existing open orders count: 1
2025-06-28 23:33:18,938 - app.services.order_processing - INFO - [MARGIN_PROCESS_DEBUG] Total margin before: 6.55
2025-06-28 23:33:18,938 - app.services.order_processing - INFO - [MARGIN_PROCESS_DEBUG] Total margin after: 6.55
2025-06-28 23:33:18,938 - app.services.order_processing - INFO - [MARGIN_PROCESS_DEBUG] Additional margin needed: 0.0
2025-06-28 23:33:18,949 - app.services.order_processing - INFO - [MARGIN_PROCESS] User 10: OriginalMarginDB=6.55000000, CalculatedNewMargin=6.55
2025-06-28 23:33:18,986 - INFO - orders - [PRE-CRUD] About to call create_order with: {'order_id': '2371146888', 'order_status': 'OPEN', 'order_user_id': 10, 'order_company_name': 'AUDCAD', 'order_type': 'SELL', 'order_price': Decimal('0.8927500000'), 'order_quantity': Decimal('0.01'), 'contract_value': Decimal('1000.0000000000'), 'margin': Decimal('6.539681144773747537550072867'), 'commission': Decimal('0.10'), 'stop_loss': None, 'take_profit': None, 'stoploss_id': None, 'takeprofit_id': None, 'status': 'OPEN'}
2025-06-28 23:33:19,045 - INFO - orders - [MARGIN_COMMIT_CHECK] User 10 margin in session BEFORE commit: 6.55000000
2025-06-28 23:33:19,074 - INFO - orders - User data cache updated for user 10 after placing order
2025-06-28 23:33:19,769 - INFO - orders - Portfolio cache updated and websocket event published for user 10 after placing order.
2025-06-28 23:33:19,781 - INFO - orders - Starting update_user_static_orders for user 10, user_type demo
2025-06-28 23:33:19,781 - INFO - orders - Using order model: DemoUserOrder
2025-06-28 23:33:19,810 - INFO - orders - Fetched 2 open orders for user 10
2025-06-28 23:33:19,838 - INFO - orders - Fetched 0 pending orders for user 10
2025-06-28 23:33:19,863 - INFO - orders - Updated static orders cache for user 10 with 2 open orders and 0 pending orders
2025-06-28 23:33:20,263 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=10, user_type=demo, group_name=Group B, free_margin=74.34299317640526600330221073, margin_level=1235.007529410767419897743675, balance=82.14000000, equity=80.89299317640526600330221073
2025-06-28 23:33:22,666 - INFO - orders - Order placement request received - User ID: 10, Symbol: AUDCAD, Type: BUY, Quantity: 0.01
2025-06-28 23:33:22,716 - INFO - orders - [DEBUG] db_group_result fetched from DB: [<app.database.models.Group object at 0x00000208BDAD8050>, <app.database.models.Group object at 0x00000208BDAD97B0>, <app.database.models.Group object at 0x00000208BDAD88D0>, <app.database.models.Group object at 0x00000208BDAD9F20>, <app.database.models.Group object at 0x00000208BDAD86B0>, <app.database.models.Group object at 0x00000208BDADA8B0>, <app.database.models.Group object at 0x00000208BDADA690>, <app.database.models.Group object at 0x00000208BDAD8490>, <app.database.models.Group object at 0x00000208BDAD8380>, <app.database.models.Group object at 0x00000208BDADA580>, <app.database.models.Group object at 0x00000208BDADA250>, <app.database.models.Group object at 0x00000208BDAD8160>, <app.database.models.Group object at 0x00000208BDADA470>, <app.database.models.Group object at 0x00000208BDADA030>, <app.database.models.Group object at 0x00000208BDADAAD0>, <app.database.models.Group object at 0x00000208BDADB240>, <app.database.models.Group object at 0x00000208BDADB350>, <app.database.models.Group object at 0x00000208BDADB460>, <app.database.models.Group object at 0x00000208BDADB570>, <app.database.models.Group object at 0x00000208BDADB680>, <app.database.models.Group object at 0x00000208BDADB790>, <app.database.models.Group object at 0x00000208BDADB8A0>, <app.database.models.Group object at 0x00000208BDADB9B0>, <app.database.models.Group object at 0x00000208BDADBAC0>, <app.database.models.Group object at 0x00000208BDADBBD0>, <app.database.models.Group object at 0x00000208BDADBCE0>, <app.database.models.Group object at 0x00000208BDADBDF0>, <app.database.models.Group object at 0x00000208BDADBF00>, <app.database.models.Group object at 0x00000208BDAD9260>, <app.database.models.Group object at 0x00000208BDAD99D0>, <app.database.models.Group object at 0x00000208BDAD8E20>, <app.database.models.Group object at 0x00000208BDAD9BF0>, <app.database.models.Group object at 0x00000208BDAD8D10>, <app.database.models.Group object at 0x00000208BDAD9370>, <app.database.models.Group object at 0x00000208BDAD89E0>, <app.database.models.Group object at 0x00000208BDAD8AF0>, <app.database.models.Group object at 0x00000208BDAD8C00>, <app.database.models.Group object at 0x00000208BDADA7A0>, <app.database.models.Group object at 0x00000208BDADB020>, <app.database.models.Group object at 0x00000208BDAD9480>, <app.database.models.Group object at 0x00000208BDADA9C0>, <app.database.models.Group object at 0x00000208BDAD87C0>, <app.database.models.Group object at 0x00000208BDADAF10>, <app.database.models.Group object at 0x00000208BDADA140>, <app.database.models.Group object at 0x00000208BDAD85A0>, <app.database.models.Group object at 0x00000208BD8D2140>, <app.database.models.Group object at 0x00000208BD8D2E00>, <app.database.models.Group object at 0x00000208BD8D1F20>, <app.database.models.Group object at 0x00000208BD8D3570>, <app.database.models.Group object at 0x00000208BD8D2580>, <app.database.models.Group object at 0x00000208BD8D27A0>, <app.database.models.Group object at 0x00000208BD8D3020>, <app.database.models.Group object at 0x00000208BD8D28B0>, <app.database.models.Group object at 0x00000208BD8D3AC0>, <app.database.models.Group object at 0x00000208BD8D3680>, <app.database.models.Group object at 0x00000208BD8D2690>, <app.database.models.Group object at 0x00000208BD8D39B0>, <app.database.models.Group object at 0x00000208BD8D1BF0>, <app.database.models.Group object at 0x00000208BD8D38A0>, <app.database.models.Group object at 0x00000208BD8D3130>, <app.database.models.Group object at 0x00000208BD8D2360>, <app.database.models.Group object at 0x00000208BD8D06B0>, <app.database.models.Group object at 0x00000208BD8D3BD0>, <app.database.models.Group object at 0x00000208BD8D2BE0>, <app.database.models.Group object at 0x00000208BD8D29C0>, <app.database.models.Group object at 0x00000208BD8D3CE0>, <app.database.models.Group object at 0x00000208BD8D3DF0>, <app.database.models.Group object at 0x00000208BD8D3F00>, <app.database.models.Group object at 0x00000208BD8D05A0>, <app.database.models.Group object at 0x00000208BD8D0F30>, <app.database.models.Group object at 0x00000208BD8D07C0>, <app.database.models.Group object at 0x00000208BD8D0380>, <app.database.models.Group object at 0x00000208BD8D19D0>, <app.database.models.Group object at 0x00000208BD8D2F10>, <app.database.models.Group object at 0x00000208BD8D3790>, <app.database.models.Group object at 0x00000208BD8D2AD0>, <app.database.models.Group object at 0x00000208BD8D2030>, <app.database.models.Group object at 0x00000208BDCEC380>, <app.database.models.Group object at 0x00000208BDCEC7C0>]
2025-06-28 23:33:22,716 - INFO - orders - [DEBUG] Number of group records found: 79
2025-06-28 23:33:22,716 - INFO - orders - [DEBUG] sending_orders_cache extracted from DB: barclays
2025-06-28 23:33:22,717 - INFO - orders - [DEBUG] group_settings_cache: None
2025-06-28 23:33:22,717 - INFO - orders - [DEBUG] sending_orders_cache value: barclays (type: <class 'str'>)
2025-06-28 23:33:22,717 - INFO - orders - Order placement: user_id=10, is_barclays_live_user=False, user_type=demo, group_name=Group B, sending_orders_setting=barclays
2025-06-28 23:33:23,037 - INFO - orders - [ORDER_MARGIN_CALC] Calculating margin for AUDCAD BUY order, quantity: 0.01
2025-06-28 23:33:23,037 - INFO - orders - [ORDER_MARGIN_CALC] Contract size for AUDCAD: 100000.00000000 (raw: 100000.00000000, type: <class 'decimal.Decimal'>)
2025-06-28 23:33:23,038 - INFO - orders - [ORDER_MARGIN_CALC] Got BUY price for AUDCAD from cache: 0.8943200000
2025-06-28 23:33:23,038 - INFO - orders - [ORDER_MARGIN_CALC] Contract value calculation for AUDCAD:
2025-06-28 23:33:23,038 - INFO - orders - [ORDER_MARGIN_CALC] Contract value = quantity * contract_size = 0.01 * 100000.00000000 = 1000.0000000000
2025-06-28 23:33:23,038 - INFO - orders - [ORDER_MARGIN_CALC] Margin calculation: (contract_value * price) / leverage = (1000.0000000000 * 0.8943200000) / 100.00 = 8.943200000000000000 (rounded to 8.94)
2025-06-28 23:33:23,038 - INFO - orders - [ORDER_MARGIN_CALC] Commission settings for AUDCAD: type=0, value_type=0, rate=10.0000
2025-06-28 23:33:23,038 - INFO - orders - [ORDER_MARGIN_CALC] Per lot commission: 0.01 * 10.0000 = 0.100000
2025-06-28 23:33:23,039 - INFO - orders - [ORDER_MARGIN_CALC] Profit currency for AUDCAD: CAD
2025-06-28 23:33:23,039 - INFO - orders - [ORDER_MARGIN_CALC] Converting margin from CAD to USD: 8.94 CAD
2025-06-28 23:33:23,039 - INFO - orders - [CURRENCY_CONVERT] Starting conversion of 8.94 CAD to USD for margin for AUDCAD BUY order (user_id: 10, position: )
2025-06-28 23:33:23,039 - INFO - orders - [CURRENCY_CONVERT] Trying direct conversion with symbol: CADUSD
2025-06-28 23:33:23,040 - INFO - orders - [CURRENCY_CONVERT] Direct conversion prices from cache: None
2025-06-28 23:33:23,041 - INFO - orders - [CURRENCY_CONVERT] No direct conversion rate found for CADUSD, trying inverse
2025-06-28 23:33:23,041 - INFO - orders - [CURRENCY_CONVERT] Trying inverse conversion with symbol: USDCAD
2025-06-28 23:33:23,043 - INFO - orders - [CURRENCY_CONVERT] Inverse conversion prices from cache: {'b': Decimal('1.3655100000'), 'o': Decimal('1.3654900000')}
2025-06-28 23:33:23,043 - INFO - orders - [CURRENCY_CONVERT] Found inverse conversion rate (bid): 1.3655100000
2025-06-28 23:33:23,044 - INFO - orders - [CURRENCY_CONVERT] Inverse conversion successful: 8.94 CAD / 1.3655100000 = 6.547004415932508733000856823 USD
2025-06-28 23:33:23,044 - INFO - orders - [ORDER_MARGIN_CALC] Margin after USD conversion: 8.94 CAD -> 6.547004415932508733000856823 USD
2025-06-28 23:33:23,044 - INFO - orders - [ORDER_MARGIN_CALC] Final results for AUDCAD BUY: margin=6.547004415932508733000856823, price=0.8943200000, contract_value=1000.0000000000, commission=0.10
2025-06-28 23:33:23,044 - app.services.order_processing - INFO - [COMMISSION_CALC] User 10 Symbol AUDCAD: Calculated commission=0.10
2025-06-28 23:33:23,054 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_ENTRY] User 10, Symbol AUDCAD, Positions count: 2
2025-06-28 23:33:23,054 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_POS_DETAIL] User 10, Symbol AUDCAD, Pos 1 (ID: 396): Type=BUY, Qty=0.01000000, StoredMargin=6.54700442
2025-06-28 23:33:23,054 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_POS_DETAIL] User 10, Symbol AUDCAD, Pos 1: MarginPerLot=654.700442
2025-06-28 23:33:23,054 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_POS_DETAIL] User 10, Symbol AUDCAD, Pos 2 (ID: 397): Type=SELL, Qty=0.01000000, StoredMargin=6.53968114
2025-06-28 23:33:23,055 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_POS_DETAIL] User 10, Symbol AUDCAD, Pos 2: MarginPerLot=653.968114
2025-06-28 23:33:23,055 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_CALC] User 10, Symbol AUDCAD: TotalBuyQty=0.01000000, TotalSellQty=0.01000000, NetQty=0.01000000
2025-06-28 23:33:23,055 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_CALC] User 10, Symbol AUDCAD: AllMarginsPerLot=[Decimal('654.700442'), Decimal('653.968114')], HighestMarginPerLot=654.700442
2025-06-28 23:33:23,055 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_EXIT] User 10, Symbol AUDCAD: CalculatedTotalMargin=6.55, ContributingOrders=2 (based on individual stored margins)
2025-06-28 23:33:23,055 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_ENTRY] User 10, Symbol AUDCAD, Positions count: 3
2025-06-28 23:33:23,055 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_POS_DETAIL] User 10, Symbol AUDCAD, Pos 1 (ID: 396): Type=BUY, Qty=0.01000000, StoredMargin=6.54700442
2025-06-28 23:33:23,056 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_POS_DETAIL] User 10, Symbol AUDCAD, Pos 1: MarginPerLot=654.700442
2025-06-28 23:33:23,056 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_POS_DETAIL] User 10, Symbol AUDCAD, Pos 2 (ID: 397): Type=SELL, Qty=0.01000000, StoredMargin=6.53968114
2025-06-28 23:33:23,058 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_POS_DETAIL] User 10, Symbol AUDCAD, Pos 2: MarginPerLot=653.968114
2025-06-28 23:33:23,061 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_POS_DETAIL] User 10, Symbol AUDCAD, Pos 3 (ID: None): Type=BUY, Qty=0.01, StoredMargin=6.547004415932508733000856823
2025-06-28 23:33:23,062 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_POS_DETAIL] User 10, Symbol AUDCAD, Pos 3: MarginPerLot=654.7004415932508733000856823
2025-06-28 23:33:23,062 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_CALC] User 10, Symbol AUDCAD: TotalBuyQty=0.02000000, TotalSellQty=0.01000000, NetQty=0.02000000
2025-06-28 23:33:23,062 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_CALC] User 10, Symbol AUDCAD: AllMarginsPerLot=[Decimal('654.700442'), Decimal('653.968114'), Decimal('654.7004415932508733000856823')], HighestMarginPerLot=654.700442
2025-06-28 23:33:23,063 - app.services.order_processing - DEBUG - [MARGIN_TOTAL_CONTRIB_EXIT] User 10, Symbol AUDCAD: CalculatedTotalMargin=13.09, ContributingOrders=3 (based on individual stored margins)
2025-06-28 23:33:23,064 - app.services.order_processing - INFO - [MARGIN_PROCESS] User 10 Symbol AUDCAD: MarginBefore=6.55, MarginAfter=13.09, AdditionalMargin=6.54
2025-06-28 23:33:23,064 - app.services.order_processing - INFO - [MARGIN_PROCESS_DEBUG] User 10 Symbol AUDCAD
2025-06-28 23:33:23,064 - app.services.order_processing - INFO - [MARGIN_PROCESS_DEBUG] Full margin for this order: 6.547004415932508733000856823
2025-06-28 23:33:23,064 - app.services.order_processing - INFO - [MARGIN_PROCESS_DEBUG] Existing open orders count: 2
2025-06-28 23:33:23,065 - app.services.order_processing - INFO - [MARGIN_PROCESS_DEBUG] Total margin before: 6.55
2025-06-28 23:33:23,065 - app.services.order_processing - INFO - [MARGIN_PROCESS_DEBUG] Total margin after: 13.09
2025-06-28 23:33:23,065 - app.services.order_processing - INFO - [MARGIN_PROCESS_DEBUG] Additional margin needed: 6.54
2025-06-28 23:33:23,101 - app.services.order_processing - INFO - [MARGIN_PROCESS] User 10: OriginalMarginDB=6.55000000, CalculatedNewMargin=13.09
2025-06-28 23:33:23,328 - INFO - orders - [PRE-CRUD] About to call create_order with: {'order_id': '3305059370', 'order_status': 'OPEN', 'order_user_id': 10, 'order_company_name': 'AUDCAD', 'order_type': 'BUY', 'order_price': Decimal('0.8943200000'), 'order_quantity': Decimal('0.01'), 'contract_value': Decimal('1000.0000000000'), 'margin': Decimal('6.547004415932508733000856823'), 'commission': Decimal('0.10'), 'stop_loss': None, 'take_profit': None, 'stoploss_id': None, 'takeprofit_id': None, 'status': 'OPEN'}
2025-06-28 23:33:23,382 - INFO - orders - [MARGIN_COMMIT_CHECK] User 10 margin in session BEFORE commit: 13.09000000
2025-06-28 23:33:23,409 - INFO - orders - User data cache updated for user 10 after placing order
2025-06-28 23:33:23,957 - INFO - orders - Portfolio cache updated and websocket event published for user 10 after placing order.
2025-06-28 23:33:23,959 - INFO - orders - Starting update_user_static_orders for user 10, user_type demo
2025-06-28 23:33:23,960 - INFO - orders - Using order model: DemoUserOrder
2025-06-28 23:33:23,993 - INFO - orders - Fetched 3 open orders for user 10
2025-06-28 23:33:24,033 - INFO - orders - Fetched 0 pending orders for user 10
2025-06-28 23:33:24,058 - INFO - orders - Updated static orders cache for user 10 with 3 open orders and 0 pending orders
2025-06-28 23:34:18,438 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=9, user_type=live, group_name=Group B, free_margin=7987.831549621662184979050716, margin_level=123179.0685611966438363490095, balance=8445.00000000, equity=7994.321549621662184979050716
2025-06-28 23:34:19,208 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=10, user_type=demo, group_name=Group B, free_margin=66.71899428688320986571983810, margin_level=609.6943795789397239550789771, balance=82.14000000, equity=79.80899428688320986571983810
2025-06-28 23:35:18,306 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=9, user_type=live, group_name=Group B, free_margin=7987.831549621662184979050716, margin_level=123179.0685611966438363490095, balance=8445.00000000, equity=7994.321549621662184979050716
2025-06-28 23:35:18,938 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=10, user_type=demo, group_name=Group B, free_margin=66.71899428688320986571983810, margin_level=609.6943795789397239550789771, balance=82.14000000, equity=79.80899428688320986571983810
2025-06-28 23:36:18,444 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=9, user_type=live, group_name=Group B, free_margin=7987.831549621662184979050716, margin_level=123179.0685611966438363490095, balance=8445.00000000, equity=7994.321549621662184979050716
2025-06-28 23:36:19,068 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=10, user_type=demo, group_name=Group B, free_margin=66.71899428688320986571983810, margin_level=609.6943795789397239550789771, balance=82.14000000, equity=79.80899428688320986571983810
2025-06-28 23:37:18,200 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=9, user_type=live, group_name=Group B, free_margin=7987.831549621662184979050716, margin_level=123179.0685611966438363490095, balance=8445.00000000, equity=7994.321549621662184979050716
2025-06-28 23:37:18,844 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=10, user_type=demo, group_name=Group B, free_margin=66.71899428688320986571983810, margin_level=609.6943795789397239550789771, balance=82.14000000, equity=79.80899428688320986571983810
2025-06-28 23:38:18,284 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=9, user_type=live, group_name=Group B, free_margin=7987.831549621662184979050716, margin_level=123179.0685611966438363490095, balance=8445.00000000, equity=7994.321549621662184979050716
2025-06-28 23:38:18,956 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=10, user_type=demo, group_name=Group B, free_margin=66.71899428688320986571983810, margin_level=609.6943795789397239550789771, balance=82.14000000, equity=79.80899428688320986571983810
2025-06-28 23:39:18,572 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=9, user_type=live, group_name=Group B, free_margin=7987.831549621662184979050716, margin_level=123179.0685611966438363490095, balance=8445.00000000, equity=7994.321549621662184979050716
2025-06-28 23:39:19,278 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=10, user_type=demo, group_name=Group B, free_margin=66.71899428688320986571983810, margin_level=609.6943795789397239550789771, balance=82.14000000, equity=79.80899428688320986571983810
2025-06-28 23:40:18,235 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=9, user_type=live, group_name=Group B, free_margin=7987.831549621662184979050716, margin_level=123179.0685611966438363490095, balance=8445.00000000, equity=7994.321549621662184979050716
2025-06-28 23:40:18,862 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=10, user_type=demo, group_name=Group B, free_margin=66.71899428688320986571983810, margin_level=609.6943795789397239550789771, balance=82.14000000, equity=79.80899428688320986571983810
2025-06-28 23:41:18,260 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=9, user_type=live, group_name=Group B, free_margin=7987.831549621662184979050716, margin_level=123179.0685611966438363490095, balance=8445.00000000, equity=7994.321549621662184979050716
2025-06-28 23:41:18,994 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=10, user_type=demo, group_name=Group B, free_margin=66.71899428688320986571983810, margin_level=609.6943795789397239550789771, balance=82.14000000, equity=79.80899428688320986571983810
2025-06-28 23:42:18,361 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=9, user_type=live, group_name=Group B, free_margin=7987.831549621662184979050716, margin_level=123179.0685611966438363490095, balance=8445.00000000, equity=7994.321549621662184979050716
2025-06-28 23:42:19,001 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=10, user_type=demo, group_name=Group B, free_margin=66.71899428688320986571983810, margin_level=609.6943795789397239550789771, balance=82.14000000, equity=79.80899428688320986571983810
2025-06-28 23:43:18,273 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=9, user_type=live, group_name=Group B, free_margin=7987.831549621662184979050716, margin_level=123179.0685611966438363490095, balance=8445.00000000, equity=7994.321549621662184979050716
2025-06-28 23:43:18,887 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=10, user_type=demo, group_name=Group B, free_margin=66.71899428688320986571983810, margin_level=609.6943795789397239550789771, balance=82.14000000, equity=79.80899428688320986571983810
2025-06-28 23:44:18,293 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=9, user_type=live, group_name=Group B, free_margin=7987.831549621662184979050716, margin_level=123179.0685611966438363490095, balance=8445.00000000, equity=7994.321549621662184979050716
2025-06-28 23:44:18,996 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=10, user_type=demo, group_name=Group B, free_margin=66.71899428688320986571983810, margin_level=609.6943795789397239550789771, balance=82.14000000, equity=79.80899428688320986571983810
2025-06-28 23:45:18,385 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=9, user_type=live, group_name=Group B, free_margin=7987.831549621662184979050716, margin_level=123179.0685611966438363490095, balance=8445.00000000, equity=7994.321549621662184979050716
2025-06-28 23:45:19,104 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=10, user_type=demo, group_name=Group B, free_margin=66.71899428688320986571983810, margin_level=609.6943795789397239550789771, balance=82.14000000, equity=79.80899428688320986571983810
2025-06-28 23:46:18,291 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=9, user_type=live, group_name=Group B, free_margin=7987.831549621662184979050716, margin_level=123179.0685611966438363490095, balance=8445.00000000, equity=7994.321549621662184979050716
2025-06-28 23:46:18,989 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=10, user_type=demo, group_name=Group B, free_margin=66.71899428688320986571983810, margin_level=609.6943795789397239550789771, balance=82.14000000, equity=79.80899428688320986571983810
2025-06-28 23:47:18,231 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=9, user_type=live, group_name=Group B, free_margin=7987.831549621662184979050716, margin_level=123179.0685611966438363490095, balance=8445.00000000, equity=7994.321549621662184979050716
2025-06-28 23:47:18,840 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=10, user_type=demo, group_name=Group B, free_margin=66.71899428688320986571983810, margin_level=609.6943795789397239550789771, balance=82.14000000, equity=79.80899428688320986571983810
2025-06-28 23:48:18,407 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=9, user_type=live, group_name=Group B, free_margin=7987.831549621662184979050716, margin_level=123179.0685611966438363490095, balance=8445.00000000, equity=7994.321549621662184979050716
2025-06-28 23:48:19,050 - INFO - orders - [PENDING_ORDER_EXECUTION][PORTFOLIO_UPDATE] user_id=10, user_type=demo, group_name=Group B, free_margin=66.71899428688320986571983810, margin_level=609.6943795789397239550789771, balance=82.14000000, equity=79.80899428688320986571983810

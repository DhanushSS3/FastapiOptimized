2025-06-29 21:41:46,971 - database - DEBUG - Creating new database session
2025-06-29 21:41:46,996 - database - ERROR - Error in database session: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 93, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 371, in get_user_from_service_or_user_token
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 98, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 65, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 424, in get_user_from_service_or_user_token
    raise HTTPException(
    ...<3 lines>...
    )
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-29 21:41:47,023 - database - INFO - Session rolled back due to error
2025-06-29 21:41:47,023 - database - DEBUG - Closing database session
2025-06-29 21:41:47,032 - database - DEBUG - Creating new database session
2025-06-29 21:41:47,044 - database - ERROR - Error in database session: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 93, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 371, in get_user_from_service_or_user_token
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 98, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 65, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 424, in get_user_from_service_or_user_token
    raise HTTPException(
    ...<3 lines>...
    )
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-29 21:41:47,066 - database - INFO - Session rolled back due to error
2025-06-29 21:41:47,071 - database - DEBUG - Closing database session
2025-06-29 21:41:47,084 - database - DEBUG - Creating new database session
2025-06-29 21:41:47,100 - database - ERROR - Error in database session: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 93, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 281, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 98, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 65, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 326, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-29 21:41:47,113 - database - INFO - Session rolled back due to error
2025-06-29 21:41:47,113 - database - DEBUG - Closing database session
2025-06-29 21:41:47,125 - database - DEBUG - Creating new database session
2025-06-29 21:41:47,135 - database - ERROR - Error in database session: 401: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 93, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 281, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 98, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 65, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 326, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-06-29 21:41:47,154 - database - INFO - Session rolled back due to error
2025-06-29 21:41:47,154 - database - DEBUG - Closing database session
2025-06-29 21:41:50,403 - database - DEBUG - Creating new database session
2025-06-29 21:41:51,269 - database - DEBUG - Database session used successfully
2025-06-29 21:41:51,270 - database - DEBUG - Closing database session
2025-06-29 21:41:52,370 - database - DEBUG - Creating new database session
2025-06-29 21:41:52,395 - database - DEBUG - Database session used successfully
2025-06-29 21:41:52,398 - database - DEBUG - Closing database session
2025-06-29 21:41:52,418 - database - DEBUG - Creating new database session
2025-06-29 21:41:52,447 - database - DEBUG - Creating new database session
2025-06-29 21:41:52,476 - database - DEBUG - Database session used successfully
2025-06-29 21:41:52,479 - database - DEBUG - Closing database session
2025-06-29 21:41:52,704 - database - DEBUG - Creating new database session
2025-06-29 21:41:52,821 - database - DEBUG - Database session used successfully
2025-06-29 21:41:52,823 - database - DEBUG - Closing database session
2025-06-29 21:41:53,996 - database - DEBUG - Database session used successfully
2025-06-29 21:41:54,001 - database - DEBUG - Closing database session
2025-06-29 21:41:54,047 - database - DEBUG - Creating new database session
2025-06-29 21:41:54,371 - database - DEBUG - Creating new database session
2025-06-29 21:41:55,999 - database - DEBUG - Database session used successfully
2025-06-29 21:41:56,000 - database - DEBUG - Closing database session
2025-06-29 21:41:56,240 - database - DEBUG - Creating new database session
2025-06-29 21:41:56,312 - database - DEBUG - Database session used successfully
2025-06-29 21:41:56,322 - database - DEBUG - Closing database session
2025-06-29 21:42:52,082 - database - DEBUG - Database session used successfully
2025-06-29 21:42:52,082 - database - DEBUG - Closing database session
2025-06-29 21:42:58,677 - database - DEBUG - Creating new database session
2025-06-29 21:42:58,683 - database - DEBUG - Creating new database session
2025-06-29 21:42:58,707 - database - DEBUG - Closing database session
2025-06-29 21:42:58,709 - database - DEBUG - Closing database session
2025-06-29 21:43:03,262 - database - DEBUG - Creating new database session
2025-06-29 21:43:03,266 - database - DEBUG - Creating new database session
2025-06-29 21:43:03,504 - database - DEBUG - Database session used successfully
2025-06-29 21:43:03,505 - database - DEBUG - Closing database session
2025-06-29 21:43:03,518 - database - DEBUG - Database session used successfully
2025-06-29 21:43:03,519 - database - DEBUG - Closing database session
2025-06-29 21:43:03,524 - database - DEBUG - Creating new database session
2025-06-29 21:43:03,537 - database - DEBUG - Database session used successfully
2025-06-29 21:43:03,538 - database - DEBUG - Closing database session
2025-06-29 21:43:03,606 - database - DEBUG - Creating new database session
2025-06-29 21:43:04,126 - database - DEBUG - Database session used successfully
2025-06-29 21:43:04,127 - database - DEBUG - Closing database session
2025-06-29 21:43:04,139 - database - DEBUG - Creating new database session
2025-06-29 21:43:04,477 - database - DEBUG - Creating new database session
2025-06-29 21:43:04,682 - database - DEBUG - Database session used successfully
2025-06-29 21:43:04,682 - database - DEBUG - Closing database session
2025-06-29 21:43:04,695 - database - DEBUG - Creating new database session
2025-06-29 21:43:04,711 - database - DEBUG - Database session used successfully
2025-06-29 21:43:04,712 - database - DEBUG - Closing database session
2025-06-29 21:43:16,268 - database - DEBUG - Database session used successfully
2025-06-29 21:43:16,268 - database - DEBUG - Closing database session
2025-06-29 21:50:44,437 - database - DEBUG - Creating new database session
2025-06-29 21:50:44,441 - database - DEBUG - Creating new database session
2025-06-29 21:50:44,580 - database - DEBUG - Database session used successfully
2025-06-29 21:50:44,580 - database - DEBUG - Closing database session
2025-06-29 21:51:03,435 - database - DEBUG - Creating new database session
2025-06-29 21:51:03,440 - database - ERROR - Error in database session: 500: An error occurred while refreshing token.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 310, in refresh_access_token
     raise HTTPException(
    ...<3 lines>...
    )
fastapi.exceptions.HTTPException: 401: Invalid or expired refresh token

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 65, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 360, in refresh_access_token
    raise HTTPException(
    ...<2 lines>...
    )
fastapi.exceptions.HTTPException: 500: An error occurred while refreshing token.
2025-06-29 21:51:03,442 - database - INFO - Session rolled back due to error
2025-06-29 21:51:03,442 - database - DEBUG - Closing database session
2025-06-29 21:52:01,795 - database - DEBUG - Creating new database session
2025-06-29 21:52:01,804 - database - DEBUG - Database session used successfully
2025-06-29 21:52:01,804 - database - DEBUG - Closing database session
2025-06-29 21:52:39,960 - database - DEBUG - Database session used successfully
2025-06-29 21:52:39,960 - database - DEBUG - Closing database session
2025-06-29 21:58:49,386 - database - DEBUG - Creating new database session
2025-06-29 21:58:50,819 - database - DEBUG - Creating new database session
2025-06-29 21:58:50,829 - database - ERROR - Error in database session: 500: An error occurred while refreshing token.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 310, in refresh_access_token
     raise HTTPException(
    ...<3 lines>...
    )
fastapi.exceptions.HTTPException: 401: Invalid or expired refresh token

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 65, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 360, in refresh_access_token
    raise HTTPException(
    ...<2 lines>...
    )
fastapi.exceptions.HTTPException: 500: An error occurred while refreshing token.
2025-06-29 21:58:50,839 - database - INFO - Session rolled back due to error
2025-06-29 21:58:50,840 - database - DEBUG - Closing database session
2025-06-29 21:59:12,753 - database - DEBUG - Database session used successfully
2025-06-29 21:59:12,753 - database - DEBUG - Closing database session
2025-06-29 21:59:34,401 - database - DEBUG - Creating new database session
2025-06-29 21:59:42,566 - database - DEBUG - Creating new database session
2025-06-29 21:59:42,608 - database - DEBUG - Database session used successfully
2025-06-29 21:59:42,609 - database - DEBUG - Closing database session
2025-06-29 21:59:56,370 - database - DEBUG - Creating new database session
2025-06-29 21:59:56,383 - database - ERROR - Error in database session: 500: An error occurred while refreshing token.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 310, in refresh_access_token
     raise HTTPException(
    ...<3 lines>...
    )
fastapi.exceptions.HTTPException: 401: Invalid or expired refresh token

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 65, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 360, in refresh_access_token
    raise HTTPException(
    ...<2 lines>...
    )
fastapi.exceptions.HTTPException: 500: An error occurred while refreshing token.
2025-06-29 21:59:56,396 - database - INFO - Session rolled back due to error
2025-06-29 21:59:56,397 - database - DEBUG - Closing database session
2025-06-29 22:00:43,397 - database - DEBUG - Creating new database session
2025-06-29 22:00:43,423 - database - DEBUG - Database session used successfully
2025-06-29 22:00:43,424 - database - DEBUG - Closing database session
2025-06-29 22:01:18,491 - database - DEBUG - Creating new database session
2025-06-29 22:01:18,514 - database - DEBUG - Database session used successfully
2025-06-29 22:01:18,516 - database - DEBUG - Closing database session
2025-06-29 22:02:02,371 - database - DEBUG - Creating new database session
2025-06-29 22:02:02,386 - database - DEBUG - Database session used successfully
2025-06-29 22:02:02,386 - database - DEBUG - Closing database session
2025-06-29 22:02:09,481 - database - DEBUG - Database session used successfully
2025-06-29 22:02:09,481 - database - DEBUG - Closing database session
2025-06-29 22:04:23,382 - database - DEBUG - Creating new database session
2025-06-29 22:04:25,779 - database - DEBUG - Creating new database session
2025-06-29 22:04:25,797 - database - ERROR - Error in database session: 500: An error occurred while refreshing token.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 310, in refresh_access_token
     raise HTTPException(
    ...<3 lines>...
    )
fastapi.exceptions.HTTPException: 401: Invalid or expired refresh token

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 65, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 360, in refresh_access_token
    raise HTTPException(
    ...<2 lines>...
    )
fastapi.exceptions.HTTPException: 500: An error occurred while refreshing token.
2025-06-29 22:04:25,806 - database - INFO - Session rolled back due to error
2025-06-29 22:04:25,806 - database - DEBUG - Closing database session
2025-06-29 22:04:35,105 - database - DEBUG - Creating new database session
2025-06-29 22:04:35,220 - database - DEBUG - Database session used successfully
2025-06-29 22:04:35,222 - database - DEBUG - Closing database session
2025-06-29 22:05:08,647 - database - DEBUG - Creating new database session
2025-06-29 22:05:08,659 - database - DEBUG - Database session used successfully
2025-06-29 22:05:08,660 - database - DEBUG - Closing database session
2025-06-29 22:05:22,228 - database - DEBUG - Creating new database session
2025-06-29 22:05:22,233 - database - ERROR - Error in database session: 500: An error occurred while refreshing token.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 310, in refresh_access_token
     raise HTTPException(
    ...<3 lines>...
    )
fastapi.exceptions.HTTPException: 401: Invalid or expired refresh token

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 65, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 360, in refresh_access_token
    raise HTTPException(
    ...<2 lines>...
    )
fastapi.exceptions.HTTPException: 500: An error occurred while refreshing token.
2025-06-29 22:05:22,235 - database - INFO - Session rolled back due to error
2025-06-29 22:05:22,235 - database - DEBUG - Closing database session
2025-06-29 22:05:31,647 - database - DEBUG - Creating new database session
2025-06-29 22:05:31,705 - database - DEBUG - Database session used successfully
2025-06-29 22:05:31,708 - database - DEBUG - Closing database session
2025-06-29 22:05:44,434 - database - DEBUG - Creating new database session
2025-06-29 22:05:45,200 - database - DEBUG - Database session used successfully
2025-06-29 22:05:45,204 - database - DEBUG - Closing database session
2025-06-29 22:05:50,474 - database - DEBUG - Creating new database session
2025-06-29 22:05:50,732 - database - DEBUG - Database session used successfully
2025-06-29 22:05:50,737 - database - DEBUG - Closing database session
2025-06-29 22:06:26,868 - database - DEBUG - Creating new database session
2025-06-29 22:06:26,918 - database - DEBUG - Database session used successfully
2025-06-29 22:06:26,928 - database - DEBUG - Closing database session
2025-06-29 22:06:41,432 - database - DEBUG - Creating new database session
2025-06-29 22:06:41,528 - database - ERROR - Error in database session: 500: An error occurred while refreshing token.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 310, in refresh_access_token
     raise HTTPException(
    ...<3 lines>...
    )
fastapi.exceptions.HTTPException: 401: Invalid or expired refresh token

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 65, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 360, in refresh_access_token
    raise HTTPException(
    ...<2 lines>...
    )
fastapi.exceptions.HTTPException: 500: An error occurred while refreshing token.
2025-06-29 22:06:41,550 - database - INFO - Session rolled back due to error
2025-06-29 22:06:41,553 - database - DEBUG - Closing database session
2025-06-29 22:06:49,568 - database - DEBUG - Creating new database session
2025-06-29 22:06:49,656 - database - DEBUG - Database session used successfully
2025-06-29 22:06:49,658 - database - DEBUG - Closing database session
2025-06-29 22:06:54,496 - database - DEBUG - Creating new database session
2025-06-29 22:06:55,560 - database - DEBUG - Database session used successfully
2025-06-29 22:06:55,563 - database - DEBUG - Closing database session
2025-06-29 22:07:09,519 - database - DEBUG - Creating new database session
2025-06-29 22:07:09,594 - database - DEBUG - Database session used successfully
2025-06-29 22:07:09,595 - database - DEBUG - Closing database session
2025-06-29 22:07:24,683 - database - DEBUG - Creating new database session
2025-06-29 22:07:24,727 - database - ERROR - Error in database session: 500: An error occurred while refreshing token.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 310, in refresh_access_token
     raise HTTPException(
    ...<3 lines>...
    )
fastapi.exceptions.HTTPException: 401: Invalid or expired refresh token

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\database\session.py", line 65, in get_db
    yield session
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\app\api\v1\endpoints\users.py", line 360, in refresh_access_token
    raise HTTPException(
    ...<2 lines>...
    )
fastapi.exceptions.HTTPException: 500: An error occurred while refreshing token.
2025-06-29 22:07:24,746 - database - INFO - Session rolled back due to error
2025-06-29 22:07:24,751 - database - DEBUG - Closing database session
2025-06-29 22:07:26,633 - database - DEBUG - Creating new database session
2025-06-29 22:07:26,747 - database - DEBUG - Database session used successfully
2025-06-29 22:07:26,748 - database - DEBUG - Closing database session
2025-06-29 22:07:26,947 - database - DEBUG - Database session used successfully
2025-06-29 22:07:26,951 - database - DEBUG - Closing database session
2025-06-29 22:07:28,559 - database - DEBUG - Creating new database session
2025-06-29 22:07:29,467 - database - DEBUG - Database session used successfully
2025-06-29 22:07:29,469 - database - DEBUG - Closing database session
2025-06-29 22:07:30,678 - database - DEBUG - Creating new database session
2025-06-29 22:07:30,748 - database - DEBUG - Database session used successfully
2025-06-29 22:07:30,755 - database - DEBUG - Closing database session
2025-06-29 22:07:30,807 - database - DEBUG - Creating new database session
2025-06-29 22:07:30,877 - database - DEBUG - Database session used successfully
2025-06-29 22:07:30,882 - database - DEBUG - Closing database session
2025-06-29 22:07:30,898 - database - DEBUG - Creating new database session
2025-06-29 22:07:32,971 - database - DEBUG - Creating new database session
2025-06-29 22:07:33,159 - database - DEBUG - Database session used successfully
2025-06-29 22:07:33,161 - database - DEBUG - Closing database session
2025-06-29 22:07:33,223 - database - DEBUG - Database session used successfully
2025-06-29 22:07:33,225 - database - DEBUG - Closing database session
2025-06-29 22:07:33,287 - database - DEBUG - Creating new database session
2025-06-29 22:07:33,980 - database - DEBUG - Creating new database session
2025-06-29 22:07:37,332 - database - DEBUG - Creating new database session
2025-06-29 22:07:37,517 - database - DEBUG - Database session used successfully
2025-06-29 22:07:37,527 - database - DEBUG - Closing database session
2025-06-29 22:07:37,820 - database - DEBUG - Database session used successfully
2025-06-29 22:07:37,823 - database - DEBUG - Closing database session
2025-06-29 22:07:37,928 - database - DEBUG - Creating new database session
2025-06-29 22:07:38,097 - database - DEBUG - Database session used successfully
2025-06-29 22:07:38,098 - database - DEBUG - Closing database session
2025-06-29 22:07:47,810 - database - DEBUG - Creating new database session
2025-06-29 22:07:48,405 - database - DEBUG - Database session used successfully
2025-06-29 22:07:48,406 - database - DEBUG - Closing database session
2025-06-29 22:07:58,701 - database - DEBUG - Database session used successfully
2025-06-29 22:07:58,705 - database - DEBUG - Closing database session
